var YA=Object.defineProperty;var XA=(e,t,r)=>t in e?YA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var yf=(e,t,r)=>XA(e,typeof t!="symbol"?t+"":t,r);function QA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W_={exports:{}},td={},K_={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),JA=Symbol.for("react.portal"),ZA=Symbol.for("react.fragment"),eC=Symbol.for("react.strict_mode"),tC=Symbol.for("react.profiler"),rC=Symbol.for("react.provider"),nC=Symbol.for("react.context"),iC=Symbol.for("react.forward_ref"),aC=Symbol.for("react.suspense"),sC=Symbol.for("react.memo"),oC=Symbol.for("react.lazy"),Iy=Symbol.iterator;function lC(e){return e===null||typeof e!="object"?null:(e=Iy&&e[Iy]||e["@@iterator"],typeof e=="function"?e:null)}var q_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H_=Object.assign,V_={};function fs(e,t,r){this.props=e,this.context=t,this.refs=V_,this.updater=r||q_}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function G_(){}G_.prototype=fs.prototype;function Ov(e,t,r){this.props=e,this.context=t,this.refs=V_,this.updater=r||q_}var jv=Ov.prototype=new G_;jv.constructor=Ov;H_(jv,fs.prototype);jv.isPureReactComponent=!0;var Dy=Array.isArray,Y_=Object.prototype.hasOwnProperty,Ev={current:null},X_={key:!0,ref:!0,__self:!0,__source:!0};function Q_(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Y_.call(t,n)&&!X_.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:nl,type:e,key:a,ref:s,props:i,_owner:Ev.current}}function uC(e,t){return{$$typeof:nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Av(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function cC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ry=/\/+/g;function xf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cC(""+e.key):t.toString(36)}function vu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case nl:case JA:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+xf(s,0):n,Dy(i)?(r="",e!=null&&(r=e.replace(Ry,"$&/")+"/"),vu(i,t,r,"",function(u){return u})):i!=null&&(Av(i)&&(i=uC(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ry,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Dy(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+xf(a,o);s+=vu(a,t,r,l,i)}else if(l=lC(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+xf(a,o++),s+=vu(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Al(e,t,r){if(e==null)return e;var n=[],i=0;return vu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function dC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},mu={transition:null},fC={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:mu,ReactCurrentOwner:Ev};function J_(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Al,forEach:function(e,t,r){Al(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Al(e,function(){t++}),t},toArray:function(e){return Al(e,function(t){return t})||[]},only:function(e){if(!Av(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=fs;ee.Fragment=ZA;ee.Profiler=tC;ee.PureComponent=Ov;ee.StrictMode=eC;ee.Suspense=aC;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fC;ee.act=J_;ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=H_({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Ev.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Y_.call(t,l)&&!X_.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:nl,type:e.type,key:i,ref:a,props:n,_owner:s}};ee.createContext=function(e){return e={$$typeof:nC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rC,_context:e},e.Consumer=e};ee.createElement=Q_;ee.createFactory=function(e){var t=Q_.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:iC,render:e}};ee.isValidElement=Av;ee.lazy=function(e){return{$$typeof:oC,_payload:{_status:-1,_result:e},_init:dC}};ee.memo=function(e,t){return{$$typeof:sC,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=mu.transition;mu.transition={};try{e()}finally{mu.transition=t}};ee.unstable_act=J_;ee.useCallback=function(e,t){return Nt.current.useCallback(e,t)};ee.useContext=function(e){return Nt.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Nt.current.useEffect(e,t)};ee.useId=function(){return Nt.current.useId()};ee.useImperativeHandle=function(e,t,r){return Nt.current.useImperativeHandle(e,t,r)};ee.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Nt.current.useMemo(e,t)};ee.useReducer=function(e,t,r){return Nt.current.useReducer(e,t,r)};ee.useRef=function(e){return Nt.current.useRef(e)};ee.useState=function(e){return Nt.current.useState(e)};ee.useSyncExternalStore=function(e,t,r){return Nt.current.useSyncExternalStore(e,t,r)};ee.useTransition=function(){return Nt.current.useTransition()};ee.version="18.3.1";K_.exports=ee;var x=K_.exports;const Z_=kn(x),hC=QA({__proto__:null,default:Z_},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC=x,vC=Symbol.for("react.element"),mC=Symbol.for("react.fragment"),gC=Object.prototype.hasOwnProperty,yC=pC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xC={key:!0,ref:!0,__self:!0,__source:!0};function e1(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)gC.call(t,n)&&!xC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:vC,type:e,key:a,ref:s,props:i,_owner:yC.current}}td.Fragment=mC;td.jsx=e1;td.jsxs=e1;W_.exports=td;var p=W_.exports,Sh={},t1={exports:{}},rr={},r1={exports:{}},n1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,$){var L=R.length;R.push($);e:for(;0<L;){var Y=L-1>>>1,Q=R[Y];if(0<i(Q,$))R[Y]=$,R[L]=Q,L=Y;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var $=R[0],L=R.pop();if(L!==$){R[0]=L;e:for(var Y=0,Q=R.length,$e=Q>>>1;Y<$e;){var pe=2*(Y+1)-1,Rt=R[pe],Ae=pe+1,xe=R[Ae];if(0>i(Rt,L))Ae<Q&&0>i(xe,Rt)?(R[Y]=xe,R[Ae]=L,Y=Ae):(R[Y]=Rt,R[pe]=L,Y=pe);else if(Ae<Q&&0>i(xe,L))R[Y]=xe,R[Ae]=L,Y=Ae;else break e}}return $}function i(R,$){var L=R.sortIndex-$.sortIndex;return L!==0?L:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,f=3,h=!1,v=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=R)n(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=r(u)}}function _(R){if(m=!1,b(R),!v)if(r(l)!==null)v=!0,J(k);else{var $=r(u);$!==null&&X(_,$.startTime-R)}}function k(R,$){v=!1,m&&(m=!1,y(O),O=-1),h=!0;var L=f;try{for(b($),d=r(l);d!==null&&(!(d.expirationTime>$)||R&&!T());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var Q=Y(d.expirationTime<=$);$=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===r(l)&&n(l),b($)}else n(l);d=r(l)}if(d!==null)var $e=!0;else{var pe=r(u);pe!==null&&X(_,pe.startTime-$),$e=!1}return $e}finally{d=null,f=L,h=!1}}var P=!1,S=null,O=-1,E=5,j=-1;function T(){return!(e.unstable_now()-j<E)}function C(){if(S!==null){var R=e.unstable_now();j=R;var $=!0;try{$=S(!0,R)}finally{$?W():(P=!1,S=null)}}else P=!1}var W;if(typeof w=="function")W=function(){w(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=C,W=function(){H.postMessage(null)}}else W=function(){g(C,0)};function J(R){S=R,P||(P=!0,W())}function X(R,$){O=g(function(){R(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,J(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var L=f;f=$;try{return R()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=f;f=R;try{return $()}finally{f=L}},e.unstable_scheduleCallback=function(R,$,L){var Y=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Y+L:Y):L=Y,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=L+Q,R={id:c++,callback:$,priorityLevel:R,startTime:L,expirationTime:Q,sortIndex:-1},L>Y?(R.sortIndex=L,t(u,R),r(l)===null&&R===r(u)&&(m?(y(O),O=-1):m=!0,X(_,L-Y))):(R.sortIndex=Q,t(l,R),v||h||(v=!0,J(k))),R},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(R){var $=f;return function(){var L=f;f=$;try{return R.apply(this,arguments)}finally{f=L}}}})(n1);r1.exports=n1;var wC=r1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC=x,er=wC;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i1=new Set,go={};function aa(e,t){Ja(e,t),Ja(e+"Capture",t)}function Ja(e,t){for(go[e]=t,e=0;e<t.length;e++)i1.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=Object.prototype.hasOwnProperty,_C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,My={},$y={};function SC(e){return kh.call($y,e)?!0:kh.call(My,e)?!1:_C.test(e)?$y[e]=!0:(My[e]=!0,!1)}function kC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PC(e,t,r,n){if(t===null||typeof t>"u"||kC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function It(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new It(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new It(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new It(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new It(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new It(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new It(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new It(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new It(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new It(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cv=/[\-:]([a-z])/g;function Tv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cv,Tv);ft[t]=new It(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cv,Tv);ft[t]=new It(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cv,Tv);ft[t]=new It(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new It(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new It(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nv(e,t,r,n){var i=ft.hasOwnProperty(t)?ft[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PC(t,r,i,n)&&(r=null),n||i===null?SC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pn=bC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cl=Symbol.for("react.element"),ja=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),Iv=Symbol.for("react.strict_mode"),Ph=Symbol.for("react.profiler"),a1=Symbol.for("react.provider"),s1=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),jh=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),o1=Symbol.for("react.offscreen"),Ly=Symbol.iterator;function Ns(e){return e===null||typeof e!="object"?null:(e=Ly&&e[Ly]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,wf;function Xs(e){if(wf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wf=t&&t[1]||""}return`
`+wf+e}var bf=!1;function _f(e,t){if(!e||bf)return"";bf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{bf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xs(e):""}function OC(e){switch(e.tag){case 5:return Xs(e.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 2:case 15:return e=_f(e.type,!1),e;case 11:return e=_f(e.type.render,!1),e;case 1:return e=_f(e.type,!0),e;default:return""}}function Eh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ea:return"Fragment";case ja:return"Portal";case Ph:return"Profiler";case Iv:return"StrictMode";case Oh:return"Suspense";case jh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case s1:return(e.displayName||"Context")+".Consumer";case a1:return(e._context.displayName||"Context")+".Provider";case Dv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rv:return t=e.displayName||null,t!==null?t:Eh(e.type)||"Memo";case Bn:t=e._payload,e=e._init;try{return Eh(e(t))}catch{}}return null}function jC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eh(t);case 8:return t===Iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ci(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function EC(e){var t=l1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tl(e){e._valueTracker||(e._valueTracker=EC(e))}function u1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=l1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Iu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ah(e,t){var r=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ci(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c1(e,t){t=t.checked,t!=null&&Nv(e,"checked",t,!1)}function Ch(e,t){c1(e,t);var r=ci(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Th(e,t.type,r):t.hasOwnProperty("defaultValue")&&Th(e,t.type,ci(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Th(e,t,r){(t!=="number"||Iu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qs=Array.isArray;function Fa(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ci(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function By(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(M(92));if(Qs(r)){if(1<r.length)throw Error(M(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ci(r)}}function d1(e,t){var r=ci(t.value),n=ci(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Fy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function f1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ih(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?f1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nl,h1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AC=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(e){AC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),io[t]=io[e]})});function p1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||io.hasOwnProperty(e)&&io[e]?(""+t).trim():t+"px"}function v1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=p1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var CC=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(e,t){if(t){if(CC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Rh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=null;function Mv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $h=null,Wa=null,Ka=null;function Wy(e){if(e=sl(e)){if(typeof $h!="function")throw Error(M(280));var t=e.stateNode;t&&(t=sd(t),$h(e.stateNode,e.type,t))}}function m1(e){Wa?Ka?Ka.push(e):Ka=[e]:Wa=e}function g1(){if(Wa){var e=Wa,t=Ka;if(Ka=Wa=null,Wy(e),t)for(e=0;e<t.length;e++)Wy(t[e])}}function y1(e,t){return e(t)}function x1(){}var Sf=!1;function w1(e,t,r){if(Sf)return e(t,r);Sf=!0;try{return y1(e,t,r)}finally{Sf=!1,(Wa!==null||Ka!==null)&&(x1(),g1())}}function xo(e,t){var r=e.stateNode;if(r===null)return null;var n=sd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(M(231,t,typeof r));return r}var Lh=!1;if(hn)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Lh=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Lh=!1}function TC(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var ao=!1,Du=null,Ru=!1,zh=null,NC={onError:function(e){ao=!0,Du=e}};function IC(e,t,r,n,i,a,s,o,l){ao=!1,Du=null,TC.apply(NC,arguments)}function DC(e,t,r,n,i,a,s,o,l){if(IC.apply(this,arguments),ao){if(ao){var u=Du;ao=!1,Du=null}else throw Error(M(198));Ru||(Ru=!0,zh=u)}}function sa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function b1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ky(e){if(sa(e)!==e)throw Error(M(188))}function RC(e){var t=e.alternate;if(!t){if(t=sa(e),t===null)throw Error(M(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ky(i),e;if(a===n)return Ky(i),t;a=a.sibling}throw Error(M(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(M(189))}}if(r.alternate!==n)throw Error(M(190))}if(r.tag!==3)throw Error(M(188));return r.stateNode.current===r?e:t}function _1(e){return e=RC(e),e!==null?S1(e):null}function S1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=S1(e);if(t!==null)return t;e=e.sibling}return null}var k1=er.unstable_scheduleCallback,qy=er.unstable_cancelCallback,MC=er.unstable_shouldYield,$C=er.unstable_requestPaint,Le=er.unstable_now,LC=er.unstable_getCurrentPriorityLevel,$v=er.unstable_ImmediatePriority,P1=er.unstable_UserBlockingPriority,Mu=er.unstable_NormalPriority,zC=er.unstable_LowPriority,O1=er.unstable_IdlePriority,rd=null,Vr=null;function UC(e){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(rd,e,void 0,(e.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:WC,BC=Math.log,FC=Math.LN2;function WC(e){return e>>>=0,e===0?32:31-(BC(e)/FC|0)|0}var Il=64,Dl=4194304;function Js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $u(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Js(o):(a&=s,a!==0&&(n=Js(a)))}else s=r&~i,s!==0?n=Js(s):a!==0&&(n=Js(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Tr(t),i=1<<r,n|=e[r],t&=~i;return n}function KC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Tr(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=KC(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Uh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function j1(){var e=Il;return Il<<=1,!(Il&4194240)&&(Il=64),e}function kf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function il(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tr(t),e[t]=r}function HC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Tr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Lv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Tr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var oe=0;function E1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A1,zv,C1,T1,N1,Bh=!1,Rl=[],ei=null,ti=null,ri=null,wo=new Map,bo=new Map,Vn=[],VC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hy(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":wo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(t.pointerId)}}function Ds(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=sl(t),t!==null&&zv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function GC(e,t,r,n,i){switch(t){case"focusin":return ei=Ds(ei,e,t,r,n,i),!0;case"dragenter":return ti=Ds(ti,e,t,r,n,i),!0;case"mouseover":return ri=Ds(ri,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return wo.set(a,Ds(wo.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,bo.set(a,Ds(bo.get(a)||null,e,t,r,n,i)),!0}return!1}function I1(e){var t=Ii(e.target);if(t!==null){var r=sa(t);if(r!==null){if(t=r.tag,t===13){if(t=b1(r),t!==null){e.blockedOn=t,N1(e.priority,function(){C1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mh=n,r.target.dispatchEvent(n),Mh=null}else return t=sl(r),t!==null&&zv(t),e.blockedOn=r,!1;t.shift()}return!0}function Vy(e,t,r){gu(e)&&r.delete(t)}function YC(){Bh=!1,ei!==null&&gu(ei)&&(ei=null),ti!==null&&gu(ti)&&(ti=null),ri!==null&&gu(ri)&&(ri=null),wo.forEach(Vy),bo.forEach(Vy)}function Rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Bh||(Bh=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,YC)))}function _o(e){function t(i){return Rs(i,e)}if(0<Rl.length){Rs(Rl[0],e);for(var r=1;r<Rl.length;r++){var n=Rl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ei!==null&&Rs(ei,e),ti!==null&&Rs(ti,e),ri!==null&&Rs(ri,e),wo.forEach(t),bo.forEach(t),r=0;r<Vn.length;r++)n=Vn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vn.length&&(r=Vn[0],r.blockedOn===null);)I1(r),r.blockedOn===null&&Vn.shift()}var qa=Pn.ReactCurrentBatchConfig,Lu=!0;function XC(e,t,r,n){var i=oe,a=qa.transition;qa.transition=null;try{oe=1,Uv(e,t,r,n)}finally{oe=i,qa.transition=a}}function QC(e,t,r,n){var i=oe,a=qa.transition;qa.transition=null;try{oe=4,Uv(e,t,r,n)}finally{oe=i,qa.transition=a}}function Uv(e,t,r,n){if(Lu){var i=Fh(e,t,r,n);if(i===null)Df(e,t,n,zu,r),Hy(e,n);else if(GC(i,e,t,r,n))n.stopPropagation();else if(Hy(e,n),t&4&&-1<VC.indexOf(e)){for(;i!==null;){var a=sl(i);if(a!==null&&A1(a),a=Fh(e,t,r,n),a===null&&Df(e,t,n,zu,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Df(e,t,n,null,r)}}var zu=null;function Fh(e,t,r,n){if(zu=null,e=Mv(n),e=Ii(e),e!==null)if(t=sa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=b1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zu=e,null}function D1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LC()){case $v:return 1;case P1:return 4;case Mu:case zC:return 16;case O1:return 536870912;default:return 16}default:return 16}}var Qn=null,Bv=null,yu=null;function R1(){if(yu)return yu;var e,t=Bv,r=t.length,n,i="value"in Qn?Qn.value:Qn.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return yu=i.slice(e,1<n?1-n:void 0)}function xu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function Gy(){return!1}function nr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ml:Gy,this.isPropagationStopped=Gy,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fv=nr(hs),al=je({},hs,{view:0,detail:0}),JC=nr(al),Pf,Of,Ms,nd=je({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Pf=e.screenX-Ms.screenX,Of=e.screenY-Ms.screenY):Of=Pf=0,Ms=e),Pf)},movementY:function(e){return"movementY"in e?e.movementY:Of}}),Yy=nr(nd),ZC=je({},nd,{dataTransfer:0}),eT=nr(ZC),tT=je({},al,{relatedTarget:0}),jf=nr(tT),rT=je({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),nT=nr(rT),iT=je({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aT=nr(iT),sT=je({},hs,{data:0}),Xy=nr(sT),oT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uT[e])?!!t[e]:!1}function Wv(){return cT}var dT=je({},al,{key:function(e){if(e.key){var t=oT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wv,charCode:function(e){return e.type==="keypress"?xu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fT=nr(dT),hT=je({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qy=nr(hT),pT=je({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wv}),vT=nr(pT),mT=je({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gT=nr(mT),yT=je({},nd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xT=nr(yT),wT=[9,13,27,32],Kv=hn&&"CompositionEvent"in window,so=null;hn&&"documentMode"in document&&(so=document.documentMode);var bT=hn&&"TextEvent"in window&&!so,M1=hn&&(!Kv||so&&8<so&&11>=so),Jy=" ",Zy=!1;function $1(e,t){switch(e){case"keyup":return wT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function _T(e,t){switch(e){case"compositionend":return L1(t);case"keypress":return t.which!==32?null:(Zy=!0,Jy);case"textInput":return e=t.data,e===Jy&&Zy?null:e;default:return null}}function ST(e,t){if(Aa)return e==="compositionend"||!Kv&&$1(e,t)?(e=R1(),yu=Bv=Qn=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M1&&t.locale!=="ko"?null:t.data;default:return null}}var kT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kT[e.type]:t==="textarea"}function z1(e,t,r,n){m1(n),t=Uu(t,"onChange"),0<t.length&&(r=new Fv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var oo=null,So=null;function PT(e){X1(e,0)}function id(e){var t=Na(e);if(u1(t))return e}function OT(e,t){if(e==="change")return t}var U1=!1;if(hn){var Ef;if(hn){var Af="oninput"in document;if(!Af){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),Af=typeof t0.oninput=="function"}Ef=Af}else Ef=!1;U1=Ef&&(!document.documentMode||9<document.documentMode)}function r0(){oo&&(oo.detachEvent("onpropertychange",B1),So=oo=null)}function B1(e){if(e.propertyName==="value"&&id(So)){var t=[];z1(t,So,e,Mv(e)),w1(PT,t)}}function jT(e,t,r){e==="focusin"?(r0(),oo=t,So=r,oo.attachEvent("onpropertychange",B1)):e==="focusout"&&r0()}function ET(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return id(So)}function AT(e,t){if(e==="click")return id(t)}function CT(e,t){if(e==="input"||e==="change")return id(t)}function TT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dr=typeof Object.is=="function"?Object.is:TT;function ko(e,t){if(Dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!kh.call(t,i)||!Dr(e[i],t[i]))return!1}return!0}function n0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i0(e,t){var r=n0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=n0(r)}}function F1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?F1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function W1(){for(var e=window,t=Iu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Iu(e.document)}return t}function qv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NT(e){var t=W1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&F1(r.ownerDocument.documentElement,r)){if(n!==null&&qv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=i0(r,a);var s=i0(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IT=hn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Wh=null,lo=null,Kh=!1;function a0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kh||Ca==null||Ca!==Iu(n)||(n=Ca,"selectionStart"in n&&qv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),lo&&ko(lo,n)||(lo=n,n=Uu(Wh,"onSelect"),0<n.length&&(t=new Fv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ca)))}function $l(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ta={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},Cf={},K1={};hn&&(K1=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ad(e){if(Cf[e])return Cf[e];if(!Ta[e])return e;var t=Ta[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in K1)return Cf[e]=t[r];return e}var q1=ad("animationend"),H1=ad("animationiteration"),V1=ad("animationstart"),G1=ad("transitionend"),Y1=new Map,s0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(e,t){Y1.set(e,t),aa(t,[e])}for(var Tf=0;Tf<s0.length;Tf++){var Nf=s0[Tf],DT=Nf.toLowerCase(),RT=Nf[0].toUpperCase()+Nf.slice(1);pi(DT,"on"+RT)}pi(q1,"onAnimationEnd");pi(H1,"onAnimationIteration");pi(V1,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(G1,"onTransitionEnd");Ja("onMouseEnter",["mouseout","mouseover"]);Ja("onMouseLeave",["mouseout","mouseover"]);Ja("onPointerEnter",["pointerout","pointerover"]);Ja("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function o0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,DC(n,t,void 0,e),e.currentTarget=null}function X1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;o0(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;o0(i,o,u),a=l}}}if(Ru)throw e=zh,Ru=!1,zh=null,e}function me(e,t){var r=t[Yh];r===void 0&&(r=t[Yh]=new Set);var n=e+"__bubble";r.has(n)||(Q1(t,e,2,!1),r.add(n))}function If(e,t,r){var n=0;t&&(n|=4),Q1(r,e,n,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Po(e){if(!e[Ll]){e[Ll]=!0,i1.forEach(function(r){r!=="selectionchange"&&(MT.has(r)||If(r,!1,e),If(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,If("selectionchange",!1,t))}}function Q1(e,t,r,n){switch(D1(t)){case 1:var i=XC;break;case 4:i=QC;break;default:i=Uv}r=i.bind(null,t,r,e),i=void 0,!Lh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Df(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ii(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}w1(function(){var u=a,c=Mv(r),d=[];e:{var f=Y1.get(e);if(f!==void 0){var h=Fv,v=e;switch(e){case"keypress":if(xu(r)===0)break e;case"keydown":case"keyup":h=fT;break;case"focusin":v="focus",h=jf;break;case"focusout":v="blur",h=jf;break;case"beforeblur":case"afterblur":h=jf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=eT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=vT;break;case q1:case H1:case V1:h=nT;break;case G1:h=gT;break;case"scroll":h=JC;break;case"wheel":h=xT;break;case"copy":case"cut":case"paste":h=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Qy}var m=(t&4)!==0,g=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=xo(w,y),_!=null&&m.push(Oo(w,_,b)))),g)break;w=w.return}0<m.length&&(f=new h(f,v,null,r,c),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==Mh&&(v=r.relatedTarget||r.fromElement)&&(Ii(v)||v[pn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=u,v=v?Ii(v):null,v!==null&&(g=sa(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(m=Yy,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=Qy,_="onPointerLeave",y="onPointerEnter",w="pointer"),g=h==null?f:Na(h),b=v==null?f:Na(v),f=new m(_,w+"leave",h,r,c),f.target=g,f.relatedTarget=b,_=null,Ii(c)===u&&(m=new m(y,w+"enter",v,r,c),m.target=b,m.relatedTarget=g,_=m),g=_,h&&v)t:{for(m=h,y=v,w=0,b=m;b;b=fa(b))w++;for(b=0,_=y;_;_=fa(_))b++;for(;0<w-b;)m=fa(m),w--;for(;0<b-w;)y=fa(y),b--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=fa(m),y=fa(y)}m=null}else m=null;h!==null&&l0(d,f,h,m,!1),v!==null&&g!==null&&l0(d,g,v,m,!0)}}e:{if(f=u?Na(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var k=OT;else if(e0(f))if(U1)k=CT;else{k=ET;var P=jT}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=AT);if(k&&(k=k(e,u))){z1(d,k,r,c);break e}P&&P(e,f,u),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Th(f,"number",f.value)}switch(P=u?Na(u):window,e){case"focusin":(e0(P)||P.contentEditable==="true")&&(Ca=P,Wh=u,lo=null);break;case"focusout":lo=Wh=Ca=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,a0(d,r,c);break;case"selectionchange":if(IT)break;case"keydown":case"keyup":a0(d,r,c)}var S;if(Kv)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Aa?$1(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(M1&&r.locale!=="ko"&&(Aa||O!=="onCompositionStart"?O==="onCompositionEnd"&&Aa&&(S=R1()):(Qn=c,Bv="value"in Qn?Qn.value:Qn.textContent,Aa=!0)),P=Uu(u,O),0<P.length&&(O=new Xy(O,e,null,r,c),d.push({event:O,listeners:P}),S?O.data=S:(S=L1(r),S!==null&&(O.data=S)))),(S=bT?_T(e,r):ST(e,r))&&(u=Uu(u,"onBeforeInput"),0<u.length&&(c=new Xy("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=S))}X1(d,t)})}function Oo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Uu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=xo(e,r),a!=null&&n.unshift(Oo(e,a,i)),a=xo(e,t),a!=null&&n.push(Oo(e,a,i))),e=e.return}return n}function fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function l0(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=xo(r,a),l!=null&&s.unshift(Oo(r,l,o))):i||(l=xo(r,a),l!=null&&s.push(Oo(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var $T=/\r\n?/g,LT=/\u0000|\uFFFD/g;function u0(e){return(typeof e=="string"?e:""+e).replace($T,`
`).replace(LT,"")}function zl(e,t,r){if(t=u0(t),u0(e)!==t&&r)throw Error(M(425))}function Bu(){}var qh=null,Hh=null;function Vh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,zT=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(e){return c0.resolve(null).then(e).catch(BT)}:Gh;function BT(e){setTimeout(function(){throw e})}function Rf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),_o(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);_o(t)}function ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function d0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),Kr="__reactFiber$"+ps,jo="__reactProps$"+ps,pn="__reactContainer$"+ps,Yh="__reactEvents$"+ps,FT="__reactListeners$"+ps,WT="__reactHandles$"+ps;function Ii(e){var t=e[Kr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pn]||r[Kr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=d0(e);e!==null;){if(r=e[Kr])return r;e=d0(e)}return t}e=r,r=e.parentNode}return null}function sl(e){return e=e[Kr]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function sd(e){return e[jo]||null}var Xh=[],Ia=-1;function vi(e){return{current:e}}function ye(e){0>Ia||(e.current=Xh[Ia],Xh[Ia]=null,Ia--)}function he(e,t){Ia++,Xh[Ia]=e.current,e.current=t}var di={},_t=vi(di),Bt=vi(!1),Vi=di;function Za(e,t){var r=e.type.contextTypes;if(!r)return di;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(e){return e=e.childContextTypes,e!=null}function Fu(){ye(Bt),ye(_t)}function f0(e,t,r){if(_t.current!==di)throw Error(M(168));he(_t,t),he(Bt,r)}function J1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(M(108,jC(e)||"Unknown",i));return je({},r,n)}function Wu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,Vi=_t.current,he(_t,e),he(Bt,Bt.current),!0}function h0(e,t,r){var n=e.stateNode;if(!n)throw Error(M(169));r?(e=J1(e,t,Vi),n.__reactInternalMemoizedMergedChildContext=e,ye(Bt),ye(_t),he(_t,e)):ye(Bt),he(Bt,r)}var rn=null,od=!1,Mf=!1;function Z1(e){rn===null?rn=[e]:rn.push(e)}function KT(e){od=!0,Z1(e)}function mi(){if(!Mf&&rn!==null){Mf=!0;var e=0,t=oe;try{var r=rn;for(oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rn=null,od=!1}catch(i){throw rn!==null&&(rn=rn.slice(e+1)),k1($v,mi),i}finally{oe=t,Mf=!1}}return null}var Da=[],Ra=0,Ku=null,qu=0,ur=[],cr=0,Gi=null,sn=1,on="";function ki(e,t){Da[Ra++]=qu,Da[Ra++]=Ku,Ku=e,qu=t}function eS(e,t,r){ur[cr++]=sn,ur[cr++]=on,ur[cr++]=Gi,Gi=e;var n=sn;e=on;var i=32-Tr(n)-1;n&=~(1<<i),r+=1;var a=32-Tr(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,sn=1<<32-Tr(t)+i|r<<i|n,on=a+e}else sn=1<<a|r<<i|n,on=e}function Hv(e){e.return!==null&&(ki(e,1),eS(e,1,0))}function Vv(e){for(;e===Ku;)Ku=Da[--Ra],Da[Ra]=null,qu=Da[--Ra],Da[Ra]=null;for(;e===Gi;)Gi=ur[--cr],ur[cr]=null,on=ur[--cr],ur[cr]=null,sn=ur[--cr],ur[cr]=null}var Jt=null,Xt=null,_e=!1,jr=null;function tS(e,t){var r=dr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function p0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Xt=ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gi!==null?{id:sn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=dr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jt=e,Xt=null,!0):!1;default:return!1}}function Qh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jh(e){if(_e){var t=Xt;if(t){var r=t;if(!p0(e,t)){if(Qh(e))throw Error(M(418));t=ni(r.nextSibling);var n=Jt;t&&p0(e,t)?tS(n,r):(e.flags=e.flags&-4097|2,_e=!1,Jt=e)}}else{if(Qh(e))throw Error(M(418));e.flags=e.flags&-4097|2,_e=!1,Jt=e}}}function v0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function Ul(e){if(e!==Jt)return!1;if(!_e)return v0(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vh(e.type,e.memoizedProps)),t&&(t=Xt)){if(Qh(e))throw rS(),Error(M(418));for(;t;)tS(e,t),t=ni(t.nextSibling)}if(v0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=ni(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Jt?ni(e.stateNode.nextSibling):null;return!0}function rS(){for(var e=Xt;e;)e=ni(e.nextSibling)}function es(){Xt=Jt=null,_e=!1}function Gv(e){jr===null?jr=[e]:jr.push(e)}var qT=Pn.ReactCurrentBatchConfig;function $s(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(M(309));var n=r.stateNode}if(!n)throw Error(M(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(M(284));if(!r._owner)throw Error(M(290,e))}return e}function Bl(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function m0(e){var t=e._init;return t(e._payload)}function nS(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=oi(y,w),y.index=0,y.sibling=null,y}function a(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,b,_){return w===null||w.tag!==6?(w=Wf(b,y.mode,_),w.return=y,w):(w=i(w,b),w.return=y,w)}function l(y,w,b,_){var k=b.type;return k===Ea?c(y,w,b.props.children,_,b.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Bn&&m0(k)===w.type)?(_=i(w,b.props),_.ref=$s(y,w,b),_.return=y,_):(_=Ou(b.type,b.key,b.props,null,y.mode,_),_.ref=$s(y,w,b),_.return=y,_)}function u(y,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Kf(b,y.mode,_),w.return=y,w):(w=i(w,b.children||[]),w.return=y,w)}function c(y,w,b,_,k){return w===null||w.tag!==7?(w=Wi(b,y.mode,_,k),w.return=y,w):(w=i(w,b),w.return=y,w)}function d(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Wf(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cl:return b=Ou(w.type,w.key,w.props,null,y.mode,b),b.ref=$s(y,null,w),b.return=y,b;case ja:return w=Kf(w,y.mode,b),w.return=y,w;case Bn:var _=w._init;return d(y,_(w._payload),b)}if(Qs(w)||Ns(w))return w=Wi(w,y.mode,b,null),w.return=y,w;Bl(y,w)}return null}function f(y,w,b,_){var k=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(y,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cl:return b.key===k?l(y,w,b,_):null;case ja:return b.key===k?u(y,w,b,_):null;case Bn:return k=b._init,f(y,w,k(b._payload),_)}if(Qs(b)||Ns(b))return k!==null?null:c(y,w,b,_,null);Bl(y,b)}return null}function h(y,w,b,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,o(w,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cl:return y=y.get(_.key===null?b:_.key)||null,l(w,y,_,k);case ja:return y=y.get(_.key===null?b:_.key)||null,u(w,y,_,k);case Bn:var P=_._init;return h(y,w,b,P(_._payload),k)}if(Qs(_)||Ns(_))return y=y.get(b)||null,c(w,y,_,k,null);Bl(w,_)}return null}function v(y,w,b,_){for(var k=null,P=null,S=w,O=w=0,E=null;S!==null&&O<b.length;O++){S.index>O?(E=S,S=null):E=S.sibling;var j=f(y,S,b[O],_);if(j===null){S===null&&(S=E);break}e&&S&&j.alternate===null&&t(y,S),w=a(j,w,O),P===null?k=j:P.sibling=j,P=j,S=E}if(O===b.length)return r(y,S),_e&&ki(y,O),k;if(S===null){for(;O<b.length;O++)S=d(y,b[O],_),S!==null&&(w=a(S,w,O),P===null?k=S:P.sibling=S,P=S);return _e&&ki(y,O),k}for(S=n(y,S);O<b.length;O++)E=h(S,y,O,b[O],_),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?O:E.key),w=a(E,w,O),P===null?k=E:P.sibling=E,P=E);return e&&S.forEach(function(T){return t(y,T)}),_e&&ki(y,O),k}function m(y,w,b,_){var k=Ns(b);if(typeof k!="function")throw Error(M(150));if(b=k.call(b),b==null)throw Error(M(151));for(var P=k=null,S=w,O=w=0,E=null,j=b.next();S!==null&&!j.done;O++,j=b.next()){S.index>O?(E=S,S=null):E=S.sibling;var T=f(y,S,j.value,_);if(T===null){S===null&&(S=E);break}e&&S&&T.alternate===null&&t(y,S),w=a(T,w,O),P===null?k=T:P.sibling=T,P=T,S=E}if(j.done)return r(y,S),_e&&ki(y,O),k;if(S===null){for(;!j.done;O++,j=b.next())j=d(y,j.value,_),j!==null&&(w=a(j,w,O),P===null?k=j:P.sibling=j,P=j);return _e&&ki(y,O),k}for(S=n(y,S);!j.done;O++,j=b.next())j=h(S,y,O,j.value,_),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?O:j.key),w=a(j,w,O),P===null?k=j:P.sibling=j,P=j);return e&&S.forEach(function(C){return t(y,C)}),_e&&ki(y,O),k}function g(y,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Ea&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Cl:e:{for(var k=b.key,P=w;P!==null;){if(P.key===k){if(k=b.type,k===Ea){if(P.tag===7){r(y,P.sibling),w=i(P,b.props.children),w.return=y,y=w;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Bn&&m0(k)===P.type){r(y,P.sibling),w=i(P,b.props),w.ref=$s(y,P,b),w.return=y,y=w;break e}r(y,P);break}else t(y,P);P=P.sibling}b.type===Ea?(w=Wi(b.props.children,y.mode,_,b.key),w.return=y,y=w):(_=Ou(b.type,b.key,b.props,null,y.mode,_),_.ref=$s(y,w,b),_.return=y,y=_)}return s(y);case ja:e:{for(P=b.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=i(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=Kf(b,y.mode,_),w.return=y,y=w}return s(y);case Bn:return P=b._init,g(y,w,P(b._payload),_)}if(Qs(b))return v(y,w,b,_);if(Ns(b))return m(y,w,b,_);Bl(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,b),w.return=y,y=w):(r(y,w),w=Wf(b,y.mode,_),w.return=y,y=w),s(y)):r(y,w)}return g}var ts=nS(!0),iS=nS(!1),Hu=vi(null),Vu=null,Ma=null,Yv=null;function Xv(){Yv=Ma=Vu=null}function Qv(e){var t=Hu.current;ye(Hu),e._currentValue=t}function Zh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ha(e,t){Vu=e,Yv=Ma=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function vr(e){var t=e._currentValue;if(Yv!==e)if(e={context:e,memoizedValue:t,next:null},Ma===null){if(Vu===null)throw Error(M(308));Ma=e,Vu.dependencies={lanes:0,firstContext:e}}else Ma=Ma.next=e;return t}var Di=null;function Jv(e){Di===null?Di=[e]:Di.push(e)}function aS(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Jv(t)):(r.next=i.next,i.next=r),t.interleaved=r,vn(e,n)}function vn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fn=!1;function Zv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,vn(e,r)}return i=n.interleaved,i===null?(t.next=t,Jv(n)):(t.next=i.next,i.next=t),n.interleaved=t,vn(e,r)}function wu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lv(e,r)}}function g0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gu(e,t,r,n){var i=e.updateQueue;Fn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var f=o.lane,h=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,m=o;switch(f=t,h=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(h,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(h,d,f):v,f==null)break e;d=je({},d,f);break e;case 2:Fn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Xi|=s,e.lanes=s,e.memoizedState=d}}function y0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(M(191,i));i.call(n)}}}var ol={},Gr=vi(ol),Eo=vi(ol),Ao=vi(ol);function Ri(e){if(e===ol)throw Error(M(174));return e}function em(e,t){switch(he(Ao,t),he(Eo,e),he(Gr,ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ih(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ih(t,e)}ye(Gr),he(Gr,t)}function rs(){ye(Gr),ye(Eo),ye(Ao)}function oS(e){Ri(Ao.current);var t=Ri(Gr.current),r=Ih(t,e.type);t!==r&&(he(Eo,e),he(Gr,r))}function tm(e){Eo.current===e&&(ye(Gr),ye(Eo))}var Pe=vi(0);function Yu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $f=[];function rm(){for(var e=0;e<$f.length;e++)$f[e]._workInProgressVersionPrimary=null;$f.length=0}var bu=Pn.ReactCurrentDispatcher,Lf=Pn.ReactCurrentBatchConfig,Yi=0,Oe=null,qe=null,Ze=null,Xu=!1,uo=!1,Co=0,HT=0;function mt(){throw Error(M(321))}function nm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dr(e[r],t[r]))return!1;return!0}function im(e,t,r,n,i,a){if(Yi=a,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bu.current=e===null||e.memoizedState===null?XT:QT,e=r(n,i),uo){a=0;do{if(uo=!1,Co=0,25<=a)throw Error(M(301));a+=1,Ze=qe=null,t.updateQueue=null,bu.current=JT,e=r(n,i)}while(uo)}if(bu.current=Qu,t=qe!==null&&qe.next!==null,Yi=0,Ze=qe=Oe=null,Xu=!1,t)throw Error(M(300));return e}function am(){var e=Co!==0;return Co=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Oe.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function mr(){if(qe===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Ze===null?Oe.memoizedState:Ze.next;if(t!==null)Ze=t,qe=e;else{if(e===null)throw Error(M(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ze===null?Oe.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function To(e,t){return typeof t=="function"?t(e):t}function zf(e){var t=mr(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=qe,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((Yi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,Oe.lanes|=c,Xi|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,Dr(n,t.memoizedState)||(Lt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Oe.lanes|=a,Xi|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Uf(e){var t=mr(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Dr(a,t.memoizedState)||(Lt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function lS(){}function uS(e,t){var r=Oe,n=mr(),i=t(),a=!Dr(n.memoizedState,i);if(a&&(n.memoizedState=i,Lt=!0),n=n.queue,sm(fS.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,No(9,dS.bind(null,r,n,i,t),void 0,null),et===null)throw Error(M(349));Yi&30||cS(r,t,i)}return i}function cS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dS(e,t,r,n){t.value=r,t.getSnapshot=n,hS(t)&&pS(e)}function fS(e,t,r){return r(function(){hS(t)&&pS(e)})}function hS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dr(e,r)}catch{return!0}}function pS(e){var t=vn(e,1);t!==null&&Nr(t,e,1,-1)}function x0(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=YT.bind(null,Oe,e),[t.memoizedState,e]}function No(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function vS(){return mr().memoizedState}function _u(e,t,r,n){var i=Fr();Oe.flags|=e,i.memoizedState=No(1|t,r,void 0,n===void 0?null:n)}function ld(e,t,r,n){var i=mr();n=n===void 0?null:n;var a=void 0;if(qe!==null){var s=qe.memoizedState;if(a=s.destroy,n!==null&&nm(n,s.deps)){i.memoizedState=No(t,r,a,n);return}}Oe.flags|=e,i.memoizedState=No(1|t,r,a,n)}function w0(e,t){return _u(8390656,8,e,t)}function sm(e,t){return ld(2048,8,e,t)}function mS(e,t){return ld(4,2,e,t)}function gS(e,t){return ld(4,4,e,t)}function yS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xS(e,t,r){return r=r!=null?r.concat([e]):null,ld(4,4,yS.bind(null,t,e),r)}function om(){}function wS(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bS(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _S(e,t,r){return Yi&21?(Dr(r,t)||(r=j1(),Oe.lanes|=r,Xi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=r)}function VT(e,t){var r=oe;oe=r!==0&&4>r?r:4,e(!0);var n=Lf.transition;Lf.transition={};try{e(!1),t()}finally{oe=r,Lf.transition=n}}function SS(){return mr().memoizedState}function GT(e,t,r){var n=si(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kS(e))PS(t,r);else if(r=aS(e,t,r,n),r!==null){var i=At();Nr(r,e,n,i),OS(r,t,n)}}function YT(e,t,r){var n=si(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kS(e))PS(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Dr(o,s)){var l=t.interleaved;l===null?(i.next=i,Jv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=aS(e,t,i,n),r!==null&&(i=At(),Nr(r,e,n,i),OS(r,t,n))}}function kS(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function PS(e,t){uo=Xu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function OS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lv(e,r)}}var Qu={readContext:vr,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},XT={readContext:vr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:vr,useEffect:w0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,_u(4194308,4,yS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _u(4194308,4,e,t)},useInsertionEffect:function(e,t){return _u(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=GT.bind(null,Oe,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:x0,useDebugValue:om,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=x0(!1),t=e[0];return e=VT.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Oe,i=Fr();if(_e){if(r===void 0)throw Error(M(407));r=r()}else{if(r=t(),et===null)throw Error(M(349));Yi&30||cS(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,w0(fS.bind(null,n,a,e),[e]),n.flags|=2048,No(9,dS.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Fr(),t=et.identifierPrefix;if(_e){var r=on,n=sn;r=(n&~(1<<32-Tr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Co++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=HT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QT={readContext:vr,useCallback:wS,useContext:vr,useEffect:sm,useImperativeHandle:xS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:bS,useReducer:zf,useRef:vS,useState:function(){return zf(To)},useDebugValue:om,useDeferredValue:function(e){var t=mr();return _S(t,qe.memoizedState,e)},useTransition:function(){var e=zf(To)[0],t=mr().memoizedState;return[e,t]},useMutableSource:lS,useSyncExternalStore:uS,useId:SS,unstable_isNewReconciler:!1},JT={readContext:vr,useCallback:wS,useContext:vr,useEffect:sm,useImperativeHandle:xS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:bS,useReducer:Uf,useRef:vS,useState:function(){return Uf(To)},useDebugValue:om,useDeferredValue:function(e){var t=mr();return qe===null?t.memoizedState=e:_S(t,qe.memoizedState,e)},useTransition:function(){var e=Uf(To)[0],t=mr().memoizedState;return[e,t]},useMutableSource:lS,useSyncExternalStore:uS,useId:SS,unstable_isNewReconciler:!1};function Sr(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ep(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ud={isMounted:function(e){return(e=e._reactInternals)?sa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=At(),i=si(e),a=cn(n,i);a.payload=t,r!=null&&(a.callback=r),t=ii(e,a,i),t!==null&&(Nr(t,e,i,n),wu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=At(),i=si(e),a=cn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ii(e,a,i),t!==null&&(Nr(t,e,i,n),wu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=At(),n=si(e),i=cn(r,n);i.tag=2,t!=null&&(i.callback=t),t=ii(e,i,n),t!==null&&(Nr(t,e,n,r),wu(t,e,n))}};function b0(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!ko(r,n)||!ko(i,a):!0}function jS(e,t,r){var n=!1,i=di,a=t.contextType;return typeof a=="object"&&a!==null?a=vr(a):(i=Ft(t)?Vi:_t.current,n=t.contextTypes,a=(n=n!=null)?Za(e,i):di),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ud,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function _0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ud.enqueueReplaceState(t,t.state,null)}function tp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Zv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=vr(a):(a=Ft(t)?Vi:_t.current,i.context=Za(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ep(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ud.enqueueReplaceState(i,i.state,null),Gu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ns(e,t){try{var r="",n=t;do r+=OC(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Bf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function rp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ZT=typeof WeakMap=="function"?WeakMap:Map;function ES(e,t,r){r=cn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zu||(Zu=!0,fp=n),rp(e,t)},r}function AS(e,t,r){r=cn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){rp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){rp(e,t),typeof n!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function S0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ZT;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=hN.bind(null,e,t,r),t.then(e,e))}function k0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function P0(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=cn(-1,1),t.tag=2,ii(r,t,1))),r.lanes|=1),e)}var eN=Pn.ReactCurrentOwner,Lt=!1;function Ot(e,t,r,n){t.child=e===null?iS(t,null,r,n):ts(t,e.child,r,n)}function O0(e,t,r,n,i){r=r.render;var a=t.ref;return Ha(t,i),n=im(e,t,r,n,a,i),r=am(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mn(e,t,i)):(_e&&r&&Hv(t),t.flags|=1,Ot(e,t,n,i),t.child)}function j0(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!vm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,CS(e,t,a,n,i)):(e=Ou(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:ko,r(s,n)&&e.ref===t.ref)return mn(e,t,i)}return t.flags|=1,e=oi(a,n),e.ref=t.ref,e.return=t,t.child=e}function CS(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ko(a,n)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,mn(e,t,i)}return np(e,t,r,n,i)}function TS(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(La,Vt),Vt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(La,Vt),Vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,he(La,Vt),Vt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,he(La,Vt),Vt|=n;return Ot(e,t,i,r),t.child}function NS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function np(e,t,r,n,i){var a=Ft(r)?Vi:_t.current;return a=Za(t,a),Ha(t,i),r=im(e,t,r,n,a,i),n=am(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mn(e,t,i)):(_e&&n&&Hv(t),t.flags|=1,Ot(e,t,r,i),t.child)}function E0(e,t,r,n,i){if(Ft(r)){var a=!0;Wu(t)}else a=!1;if(Ha(t,i),t.stateNode===null)Su(e,t),jS(t,r,n),tp(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=vr(u):(u=Ft(r)?Vi:_t.current,u=Za(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&_0(t,s,n,u),Fn=!1;var f=t.memoizedState;s.state=f,Gu(t,n,s,i),l=t.memoizedState,o!==n||f!==l||Bt.current||Fn?(typeof c=="function"&&(ep(t,r,c,n),l=t.memoizedState),(o=Fn||b0(t,r,o,n,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,sS(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Sr(t.type,o),s.props=u,d=t.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=vr(l):(l=Ft(r)?Vi:_t.current,l=Za(t,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==l)&&_0(t,s,n,l),Fn=!1,f=t.memoizedState,s.state=f,Gu(t,n,s,i);var v=t.memoizedState;o!==d||f!==v||Bt.current||Fn?(typeof h=="function"&&(ep(t,r,h,n),v=t.memoizedState),(u=Fn||b0(t,r,u,n,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ip(e,t,r,n,a,i)}function ip(e,t,r,n,i,a){NS(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&h0(t,r,!1),mn(e,t,a);n=t.stateNode,eN.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ts(t,e.child,null,a),t.child=ts(t,null,o,a)):Ot(e,t,o,a),t.memoizedState=n.state,i&&h0(t,r,!0),t.child}function IS(e){var t=e.stateNode;t.pendingContext?f0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f0(e,t.context,!1),em(e,t.containerInfo)}function A0(e,t,r,n,i){return es(),Gv(i),t.flags|=256,Ot(e,t,r,n),t.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function sp(e){return{baseLanes:e,cachePool:null,transitions:null}}function DS(e,t,r){var n=t.pendingProps,i=Pe.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(Pe,i&1),e===null)return Jh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=fd(s,n,0,null),e=Wi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=sp(r),t.memoizedState=ap,e):lm(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return tN(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=oi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=oi(o,a):(a=Wi(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?sp(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=ap,n}return a=e.child,e=a.sibling,n=oi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lm(e,t){return t=fd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fl(e,t,r,n){return n!==null&&Gv(n),ts(t,e.child,null,r),e=lm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tN(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Bf(Error(M(422))),Fl(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=fd({mode:"visible",children:n.children},i,0,null),a=Wi(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ts(t,e.child,null,s),t.child.memoizedState=sp(s),t.memoizedState=ap,a);if(!(t.mode&1))return Fl(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(M(419)),n=Bf(a,n,void 0),Fl(e,t,s,n)}if(o=(s&e.childLanes)!==0,Lt||o){if(n=et,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,vn(e,i),Nr(n,e,i,-1))}return pm(),n=Bf(Error(M(421))),Fl(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pN.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Xt=ni(i.nextSibling),Jt=t,_e=!0,jr=null,e!==null&&(ur[cr++]=sn,ur[cr++]=on,ur[cr++]=Gi,sn=e.id,on=e.overflow,Gi=t),t=lm(t,n.children),t.flags|=4096,t)}function C0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zh(e.return,t,r)}function Ff(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function RS(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ot(e,t,n.children,r),n=Pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&C0(e,r,t);else if(e.tag===19)C0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(Pe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Yu(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ff(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Yu(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ff(t,!0,r,null,a);break;case"together":Ff(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Su(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,r=oi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=oi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rN(e,t,r){switch(t.tag){case 3:IS(t),es();break;case 5:oS(t);break;case 1:Ft(t.type)&&Wu(t);break;case 4:em(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;he(Hu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(Pe,Pe.current&1),t.flags|=128,null):r&t.child.childLanes?DS(e,t,r):(he(Pe,Pe.current&1),e=mn(e,t,r),e!==null?e.sibling:null);he(Pe,Pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return RS(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Pe,Pe.current),n)break;return null;case 22:case 23:return t.lanes=0,TS(e,t,r)}return mn(e,t,r)}var MS,op,$S,LS;MS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};op=function(){};$S=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ri(Gr.current);var a=null;switch(r){case"input":i=Ah(e,i),n=Ah(e,n),a=[];break;case"select":i=je({},i,{value:void 0}),n=je({},n,{value:void 0}),a=[];break;case"textarea":i=Nh(e,i),n=Nh(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bu)}Dh(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(go.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(go.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};LS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ls(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nN(e,t,r){var n=t.pendingProps;switch(Vv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Ft(t.type)&&Fu(),gt(t),null;case 3:return n=t.stateNode,rs(),ye(Bt),ye(_t),rm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jr!==null&&(vp(jr),jr=null))),op(e,t),gt(t),null;case 5:tm(t);var i=Ri(Ao.current);if(r=t.type,e!==null&&t.stateNode!=null)$S(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(M(166));return gt(t),null}if(e=Ri(Gr.current),Ul(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Kr]=t,n[jo]=a,e=(t.mode&1)!==0,r){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(i=0;i<Zs.length;i++)me(Zs[i],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":zy(n,a),me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},me("invalid",n);break;case"textarea":By(n,a),me("invalid",n)}Dh(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&zl(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&zl(n.textContent,o,e),i=["children",""+o]):go.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&me("scroll",n)}switch(r){case"input":Tl(n),Uy(n,a,!0);break;case"textarea":Tl(n),Fy(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Bu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=f1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Kr]=t,e[jo]=n,MS(e,t,!1,!1),t.stateNode=e;e:{switch(s=Rh(r,n),r){case"dialog":me("cancel",e),me("close",e),i=n;break;case"iframe":case"object":case"embed":me("load",e),i=n;break;case"video":case"audio":for(i=0;i<Zs.length;i++)me(Zs[i],e);i=n;break;case"source":me("error",e),i=n;break;case"img":case"image":case"link":me("error",e),me("load",e),i=n;break;case"details":me("toggle",e),i=n;break;case"input":zy(e,n),i=Ah(e,n),me("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=je({},n,{value:void 0}),me("invalid",e);break;case"textarea":By(e,n),i=Nh(e,n),me("invalid",e);break;default:i=n}Dh(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?v1(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&h1(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&yo(e,l):typeof l=="number"&&yo(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(go.hasOwnProperty(a)?l!=null&&a==="onScroll"&&me("scroll",e):l!=null&&Nv(e,a,l,s))}switch(r){case"input":Tl(e),Uy(e,n,!1);break;case"textarea":Tl(e),Fy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ci(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Fa(e,!!n.multiple,a,!1):n.defaultValue!=null&&Fa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)LS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(M(166));if(r=Ri(Ao.current),Ri(Gr.current),Ul(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kr]=t,(a=n.nodeValue!==r)&&(e=Jt,e!==null))switch(e.tag){case 3:zl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kr]=t,t.stateNode=n}return gt(t),null;case 13:if(ye(Pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&Xt!==null&&t.mode&1&&!(t.flags&128))rS(),es(),t.flags|=98560,a=!1;else if(a=Ul(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[Kr]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),a=!1}else jr!==null&&(vp(jr),jr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?Ve===0&&(Ve=3):pm())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return rs(),op(e,t),e===null&&Po(t.stateNode.containerInfo),gt(t),null;case 10:return Qv(t.type._context),gt(t),null;case 17:return Ft(t.type)&&Fu(),gt(t),null;case 19:if(ye(Pe),a=t.memoizedState,a===null)return gt(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Ls(a,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Yu(e),s!==null){for(t.flags|=128,Ls(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(Pe,Pe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Le()>is&&(t.flags|=128,n=!0,Ls(a,!1),t.lanes=4194304)}else{if(!n)if(e=Yu(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ls(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!_e)return gt(t),null}else 2*Le()-a.renderingStartTime>is&&r!==1073741824&&(t.flags|=128,n=!0,Ls(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Le(),t.sibling=null,r=Pe.current,he(Pe,n?r&1|2:r&1),t):(gt(t),null);case 22:case 23:return hm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Vt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function iN(e,t){switch(Vv(t),t.tag){case 1:return Ft(t.type)&&Fu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rs(),ye(Bt),ye(_t),rm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tm(t),null;case 13:if(ye(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Pe),null;case 4:return rs(),null;case 10:return Qv(t.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var Wl=!1,wt=!1,aN=typeof WeakSet=="function"?WeakSet:Set,z=null;function $a(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Me(e,t,n)}else r.current=null}function lp(e,t,r){try{r()}catch(n){Me(e,t,n)}}var T0=!1;function sN(e,t){if(qh=Lu,e=W1(),qv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(o=s+i),d!==a||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===r&&++u===i&&(o=s),f===a&&++c===n&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hh={focusedElem:e,selectionRange:r},Lu=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Sr(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(_){Me(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return v=T0,T0=!1,v}function co(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&lp(t,r,a)}i=i.next}while(i!==n)}}function cd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function up(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function zS(e){var t=e.alternate;t!==null&&(e.alternate=null,zS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[jo],delete t[Yh],delete t[FT],delete t[WT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function US(e){return e.tag===5||e.tag===3||e.tag===4}function N0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||US(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bu));else if(n!==4&&(e=e.child,e!==null))for(cp(e,t,r),e=e.sibling;e!==null;)cp(e,t,r),e=e.sibling}function dp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(dp(e,t,r),e=e.sibling;e!==null;)dp(e,t,r),e=e.sibling}var ot=null,Pr=!1;function Un(e,t,r){for(r=r.child;r!==null;)BS(e,t,r),r=r.sibling}function BS(e,t,r){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(rd,r)}catch{}switch(r.tag){case 5:wt||$a(r,t);case 6:var n=ot,i=Pr;ot=null,Un(e,t,r),ot=n,Pr=i,ot!==null&&(Pr?(e=ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ot.removeChild(r.stateNode));break;case 18:ot!==null&&(Pr?(e=ot,r=r.stateNode,e.nodeType===8?Rf(e.parentNode,r):e.nodeType===1&&Rf(e,r),_o(e)):Rf(ot,r.stateNode));break;case 4:n=ot,i=Pr,ot=r.stateNode.containerInfo,Pr=!0,Un(e,t,r),ot=n,Pr=i;break;case 0:case 11:case 14:case 15:if(!wt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&lp(r,t,s),i=i.next}while(i!==n)}Un(e,t,r);break;case 1:if(!wt&&($a(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Me(r,t,o)}Un(e,t,r);break;case 21:Un(e,t,r);break;case 22:r.mode&1?(wt=(n=wt)||r.memoizedState!==null,Un(e,t,r),wt=n):Un(e,t,r);break;default:Un(e,t,r)}}function I0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new aN),t.forEach(function(n){var i=vN.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function br(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ot=o.stateNode,Pr=!1;break e;case 3:ot=o.stateNode.containerInfo,Pr=!0;break e;case 4:ot=o.stateNode.containerInfo,Pr=!0;break e}o=o.return}if(ot===null)throw Error(M(160));BS(a,s,i),ot=null,Pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Me(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FS(t,e),t=t.sibling}function FS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),Lr(e),n&4){try{co(3,e,e.return),cd(3,e)}catch(m){Me(e,e.return,m)}try{co(5,e,e.return)}catch(m){Me(e,e.return,m)}}break;case 1:br(t,e),Lr(e),n&512&&r!==null&&$a(r,r.return);break;case 5:if(br(t,e),Lr(e),n&512&&r!==null&&$a(r,r.return),e.flags&32){var i=e.stateNode;try{yo(i,"")}catch(m){Me(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&c1(i,a),Rh(o,s);var u=Rh(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?v1(i,d):c==="dangerouslySetInnerHTML"?h1(i,d):c==="children"?yo(i,d):Nv(i,c,d,u)}switch(o){case"input":Ch(i,a);break;case"textarea":d1(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Fa(i,!!a.multiple,h,!1):f!==!!a.multiple&&(a.defaultValue!=null?Fa(i,!!a.multiple,a.defaultValue,!0):Fa(i,!!a.multiple,a.multiple?[]:"",!1))}i[jo]=a}catch(m){Me(e,e.return,m)}}break;case 6:if(br(t,e),Lr(e),n&4){if(e.stateNode===null)throw Error(M(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Me(e,e.return,m)}}break;case 3:if(br(t,e),Lr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_o(t.containerInfo)}catch(m){Me(e,e.return,m)}break;case 4:br(t,e),Lr(e);break;case 13:br(t,e),Lr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(dm=Le())),n&4&&I0(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(wt=(u=wt)||c,br(t,e),wt=u):br(t,e),Lr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(z=e,c=e.child;c!==null;){for(d=z=c;z!==null;){switch(f=z,h=f.child,f.tag){case 0:case 11:case 14:case 15:co(4,f,f.return);break;case 1:$a(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Me(n,r,m)}}break;case 5:$a(f,f.return);break;case 22:if(f.memoizedState!==null){R0(d);continue}}h!==null?(h.return=f,z=h):R0(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=p1("display",s))}catch(m){Me(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Me(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:br(t,e),Lr(e),n&4&&I0(e);break;case 21:break;default:br(t,e),Lr(e)}}function Lr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(US(r)){var n=r;break e}r=r.return}throw Error(M(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(yo(i,""),n.flags&=-33);var a=N0(e);dp(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=N0(e);cp(e,o,s);break;default:throw Error(M(161))}}catch(l){Me(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oN(e,t,r){z=e,WS(e)}function WS(e,t,r){for(var n=(e.mode&1)!==0;z!==null;){var i=z,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Wl;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||wt;o=Wl;var u=wt;if(Wl=s,(wt=l)&&!u)for(z=i;z!==null;)s=z,l=s.child,s.tag===22&&s.memoizedState!==null?M0(i):l!==null?(l.return=s,z=l):M0(i);for(;a!==null;)z=a,WS(a),a=a.sibling;z=i,Wl=o,wt=u}D0(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,z=a):D0(e)}}function D0(e){for(;z!==null;){var t=z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wt||cd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!wt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Sr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&y0(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}y0(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&_o(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}wt||t.flags&512&&up(t)}catch(f){Me(t,t.return,f)}}if(t===e){z=null;break}if(r=t.sibling,r!==null){r.return=t.return,z=r;break}z=t.return}}function R0(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,z=r;break}z=t.return}}function M0(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cd(4,t)}catch(l){Me(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Me(t,i,l)}}var a=t.return;try{up(t)}catch(l){Me(t,a,l)}break;case 5:var s=t.return;try{up(t)}catch(l){Me(t,s,l)}}}catch(l){Me(t,t.return,l)}if(t===e){z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,z=o;break}z=t.return}}var lN=Math.ceil,Ju=Pn.ReactCurrentDispatcher,um=Pn.ReactCurrentOwner,pr=Pn.ReactCurrentBatchConfig,re=0,et=null,Ue=null,ct=0,Vt=0,La=vi(0),Ve=0,Io=null,Xi=0,dd=0,cm=0,fo=null,Mt=null,dm=0,is=1/0,en=null,Zu=!1,fp=null,ai=null,Kl=!1,Jn=null,ec=0,ho=0,hp=null,ku=-1,Pu=0;function At(){return re&6?Le():ku!==-1?ku:ku=Le()}function si(e){return e.mode&1?re&2&&ct!==0?ct&-ct:qT.transition!==null?(Pu===0&&(Pu=j1()),Pu):(e=oe,e!==0||(e=window.event,e=e===void 0?16:D1(e.type)),e):1}function Nr(e,t,r,n){if(50<ho)throw ho=0,hp=null,Error(M(185));il(e,r,n),(!(re&2)||e!==et)&&(e===et&&(!(re&2)&&(dd|=r),Ve===4&&Gn(e,ct)),Wt(e,n),r===1&&re===0&&!(t.mode&1)&&(is=Le()+500,od&&mi()))}function Wt(e,t){var r=e.callbackNode;qC(e,t);var n=$u(e,e===et?ct:0);if(n===0)r!==null&&qy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qy(r),t===1)e.tag===0?KT($0.bind(null,e)):Z1($0.bind(null,e)),UT(function(){!(re&6)&&mi()}),r=null;else{switch(E1(n)){case 1:r=$v;break;case 4:r=P1;break;case 16:r=Mu;break;case 536870912:r=O1;break;default:r=Mu}r=QS(r,KS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function KS(e,t){if(ku=-1,Pu=0,re&6)throw Error(M(327));var r=e.callbackNode;if(Va()&&e.callbackNode!==r)return null;var n=$u(e,e===et?ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=tc(e,n);else{t=n;var i=re;re|=2;var a=HS();(et!==e||ct!==t)&&(en=null,is=Le()+500,Fi(e,t));do try{dN();break}catch(o){qS(e,o)}while(!0);Xv(),Ju.current=a,re=i,Ue!==null?t=0:(et=null,ct=0,t=Ve)}if(t!==0){if(t===2&&(i=Uh(e),i!==0&&(n=i,t=pp(e,i))),t===1)throw r=Io,Fi(e,0),Gn(e,n),Wt(e,Le()),r;if(t===6)Gn(e,n);else{if(i=e.current.alternate,!(n&30)&&!uN(i)&&(t=tc(e,n),t===2&&(a=Uh(e),a!==0&&(n=a,t=pp(e,a))),t===1))throw r=Io,Fi(e,0),Gn(e,n),Wt(e,Le()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(M(345));case 2:Pi(e,Mt,en);break;case 3:if(Gn(e,n),(n&130023424)===n&&(t=dm+500-Le(),10<t)){if($u(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){At(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gh(Pi.bind(null,e,Mt,en),t);break}Pi(e,Mt,en);break;case 4:if(Gn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Tr(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lN(n/1960))-n,10<n){e.timeoutHandle=Gh(Pi.bind(null,e,Mt,en),n);break}Pi(e,Mt,en);break;case 5:Pi(e,Mt,en);break;default:throw Error(M(329))}}}return Wt(e,Le()),e.callbackNode===r?KS.bind(null,e):null}function pp(e,t){var r=fo;return e.current.memoizedState.isDehydrated&&(Fi(e,t).flags|=256),e=tc(e,t),e!==2&&(t=Mt,Mt=r,t!==null&&vp(t)),e}function vp(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function uN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Dr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~cm,t&=~dd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Tr(t),n=1<<r;e[r]=-1,t&=~n}}function $0(e){if(re&6)throw Error(M(327));Va();var t=$u(e,0);if(!(t&1))return Wt(e,Le()),null;var r=tc(e,t);if(e.tag!==0&&r===2){var n=Uh(e);n!==0&&(t=n,r=pp(e,n))}if(r===1)throw r=Io,Fi(e,0),Gn(e,t),Wt(e,Le()),r;if(r===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pi(e,Mt,en),Wt(e,Le()),null}function fm(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(is=Le()+500,od&&mi())}}function Qi(e){Jn!==null&&Jn.tag===0&&!(re&6)&&Va();var t=re;re|=1;var r=pr.transition,n=oe;try{if(pr.transition=null,oe=1,e)return e()}finally{oe=n,pr.transition=r,re=t,!(re&6)&&mi()}}function hm(){Vt=La.current,ye(La)}function Fi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zT(r)),Ue!==null)for(r=Ue.return;r!==null;){var n=r;switch(Vv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fu();break;case 3:rs(),ye(Bt),ye(_t),rm();break;case 5:tm(n);break;case 4:rs();break;case 13:ye(Pe);break;case 19:ye(Pe);break;case 10:Qv(n.type._context);break;case 22:case 23:hm()}r=r.return}if(et=e,Ue=e=oi(e.current,null),ct=Vt=t,Ve=0,Io=null,cm=dd=Xi=0,Mt=fo=null,Di!==null){for(t=0;t<Di.length;t++)if(r=Di[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Di=null}return e}function qS(e,t){do{var r=Ue;try{if(Xv(),bu.current=Qu,Xu){for(var n=Oe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Xu=!1}if(Yi=0,Ze=qe=Oe=null,uo=!1,Co=0,um.current=null,r===null||r.return===null){Ve=1,Io=t,Ue=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=ct,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=k0(s);if(h!==null){h.flags&=-257,P0(h,s,o,a,t),h.mode&1&&S0(a,u,t),t=h,l=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}else{if(!(t&1)){S0(a,u,t),pm();break e}l=Error(M(426))}}else if(_e&&o.mode&1){var g=k0(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),P0(g,s,o,a,t),Gv(ns(l,o));break e}}a=l=ns(l,o),Ve!==4&&(Ve=2),fo===null?fo=[a]:fo.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=ES(a,l,t);g0(a,y);break e;case 1:o=l;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ai===null||!ai.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=AS(a,o,t);g0(a,_);break e}}a=a.return}while(a!==null)}GS(r)}catch(k){t=k,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function HS(){var e=Ju.current;return Ju.current=Qu,e===null?Qu:e}function pm(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),et===null||!(Xi&268435455)&&!(dd&268435455)||Gn(et,ct)}function tc(e,t){var r=re;re|=2;var n=HS();(et!==e||ct!==t)&&(en=null,Fi(e,t));do try{cN();break}catch(i){qS(e,i)}while(!0);if(Xv(),re=r,Ju.current=n,Ue!==null)throw Error(M(261));return et=null,ct=0,Ve}function cN(){for(;Ue!==null;)VS(Ue)}function dN(){for(;Ue!==null&&!MC();)VS(Ue)}function VS(e){var t=XS(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?GS(e):Ue=t,um.current=null}function GS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iN(r,t),r!==null){r.flags&=32767,Ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Ue=null;return}}else if(r=nN(r,t,Vt),r!==null){Ue=r;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ve===0&&(Ve=5)}function Pi(e,t,r){var n=oe,i=pr.transition;try{pr.transition=null,oe=1,fN(e,t,r,n)}finally{pr.transition=i,oe=n}return null}function fN(e,t,r,n){do Va();while(Jn!==null);if(re&6)throw Error(M(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(HC(e,a),e===et&&(Ue=et=null,ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kl||(Kl=!0,QS(Mu,function(){return Va(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=pr.transition,pr.transition=null;var s=oe;oe=1;var o=re;re|=4,um.current=null,sN(e,r),FS(r,e),NT(Hh),Lu=!!qh,Hh=qh=null,e.current=r,oN(r),$C(),re=o,oe=s,pr.transition=a}else e.current=r;if(Kl&&(Kl=!1,Jn=e,ec=i),a=e.pendingLanes,a===0&&(ai=null),UC(r.stateNode),Wt(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zu)throw Zu=!1,e=fp,fp=null,e;return ec&1&&e.tag!==0&&Va(),a=e.pendingLanes,a&1?e===hp?ho++:(ho=0,hp=e):ho=0,mi(),null}function Va(){if(Jn!==null){var e=E1(ec),t=pr.transition,r=oe;try{if(pr.transition=null,oe=16>e?16:e,Jn===null)var n=!1;else{if(e=Jn,Jn=null,ec=0,re&6)throw Error(M(331));var i=re;for(re|=4,z=e.current;z!==null;){var a=z,s=a.child;if(z.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:co(8,c,a)}var d=c.child;if(d!==null)d.return=c,z=d;else for(;z!==null;){c=z;var f=c.sibling,h=c.return;if(zS(c),c===u){z=null;break}if(f!==null){f.return=h,z=f;break}z=h}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}z=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,z=s;else e:for(;z!==null;){if(a=z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:co(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,z=y;break e}z=a.return}}var w=e.current;for(z=w;z!==null;){s=z;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,z=b;else e:for(s=w;z!==null;){if(o=z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:cd(9,o)}}catch(k){Me(o,o.return,k)}if(o===s){z=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,z=_;break e}z=o.return}}if(re=i,mi(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(rd,e)}catch{}n=!0}return n}finally{oe=r,pr.transition=t}}return!1}function L0(e,t,r){t=ns(r,t),t=ES(e,t,1),e=ii(e,t,1),t=At(),e!==null&&(il(e,1,t),Wt(e,t))}function Me(e,t,r){if(e.tag===3)L0(e,e,r);else for(;t!==null;){if(t.tag===3){L0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ai===null||!ai.has(n))){e=ns(r,e),e=AS(t,e,1),t=ii(t,e,1),e=At(),t!==null&&(il(t,1,e),Wt(t,e));break}}t=t.return}}function hN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&r,et===e&&(ct&r)===r&&(Ve===4||Ve===3&&(ct&130023424)===ct&&500>Le()-dm?Fi(e,0):cm|=r),Wt(e,t)}function YS(e,t){t===0&&(e.mode&1?(t=Dl,Dl<<=1,!(Dl&130023424)&&(Dl=4194304)):t=1);var r=At();e=vn(e,t),e!==null&&(il(e,t,r),Wt(e,r))}function pN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),YS(e,r)}function vN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(M(314))}n!==null&&n.delete(t),YS(e,r)}var XS;XS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)Lt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lt=!1,rN(e,t,r);Lt=!!(e.flags&131072)}else Lt=!1,_e&&t.flags&1048576&&eS(t,qu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Su(e,t),e=t.pendingProps;var i=Za(t,_t.current);Ha(t,r),i=im(null,t,n,e,i,r);var a=am();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(n)?(a=!0,Wu(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zv(t),i.updater=ud,t.stateNode=i,i._reactInternals=t,tp(t,n,e,r),t=ip(null,t,n,!0,a,r)):(t.tag=0,_e&&a&&Hv(t),Ot(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Su(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=gN(n),e=Sr(n,e),i){case 0:t=np(null,t,n,e,r);break e;case 1:t=E0(null,t,n,e,r);break e;case 11:t=O0(null,t,n,e,r);break e;case 14:t=j0(null,t,n,Sr(n.type,e),r);break e}throw Error(M(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Sr(n,i),np(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Sr(n,i),E0(e,t,n,i,r);case 3:e:{if(IS(t),e===null)throw Error(M(387));n=t.pendingProps,a=t.memoizedState,i=a.element,sS(e,t),Gu(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ns(Error(M(423)),t),t=A0(e,t,n,r,i);break e}else if(n!==i){i=ns(Error(M(424)),t),t=A0(e,t,n,r,i);break e}else for(Xt=ni(t.stateNode.containerInfo.firstChild),Jt=t,_e=!0,jr=null,r=iS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(es(),n===i){t=mn(e,t,r);break e}Ot(e,t,n,r)}t=t.child}return t;case 5:return oS(t),e===null&&Jh(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Vh(n,i)?s=null:a!==null&&Vh(n,a)&&(t.flags|=32),NS(e,t),Ot(e,t,s,r),t.child;case 6:return e===null&&Jh(t),null;case 13:return DS(e,t,r);case 4:return em(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ts(t,null,n,r):Ot(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Sr(n,i),O0(e,t,n,i,r);case 7:return Ot(e,t,t.pendingProps,r),t.child;case 8:return Ot(e,t,t.pendingProps.children,r),t.child;case 12:return Ot(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,he(Hu,n._currentValue),n._currentValue=s,a!==null)if(Dr(a.value,s)){if(a.children===i.children&&!Bt.current){t=mn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=cn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Zh(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(M(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Zh(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ot(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ha(t,r),i=vr(i),n=n(i),t.flags|=1,Ot(e,t,n,r),t.child;case 14:return n=t.type,i=Sr(n,t.pendingProps),i=Sr(n.type,i),j0(e,t,n,i,r);case 15:return CS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Sr(n,i),Su(e,t),t.tag=1,Ft(n)?(e=!0,Wu(t)):e=!1,Ha(t,r),jS(t,n,i),tp(t,n,i,r),ip(null,t,n,!0,e,r);case 19:return RS(e,t,r);case 22:return TS(e,t,r)}throw Error(M(156,t.tag))};function QS(e,t){return k1(e,t)}function mN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,r,n){return new mN(e,t,r,n)}function vm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gN(e){if(typeof e=="function")return vm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dv)return 11;if(e===Rv)return 14}return 2}function oi(e,t){var r=e.alternate;return r===null?(r=dr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ou(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")vm(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ea:return Wi(r.children,i,a,t);case Iv:s=8,i|=8;break;case Ph:return e=dr(12,r,t,i|2),e.elementType=Ph,e.lanes=a,e;case Oh:return e=dr(13,r,t,i),e.elementType=Oh,e.lanes=a,e;case jh:return e=dr(19,r,t,i),e.elementType=jh,e.lanes=a,e;case o1:return fd(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case a1:s=10;break e;case s1:s=9;break e;case Dv:s=11;break e;case Rv:s=14;break e;case Bn:s=16,n=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=dr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Wi(e,t,r,n){return e=dr(7,e,n,t),e.lanes=r,e}function fd(e,t,r,n){return e=dr(22,e,n,t),e.elementType=o1,e.lanes=r,e.stateNode={isHidden:!1},e}function Wf(e,t,r){return e=dr(6,e,null,t),e.lanes=r,e}function Kf(e,t,r){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yN(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mm(e,t,r,n,i,a,s,o,l){return e=new yN(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zv(a),e}function xN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function JS(e){if(!e)return di;e=e._reactInternals;e:{if(sa(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var r=e.type;if(Ft(r))return J1(e,r,t)}return t}function ZS(e,t,r,n,i,a,s,o,l){return e=mm(r,n,!0,e,i,a,s,o,l),e.context=JS(null),r=e.current,n=At(),i=si(r),a=cn(n,i),a.callback=t??null,ii(r,a,i),e.current.lanes=i,il(e,i,n),Wt(e,n),e}function hd(e,t,r,n){var i=t.current,a=At(),s=si(i);return r=JS(r),t.context===null?t.context=r:t.pendingContext=r,t=cn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ii(i,t,s),e!==null&&(Nr(e,i,s,a),wu(e,i,s)),s}function rc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gm(e,t){z0(e,t),(e=e.alternate)&&z0(e,t)}function wN(){return null}var ek=typeof reportError=="function"?reportError:function(e){console.error(e)};function ym(e){this._internalRoot=e}pd.prototype.render=ym.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));hd(e,t,null,null)};pd.prototype.unmount=ym.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qi(function(){hd(null,e,null,null)}),t[pn]=null}};function pd(e){this._internalRoot=e}pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=T1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vn.length&&t!==0&&t<Vn[r].priority;r++);Vn.splice(r,0,e),r===0&&I1(e)}};function xm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U0(){}function bN(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=rc(s);a.call(u)}}var s=ZS(t,n,e,0,null,!1,!1,"",U0);return e._reactRootContainer=s,e[pn]=s.current,Po(e.nodeType===8?e.parentNode:e),Qi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=rc(l);o.call(u)}}var l=mm(e,0,!1,null,null,!1,!1,"",U0);return e._reactRootContainer=l,e[pn]=l.current,Po(e.nodeType===8?e.parentNode:e),Qi(function(){hd(t,l,r,n)}),l}function md(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=rc(s);o.call(l)}}hd(t,s,e,i)}else s=bN(r,t,e,i,n);return rc(s)}A1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Js(t.pendingLanes);r!==0&&(Lv(t,r|1),Wt(t,Le()),!(re&6)&&(is=Le()+500,mi()))}break;case 13:Qi(function(){var n=vn(e,1);if(n!==null){var i=At();Nr(n,e,1,i)}}),gm(e,1)}};zv=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var r=At();Nr(t,e,134217728,r)}gm(e,134217728)}};C1=function(e){if(e.tag===13){var t=si(e),r=vn(e,t);if(r!==null){var n=At();Nr(r,e,t,n)}gm(e,t)}};T1=function(){return oe};N1=function(e,t){var r=oe;try{return oe=e,t()}finally{oe=r}};$h=function(e,t,r){switch(t){case"input":if(Ch(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=sd(n);if(!i)throw Error(M(90));u1(n),Ch(n,i)}}}break;case"textarea":d1(e,r);break;case"select":t=r.value,t!=null&&Fa(e,!!r.multiple,t,!1)}};y1=fm;x1=Qi;var _N={usingClientEntryPoint:!1,Events:[sl,Na,sd,m1,g1,fm]},zs={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SN={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_1(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||wN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{rd=ql.inject(SN),Vr=ql}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_N;rr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(t))throw Error(M(200));return xN(e,t,null,r)};rr.createRoot=function(e,t){if(!xm(e))throw Error(M(299));var r=!1,n="",i=ek;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=mm(e,1,!1,null,null,r,!1,n,i),e[pn]=t.current,Po(e.nodeType===8?e.parentNode:e),new ym(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=_1(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return Qi(e)};rr.hydrate=function(e,t,r){if(!vd(t))throw Error(M(200));return md(null,e,t,!0,r)};rr.hydrateRoot=function(e,t,r){if(!xm(e))throw Error(M(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=ek;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=ZS(t,null,e,1,r??null,i,!1,a,s),e[pn]=t.current,Po(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new pd(t)};rr.render=function(e,t,r){if(!vd(t))throw Error(M(200));return md(null,e,t,!1,r)};rr.unmountComponentAtNode=function(e){if(!vd(e))throw Error(M(40));return e._reactRootContainer?(Qi(function(){md(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};rr.unstable_batchedUpdates=fm;rr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vd(r))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return md(e,t,r,!1,n)};rr.version="18.3.1-next-f1338f8080-20240426";function tk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tk)}catch(e){console.error(e)}}tk(),t1.exports=rr;var ll=t1.exports,B0=ll;Sh.createRoot=B0.createRoot,Sh.hydrateRoot=B0.hydrateRoot;function gd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function kN(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}const PN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class wm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ON extends wm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class F0 extends wm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class W0 extends wm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mp||(mp={}));class jN{constructor(t,{headers:r={},customFetch:n,region:i=mp.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=PN(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return kN(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:u,signal:c,timeout:d}=n;let f={},{region:h}=n;h||(h=this.region);const v=new URL(`${this.url}/${r}`);h&&h!=="any"&&(f["x-region"]=h,v.searchParams.set("forceFunctionRegion",h));let m;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(f["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(f["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let g=c;d&&(s=new AbortController,a=setTimeout(()=>s.abort(),d),c?(g=s.signal,c.addEventListener("abort",()=>s.abort())):g=s.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:m,signal:g}).catch(k=>{throw new ON(k)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new F0(y);if(!y.ok)throw new W0(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield y.json():b==="application/octet-stream"||b==="application/pdf"?_=yield y.blob():b==="text/event-stream"?_=y:b==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof W0||o instanceof F0?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var EN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},AN=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,o=null,l=null,u=a.status,c=a.statusText;if(a.ok){var d,f;if(r.method!=="HEAD"){var h;const y=await a.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?o=y:o=JSON.parse(y))}const m=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),g=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");m&&g&&g.length>1&&(l=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const m=await a.text();try{s=JSON.parse(m),Array.isArray(s)&&a.status===404&&(o=[],s=null,u=200,c="OK")}catch{a.status===404&&m===""?(u=204,c="No Content"):s={message:m}}if(s&&r.isMaybeSingle&&(!(s==null||(v=s.details)===null||v===void 0)&&v.includes("0 rows"))&&(s=null,u=200,c="OK"),s&&r.shouldThrowOnError)throw new EN(s)}return{error:s,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let o="";const l=a==null?void 0:a.cause;if(l){var u,c,d,f;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",m=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";o=`${(d=a==null?void 0:a.name)!==null&&d!==void 0?d:"FetchError"}: ${a==null?void 0:a.message}`,o+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,m&&(o+=` (${m})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var h;o=(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},CN=class extends AN{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const K0=new RegExp("[,()]");var Sa=class extends CN{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&K0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&K0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},TN=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",s),n&&l.append("Prefer",`count=${n}`),new Sa({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);a.searchParams.set("columns",l.join(","))}}return new Sa({method:i,url:a,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);o.searchParams.set("columns",c.join(","))}}return new Sa({method:s,url:o,headers:l,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Sa({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Sa({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},NN=class rk{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new TN(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new rk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(c)),d=n&&Object.values(r).some(c);d?(o="POST",u=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,v])=>v!==void 0).map(([h,v])=>[h,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([h,v])=>{l.searchParams.append(h,v)})):(o="POST",u=r);const f=new Headers(this.headers);return d?f.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&f.set("Prefer",`count=${a}`),new Sa({method:o,url:l,headers:f,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class IN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const DN="2.93.3",RN=`realtime-js/${DN}`,MN="1.0.0",nk="2.0.0",q0=nk,gp=1e4,$N=1e3,LN=100;var Wn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wn||(Wn={}));var Ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ke||(Ke={}));var Or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Or||(Or={}));var yp;(function(e){e.websocket="websocket"})(yp||(yp={}));var Ci;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ci||(Ci={}));class zN{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var i,a;const s=t.topic,o=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+u.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(h),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,l.length),v.setUint8(m++,o.length),v.setUint8(m++,s.length),v.setUint8(m++,u.length),v.setUint8(m++,d.length),v.setUint8(m++,r),Array.from(l,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(d,y=>v.setUint8(m++,y.charCodeAt(0)));var g=new Uint8Array(h.byteLength+n.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(n),h.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+i));l=l+i;const c=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+s));l=l+s;const f=t.slice(l,t.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:c,payload:h};return s>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class ik{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const H0=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=UN(s,e,t,i),a),{}):{}},UN=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?ak(a,s):xp(s)},ak=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return KN(t,r)}switch(e){case de.bool:return BN(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return FN(t);case de.json:case de.jsonb:return WN(t);case de.timestamp:return qN(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return xp(t);default:return xp(t)}},xp=e=>e,BN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},WN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},KN=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>ak(t,o))}return e},qN=e=>typeof e=="string"?e.replace(" ","T"):e,sk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class qf{constructor(t,r,n={},i=gp){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var V0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(V0||(V0={}));class po{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=po.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=po.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=po.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const d=a[u];if(d){const f=c.map(g=>g.presence_ref),h=d.map(g=>g.presence_ref),v=c.filter(g=>h.indexOf(g.presence_ref)<0),m=d.filter(g=>f.indexOf(g.presence_ref)<0);v.length>0&&(o[u]=v),m.length>0&&(l[u]=m)}else o[u]=c}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const d=t[o].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[o].unshift(...f)}n(o,c,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(G0||(G0={}));var vo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vo||(vo={}));var tn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tn||(tn={}));class za{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qf(this,Or.join,this.params,this.timeout),this.rejoinTimer=new ik(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Or.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new po(this),this.broadcastEndpointURL=sk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[vo.PRESENCE]&&this.bindings[vo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},f={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(tn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(tn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(tn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,y=[];for(let w=0;w<g;w++){const b=m[w],{filter:{event:_,schema:k,table:P,filter:S}}=b,O=h&&h[w];if(O&&O.event===_&&za.isFilterValueEqual(O.schema,k)&&za.isFilterValueEqual(O.table,P)&&za.isFilterValueEqual(O.filter,S))y.push(Object.assign(Object.assign({},b),{id:O.id}));else{this.unsubscribe(),this.state=Ke.errored,t==null||t(tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(tn.SUBSCRIBED);return}}).receive("error",h=>{this.state=Ke.errored,t==null||t(tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ke.joined&&t===vo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ke.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Or.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new qf(this,Or.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ke.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qf(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>LN){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=Or;if(n&&[o,l,u,c].indexOf(s)>=0&&n!==this._joinRef())return;let f=this._onMessage(s,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var v,m,g;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=h.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(h=>h.callback(f,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var v,m,g,y,w,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,k=(v=h.filter)===null||v===void 0?void 0:v.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:m,table:g,commit_timestamp:y,type:w,errors:b}=v;f=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(v))}h.callback(f,n)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&za.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Or.close,{},t)}_onError(t){this._on(Or.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=H0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=H0(t.columns,t.old_record)),r}}const Hf=()=>{},Hl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HN=[1e3,2e3,5e3,1e4],VN=1e4,GN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YN{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gp,this.transport=null,this.heartbeatIntervalMs=Hl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hf,this.ref=0,this.reconnectTimer=null,this.vsn=q0,this.logger=Hf,this.conn=null,this.sendBuffer=[],this.serializer=new zN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${yp.websocket}`,this.httpEndpoint=sk(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wn.connecting:return Ci.Connecting;case Wn.open:return Ci.Open;case Wn.closing:return Ci.Closing;default:return Ci.Closed}}isConnected(){return this.connectionState()===Ci.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new za(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($N,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Wn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wn.open||this.conn.readyState===Wn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Or.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([GN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:RN};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Or.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ik(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,u,c,d,f,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:gp,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Hl.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Hf,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:q0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>HN[v-1]||VN,this.vsn){case MN:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,m)=>m(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,m)=>m(JSON.parse(v));break;case nk:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Do=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function XN(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function QN(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JN(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const o=XN(e.baseUrl,n,i),l=await QN(e.auth),u=await t(o,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...s},body:a?JSON.stringify(a):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&c?JSON.parse(c):c;if(!u.ok){const h=d?f:void 0,v=h==null?void 0:h.error;throw new Do((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:h})}return{status:u.status,headers:u.headers,data:f}}}}function Vl(e){return e.join("")}var ZN=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Vl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vl(e.namespace)}`}),!0}catch(t){if(t instanceof Do&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Do&&r.status===409)return;throw r}}};function ha(e){return e.join("")}var e2=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ha(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ha(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ha(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ha(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ha(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ha(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Do&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Do&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},t2=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JN({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new ZN(this.client,t),this.tableOps=new e2(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},yd=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function xd(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Gl=class extends yd{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ok=class extends yd{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const r2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),n2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wp=e=>{if(Array.isArray(e))return e.map(r=>wp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=wp(n)}),t},i2=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function a2(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s2(e){var t=a2(e,"string");return Ro(t)=="symbol"?t:t+""}function o2(e,t,r){return(t=s2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(r),!0).forEach(function(n){o2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const X0=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},l2=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new Gl(X0(s),a,o,n))}).catch(()=>{if(n==="vectors"){const s=a+"";t(new Gl(i.statusText||`HTTP ${a} error`,a,s,n))}else{const s=a+"";t(new Gl(i.statusText||`HTTP ${a} error`,a,s,n))}});else{const s=a+"";t(new Gl(i.statusText||`HTTP ${a} error`,a,s,n))}}else t(new ok(X0(e),e,n))},u2=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?V(V({},i),r):(n2(n)?(i.headers=V({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),V(V({},i),r))};async function Us(e,t,r,n,i,a,s){return new Promise((o,l)=>{e(r,u2(t,n,i,a)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(s==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>l2(u,l,n,s))})}function lk(e="storage"){return{get:async(t,r,n,i)=>Us(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,a)=>Us(t,"POST",r,i,a,n,e),put:async(t,r,n,i,a)=>Us(t,"PUT",r,i,a,n,e),head:async(t,r,n,i)=>Us(t,"HEAD",r,V(V({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,a)=>Us(t,"DELETE",r,i,a,n,e)}}const c2=lk("storage"),{get:Mo,post:kr,put:bp,head:d2,remove:bm}=c2,Gt=lk("vectors");var vs=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=r2(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xd(r))return{data:null,error:r};throw r}}},f2=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(xd(t))return{data:null,error:t};throw t}}};let uk;uk=Symbol.toStringTag;var h2=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[uk]="BlobDownloadBuilder",this.promise=null}asStream(){return new f2(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(xd(t))return{data:null,error:t};throw t}}};const p2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var v2=class extends vs{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let a;const s=V(V({},Q0),n);let o=V(V({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(o=V(V({},o),n.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),d=await(e=="PUT"?bp:kr)(i.fetch,`${i.url}/object/${c}`,a,V({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),s=i._getFinalPath(a),o=new URL(i.url+`/object/upload/sign/${s}`);return o.searchParams.set("token",t),i.handleOperation(async()=>{let l;const u=V({upsert:Q0.upsert},n),c=V(V({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:a,fullPath:(await bp(i.fetch,o.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=V({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await kr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),o=s.searchParams.get("token");if(!o)throw new yd("No token returned by API");return{signedUrl:s.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await kr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await kr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),a=await kr(n.fetch,`${n.url}/object/sign/${i}`,V({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await kr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(s=>V(V({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),s=()=>Mo(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new h2(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>wp(await Mo(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await d2(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xd(n)&&n instanceof ok){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await bm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=V(V(V({},p2),t),{},{prefix:e||""});return await kr(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=V({},e);return await kr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const m2="2.93.3",ul={"X-Client-Info":`storage-js/${m2}`};var g2=class extends vs{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),s=V(V({},ul),t);super(a,s,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Mo(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Mo(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await kr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await bp(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await kr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await bm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},y2=class extends vs{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=V(V({},ul),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await kr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Mo(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await bm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!i2(e))throw new yd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new t2({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...o)=>{try{return{data:await s.apply(i,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},x2=class extends vs{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=V(V({},ul),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Gt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Gt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},w2=class extends vs{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=V(V({},ul),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},b2=class extends vs{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=V(V({},ul),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Gt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},_2=class extends b2{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new S2(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},S2=class extends x2{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new k2(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},k2=class extends w2{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,V(V({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},P2=class extends g2{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new v2(this.url,this.headers,e,this.fetch)}get vectors(){return new _2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new y2(this.url+"/iceberg",this.headers,this.fetch)}};const ck="2.93.3",ka=30*1e3,_p=3,Vf=_p*ka,O2="http://localhost:9999",j2="supabase.auth.token",E2={"X-Client-Info":`gotrue-js/${ck}`},Sp="X-Supabase-Api-Version",dk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C2=10*60*1e3;class $o extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class T2 extends $o{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function N2(e){return B(e)&&e.name==="AuthApiError"}class Ti extends $o{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class On extends $o{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ht extends On{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gf(e){return B(e)&&e.name==="AuthSessionMissingError"}class pa extends On{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yl extends On{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xl extends On{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I2(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class J0 extends On{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class D2 extends On{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kp extends On{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Yf(e){return B(e)&&e.name==="AuthRetryableFetchError"}class Z0 extends On{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Pp extends On{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ex=` 	
\r=`.split(""),R2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ex.length;t+=1)e[ex[t].charCodeAt(0)]=-2;for(let t=0;t<nc.length;t+=1)e[nc[t].charCodeAt(0)]=t;return e})();function tx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(nc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(nc[n]),t.queuedBits-=6}}function fk(e,t,r){const n=R2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rx(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{L2(s,n,r)};for(let s=0;s<e.length;s+=1)fk(e.charCodeAt(s),i,a);return t.join("")}function M2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}M2(n,t)}}function L2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ga(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)fk(e.charCodeAt(i),r,n);return new Uint8Array(t)}function z2(e){const t=[];return $2(e,r=>t.push(r)),new Uint8Array(t)}function Mi(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>tx(i,r,n)),tx(null,r,n),t.join("")}function U2(e){return Math.round(Date.now()/1e3)+e}function B2(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",bi={tested:!1,writable:!1},hk=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bi.tested)return bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bi.tested=!0,bi.writable=!0}catch{bi.tested=!0,bi.writable=!1}return bi.writable};function F2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const pk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),W2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pa=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_i=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},it=async(e,t)=>{await e.removeItem(t)};class wd{constructor(){this.promise=new wd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wd.promiseConstructor=Promise;function Ql(e){const t=e.split(".");if(t.length!==3)throw new Pp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!A2.test(t[n]))throw new Pp("JWT not in base64url format");return{header:JSON.parse(rx(t[0])),payload:JSON.parse(rx(t[1])),signature:Ga(t[2]),raw:{header:t[0],payload:t[1]}}}async function K2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function q2(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function H2(e){return("0"+e.toString(16)).substr(-2)}function V2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,H2).join("")}async function G2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Y2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await G2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function va(e,t,r=!1){const n=V2();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Pa(e,`${t}-code-verifier`,i);const a=await Y2(n);return[a,n===a?"plain":"s256"]}const X2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q2(e){const t=e.headers.get(Sp);if(!t||!t.match(X2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function J2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Z2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ma(e){if(!eI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xf(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tI(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function nx(e){return JSON.parse(JSON.stringify(e))}const Oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rI=[502,503,504];async function ix(e){var t;if(!W2(e))throw new kp(Oi(e),0);if(rI.includes(e.status))throw new kp(Oi(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ti(Oi(a),a)}let n;const i=Q2(e);if(i&&i.getTime()>=dk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Z0(Oi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Z0(Oi(r),e.status,r.weak_password.reasons);throw new T2(Oi(r),e.status||500,n)}const nI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function q(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Sp]||(a[Sp]=dk["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await iI(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function iI(e,t,r,n,i,a){const s=nI(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new kp(Oi(l),0)}if(o.ok||await ix(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await ix(l)}}function _r(e){var t;let r=null;oI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=U2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ax(e){const t=_r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function aI(e){return{data:e,error:null}}function sI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=gd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function sx(e){return e}function oI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qf=["global","local","others"];class lI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=pk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Qf[0]){if(Qf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qf.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=gd(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:sI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(B(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:sx});if(c.error)throw c.error;const d=await c.json(),f=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ma(t);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ma(t);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Yn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ma(t);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ma(t.userId);try{const{data:r,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ma(t.userId),ma(t.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:sx});if(c.error)throw c.error;const d=await c.json(),f=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(B(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}}function ox(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ga={debug:!!(globalThis&&hk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class uI extends vk{}async function cI(e,t,r){ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ga.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ga.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ga.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function dI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fI(e){return parseInt(e,16)}function hI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function pI(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=mk(e.address),v=c?`${c}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${h}

${m}`;let y=`URI: ${d}
Version: ${f}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}y+=w}return`${g}
${y}`}class ze extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class ic extends ze{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function vI({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(gk(s)){if(a.rp.id!==s)return new ze({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function mI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(gk(n)){if(r.rpId!==n)return new ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class gI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const yI=new gI;function xI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=gd(e,["challenge","user","excludeCredentials"]),a=Ga(t).buffer,s=Object.assign(Object.assign({},r),{id:Ga(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ga(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function wI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=gd(e,["challenge","allowCredentials"]),i=Ga(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Ga(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function bI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _I(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mi(new Uint8Array(i.authenticatorData)),clientDataJSON:Mi(new Uint8Array(i.clientDataJSON)),signature:Mi(new Uint8Array(i.signature)),userHandle:i.userHandle?Mi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function lx(){var e,t;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function SI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",t)}:{data:null,error:new ic("Empty credential response",t)}}catch(t){return{data:null,error:vI({error:t,options:e})}}}async function kI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",t)}:{data:null,error:new ic("Empty credential response",t)}}catch(t){return{data:null,error:mI({error:t,options:e})}}}const PI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},OI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ac(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=ac(o,s):n[a]=ac(s)}else n[a]=s}return n}function jI(e,t){return ac(PI,e,t||{})}function EI(e,t){return ac(OI,e,t||{})}class AI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){var s;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const u=i??yI.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;if(!c.name){const d=n;if(d)c.name=`${c.id}:${d}`;else{const h=(await this.client.getUser()).data.user,v=((s=h==null?void 0:h.user_metadata)===null||s===void 0?void 0:s.name)||(h==null?void 0:h.email)||(h==null?void 0:h.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=jI(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await SI({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=EI(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await kI(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Ti("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new $o("rpId is required for WebAuthn authentication")};try{if(!lx())return{data:null,error:new Ti("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return B(s)?{data:null,error:s}:{data:null,error:new Ti("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new $o("rpId is required for WebAuthn registration")};try{if(!lx())return{data:null,error:new Ti("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return B(s)?{data:null,error:s}:{data:null,error:new Ti("Unexpected error in register",s)}}}}dI();const CI={url:O2,storageKey:j2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ux(e,t,r){return await r()}const ya={};class Lo{get jwks(){var t,r;return(r=(t=ya[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ya[this.storageKey]=Object.assign(Object.assign({},ya[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ya[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ya[this.storageKey]=Object.assign(Object.assign({},ya[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},CI),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Lo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&at()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new lI({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=pk(a.fetch),this.lock=a.lock||ux,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&at()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cI:this.lock=ux,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:hk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ox(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ox(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ck}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(at()&&(r=F2(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),at()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),I2(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return B(r)?this._returnResult({error:r}):this._returnResult({error:new Ti("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:_r}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(B(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await va(this.storage,this.storageKey)),a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:v},xform:_r})}else if("phone"in t){const{phone:c,password:d,options:f}=t;a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:_r})}else throw new Yl("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(await it(this.storage,`${this.storageKey}-code-verifier`),B(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ax})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ax})}else throw new Yl("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new pa;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(B(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,l,u,c,d,f;let h,v;if("message"in t)h=t.message,v=t.signature;else{const{chain:m,wallet:g,statement:y,options:w}=t;let b;if(at())if(typeof g=="object")b=g;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")b=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),k=await b.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=mk(k[0]);let S=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const E=await b.request({method:"eth_chainId"});S=fI(E)}const O={domain:_.host,address:P,statement:y,uri:_.href,version:"1",chainId:S,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=pI(O),v=await b.request({method:"personal_sign",params:[hI(h),P]})}try{const{data:m,error:g}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:_r});if(g)throw g;if(!m||!m.session||!m.user){const y=new pa;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(B(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,a,s,o,l,u,c,d,f,h;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:w,options:b}=t;let _;if(at())if(typeof y=="object")_=y;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))_=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const k=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const P=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),w?{statement:w}:null));let S;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")S=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)S=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(c=b==null?void 0:b.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const P=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=P}}try{const{data:g,error:y}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Mi(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:_r});if(y)throw y;if(!g||!g.session||!g.user){const w=new pa;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(B(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await _i(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new D2;const{data:a,error:s}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_r});if(await it(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new pa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await it(this.storage,`${this.storageKey}-code-verifier`),B(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_r}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new pa;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(B(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await va(this.storage,this.storageKey));const{error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Yl("You must provide either an email or phone number.")}catch(o){if(await it(this.storage,`${this.storageKey}-code-verifier`),B(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:_r});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await va(this.storage,this.storageKey));const u=await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:aI});return!((a=u.data)===null||a===void 0)&&a.url&&at()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await it(this.storage,`${this.storageKey}-code-verifier`),B(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ht;const{error:i}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(B(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Yl("You must provide either an email or phone number and a type")}catch(r){if(B(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _i(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Vf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await _i(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Xf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=tI(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yn}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Yn})})}catch(r){if(B(r))return Gf(r)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ht;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await va(this.storage,this.storageKey));const{data:u,error:c}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Yn});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await it(this.storage,`${this.storageKey}-code-verifier`),B(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ht;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Ql(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(B(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ht;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(B(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!at())throw new Xl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new J0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new J0("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!a||!o||!s||!u)throw new Xl("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=ka&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const v=f-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(B(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _i(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!Gf(a))return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(N2(o)&&(o.status===404||o.status===401||o.status===403)||Gf(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=B2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await va(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await it(this.storage,`${this.storageKey}-code-verifier`),B(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,c;const{data:d,error:f}=a;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return at()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(B(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:u,nonce:c}=t,d=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_r}),{data:f,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new pa}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await q2(async i=>(i>0&&await K2(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_r})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Yf(a)&&Date.now()+s-n<ka})}catch(n){if(this._debug(r,"error",n),B(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),at()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await _i(this.storage,this.storageKey);if(i&&this.userStorage){let s=await _i(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Pa(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Xf()}else if(i&&!i.user&&!i.user){const s=await _i(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await it(this.storage,this.storageKey+"-user"),await Pa(this.storage,this.storageKey,i)):i.user=Xf()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Vf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Vf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Yf(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new wd;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Ht;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),B(a)){const s={data:null,error:a};return Yf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pa(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=nx(i);await Pa(this.storage,this.storageKey,a)}else{const i=nx(r);await Pa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ka);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/ka);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ka}ms, refresh threshold is ${_p} ticks`),i<=_p&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await va(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?bI(t.webauthn.credential_response):_I(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:xI(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:wI(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,a;if(t)try{const{payload:h}=Ql(t);let v=null;h.aal&&(v=h.aal);let m=v;const{data:{user:g},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const b=h.amr||[];return{data:{currentLevel:v,nextLevel:m,currentAuthenticationMethods:b},error:null}}catch(h){if(B(h))return this._returnResult({data:null,error:h});throw h}const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ql(s.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((a=(i=s.user.factors)===null||i===void 0?void 0:i.filter(h=>h.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await q(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ht});const s=await q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&at()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ht});const s=await q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&at()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(t){if(B(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+C2>i)return n;const{data:a,error:s}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return this._returnResult({data:null,error:v});n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Ql(n);r!=null&&r.allowExpired||J2(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const c=Z2(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,z2(`${o}.${l}`)))throw new Pp("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}}Lo.nextInstanceID={};const TI=Lo,NI="2.93.3";let eo="";typeof Deno<"u"?eo="deno":typeof document<"u"?eo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?eo="react-native":eo="node";const II={"X-Client-Info":`supabase-js-${eo}/${NI}`},DI={headers:II},RI={schema:"public"},MI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$I={};function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function LI(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zI(e){var t=LI(e,"string");return zo(t)=="symbol"?t:t+""}function UI(e,t,r){return(t=zI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cx(Object(r),!0).forEach(function(n){UI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const BI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FI=()=>Headers,WI=(e,t,r)=>{const n=BI(r),i=FI();return async(a,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Ie(Ie({},s),{},{headers:u}))}};function KI(e){return e.endsWith("/")?e:e+"/"}function qI(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Ie(Ie({},l),i),auth:Ie(Ie({},u),a),realtime:Ie(Ie({},c),s),storage:{},global:Ie(Ie(Ie({},d),o),{},{headers:Ie(Ie({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function HI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(KI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var VI=class extends TI{constructor(e){super(e)}},GI=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=HI(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,o={db:RI,realtime:$I,auth:Ie(Ie({},MI),{},{storageKey:s}),global:DI},l=qI(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=WI(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new NN(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new P2(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new jN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:o,debug:l,throwOnError:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VI({url:this.authUrl.href,headers:Ie(Ie({},f),c),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new YN(this.realtimeUrl.href,Ie(Ie({},e),{},{params:Ie(Ie({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const YI=(e,t,r)=>new GI(e,t,r);function XI(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}XI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function yk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=yk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function le(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=yk(e))&&(n&&(n+=" "),n+=t);return n}const sc=e=>{if(!e)return"";if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,r,n]=e.split("-");return new Date(parseInt(t),parseInt(r)-1,parseInt(n)).toLocaleDateString("en-US",{month:"short",day:"numeric"})}return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})},$i=e=>{const t=Number(e);return isNaN(t)?"$0.00":t>=1e3?"$"+(t/1e3).toFixed(1)+"K":"$"+t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},Ni=e=>"$"+Number(e).toFixed(2),xk=e=>{const t=Number(e);return(t>=0?"+":"")+t.toFixed(2)+"%"},QI=e=>{if(!e)return 999;const[t,r,n]=e.split("-").map(Number),i=new Date(t,r-1,n),a=new Date;return a.setHours(0,0,0,0),Math.ceil((i.getTime()-a.getTime())/864e5)},JI="https://irejefxhgetulqmxponl.supabase.co",ZI="sb_publishable_STPE7Kl1Pnlwm6a-mCa-9g_U7hvret6",Kn=100,wk=["Perfect Storm","Pullback Buy","Breakout","Divergence","Strong Trend","Failed Rally","Breakdown","Distribution","Strong Down","Other"],we=YI(JI,ZI);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fe=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},c)=>x.createElement("svg",{ref:c,...eD,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${tD(e)}`,o].join(" "),...u},[...t.map(([d,f])=>x.createElement(d,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Fe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Fe("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Fe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),cD=({activeTab:e,setActiveTab:t})=>{const r=[{id:"scanner",label:"Scanner",Icon:Ya},{id:"strategy",label:"Strategy",Icon:uD},{id:"watchlist",label:"Watchlist",Icon:Ok},{id:"portfolio",label:"Portfolio",Icon:oD},{id:"history",label:"History",Icon:kk},{id:"stats",label:"Stats",Icon:bk}];return p.jsx("nav",{className:"fixed bottom-0 left-0 right-0 sm:static bg-[#000000eb] sm:bg-transparent border-t border-white/10 sm:border-b sm:border-[#2A2A2A] sm:border-t-0 z-50 flex sm:mb-6 sm:gap-0 backdrop-blur-md sm:backdrop-blur-none",style:{paddingBottom:"calc(env(safe-area-inset-bottom) + 4px)"},children:r.map(n=>p.jsxs("button",{onClick:()=>t(n.id),"aria-label":`${n.label} tab`,"aria-current":e===n.id?"page":void 0,className:`flex-1 sm:flex-none flex flex-col sm:flex-row items-center justify-center gap-1.5 sm:gap-2 sm:px-5 py-3 sm:py-4 min-h-[60px] sm:min-h-auto transition-colors relative cursor-pointer
                    ${e===n.id?"text-accent-green sm:text-white":"text-[#8E8E93] sm:text-[#666666] hover:text-[#A3A3A3]"}`,children:[p.jsx(n.Icon,{size:24,strokeWidth:1.5,className:"sm:w-5 sm:h-5 sm:stroke-2"}),p.jsx("span",{className:"text-xs sm:text-base font-medium",children:n.label}),e===n.id&&p.jsx("div",{className:"hidden sm:block absolute bottom-0 left-0 right-0 h-[2px] bg-accent-green"})]},n.id))})},dD=({onLogin:e})=>{const[t,r]=x.useState(""),[n,i]=x.useState(""),[a,s]=x.useState(null),[o,l]=x.useState(!1),u=async c=>{c.preventDefault(),s(null),l(!0);const{error:d}=await we.auth.signInWithPassword({email:t,password:n});l(!1),d?s(d.message):e()};return p.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-bg-primary",children:p.jsxs("div",{className:"w-full max-w-sm fade-in",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Trading Journal"}),p.jsx("p",{className:"text-text-secondary",children:"Track your options with discipline"})]}),p.jsxs("form",{onSubmit:u,className:"space-y-4",children:[p.jsx("input",{type:"email",value:t,onChange:c=>r(c.target.value),placeholder:"Email",className:"w-full px-4 py-4 rounded-xl text-lg","aria-label":"Email address",autoFocus:!0,required:!0}),p.jsx("input",{type:"password",value:n,onChange:c=>i(c.target.value),placeholder:"Password",className:"w-full px-4 py-4 rounded-xl text-lg","aria-label":"Password",required:!0}),a&&p.jsx("p",{className:"text-accent-red text-sm text-center",role:"alert",children:a}),p.jsx("button",{type:"submit",className:"btn-primary w-full py-4 rounded-xl text-lg cursor-pointer",disabled:o,children:o?"Signing in...":"Continue"})]})]})})},bd=()=>p.jsxs("div",{className:"flex items-center justify-center py-16",children:[p.jsx("div",{className:"spinner"})," // Uses CSS class from index.css"]}),yt=({label:e,explanation:t,formula:r,position:n="top",className:i})=>{const[a,s]=x.useState(!1),[o,l]=x.useState({}),[u,c]=x.useState(!1),d=x.useRef(null),f=x.useRef(null),h=()=>{if(!d.current||!f.current)return;const g=d.current.getBoundingClientRect(),y=f.current.getBoundingClientRect(),w=window.innerWidth,b=window.innerHeight,_=12;let k=0,P=0;n==="top"||n==="bottom"?(k=g.left+g.width/2-y.width/2,k<_?k=_:k+y.width>w-_&&(k=w-y.width-_),n==="top"?(P=g.top-y.height-8,P<_&&(P=g.bottom+8)):(P=g.bottom+8,P+y.height>b-_&&(P=g.top-y.height-8))):(P=g.top+g.height/2-y.height/2,P<_?P=_:P+y.height>b-_&&(P=b-y.height-_),n==="left"?(k=g.left-y.width-8,k<_&&(k=g.right+8)):(k=g.right+8,k+y.width>w-_&&(k=g.left-y.width-8))),l({position:"fixed",left:`${k}px`,top:`${P}px`,zIndex:9999}),c(!0)};x.useLayoutEffect(()=>{a&&d.current&&f.current?requestAnimationFrame(()=>{h()}):c(!1)},[a,n]),x.useEffect(()=>{if(!a)return;const g=()=>s(!1),y=()=>h();return window.addEventListener("scroll",g,{passive:!0}),window.addEventListener("resize",y,{passive:!0}),()=>{window.removeEventListener("scroll",g),window.removeEventListener("resize",y)}},[a]),x.useEffect(()=>{if(!a)return;const g=y=>{d.current&&!d.current.contains(y.target)&&f.current&&!f.current.contains(y.target)&&s(!1)};return document.addEventListener("mousedown",g),document.addEventListener("touchstart",g),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("touchstart",g)}},[a]);const v=g=>{g.stopPropagation(),g.preventDefault(),s(!a)},m=a?ll.createPortal(p.jsxs("div",{ref:f,className:`w-72 max-w-[85vw] px-4 py-3 bg-bg-tertiary border border-white/10 rounded-xl shadow-2xl text-xs text-text-primary text-left font-normal normal-case tracking-normal leading-relaxed backdrop-blur-xl transition-opacity duration-200 ${u?"opacity-100":"opacity-0"}`,style:o,children:[p.jsx("div",{className:"font-semibold mb-1.5 text-accent-blue text-sm",children:e}),p.jsx("div",{className:"text-text-secondary leading-relaxed",children:t}),r&&p.jsxs("div",{className:"mt-2 pt-2 border-t border-white/10",children:[p.jsx("div",{className:"text-[10px] uppercase tracking-wider text-text-tertiary mb-1",children:"Formula"}),p.jsx("code",{className:"text-accent-green font-mono text-xs bg-black/30 px-2 py-1 rounded block overflow-x-auto whitespace-pre-wrap break-all",children:r})]})]}),document.body):null;return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative inline-flex items-center gap-1 group",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[p.jsx("span",{className:i||"text-text-secondary text-xs font-medium",children:e}),p.jsx("div",{ref:d,className:"relative cursor-help",onClick:v,onTouchStart:v,children:p.jsx(sD,{size:14,className:"text-text-tertiary hover:text-accent-blue transition-colors"})})]}),m]})};var fD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function km(e){if(typeof e!="string")return!1;var t=fD;return t.includes(e)}var hD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pD=new Set(hD);function jk(e){return typeof e!="string"?!1:pD.has(e)}function Ek(e){return typeof e=="string"&&e.startsWith("data-")}function Xr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(jk(r)||Ek(r))&&(t[r]=e[r]);return t}function _d(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Xr(t)}return typeof e=="object"&&!Array.isArray(e)?Xr(e):null}function Ct(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(jk(r)||Ek(r)||km(r))&&(t[r]=e[r]);return t}function vD(e){return e==null?null:x.isValidElement(e)?Ct(e.props):typeof e=="object"&&!Array.isArray(e)?Ct(e):null}var mD=["children","width","height","viewBox","className","style","title","desc"];function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(null,arguments)}function gD(e,t){if(e==null)return{};var r,n,i=yD(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pm=x.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=gD(e,mD),d=a||{width:n,height:i,x:0,y:0},f=le("recharts-surface",s);return x.createElement("svg",jp({},Ct(c),{className:f,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,u),r)}),xD=["children","className"];function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(null,arguments)}function wD(e,t){if(e==null)return{};var r,n,i=bD(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fi=x.forwardRef((e,t)=>{var{children:r,className:n}=e,i=wD(e,xD),a=le("recharts-layer",n);return x.createElement("g",Ep({className:a},Ct(i),{ref:t}),r)}),Ak=x.createContext(null),_D=()=>x.useContext(Ak);function fe(e){return function(){return e}}const Ck=Math.cos,oc=Math.sin,Mr=Math.sqrt,lc=Math.PI,Sd=2*lc,Ap=Math.PI,Cp=2*Ap,ji=1e-6,SD=Cp-ji;function Tk(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function kD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Tk;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class PD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Tk:kD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,d=o-r,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>ji)if(!(Math.abs(d*l-u*c)>ji)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,v=i-o,m=l*l+u*u,g=h*h+v*v,y=Math.sqrt(m),w=Math.sqrt(f),b=a*Math.tan((Ap-Math.acos((m+f-g)/(2*y*w)))/2),_=b/w,k=b/y;Math.abs(_-1)>ji&&this._append`L${t+_*c},${r+_*d}`,this._append`A${a},${a},0,0,${+(d*h>c*v)},${this._x1=t+k*l},${this._y1=r+k*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,d=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ji||Math.abs(this._y1-c)>ji)&&this._append`L${u},${c}`,n&&(f<0&&(f=f%Cp+Cp),f>SD?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:f>ji&&this._append`A${n},${n},0,${+(f>=Ap)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Om(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new PD(t)}function jm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nk(e){this._context=e}Nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kd(e){return new Nk(e)}function Ik(e){return e[0]}function Dk(e){return e[1]}function Rk(e,t){var r=fe(!0),n=null,i=kd,a=null,s=Om(o);e=typeof e=="function"?e:e===void 0?Ik:fe(e),t=typeof t=="function"?t:t===void 0?Dk:fe(t);function o(l){var u,c=(l=jm(l)).length,d,f=!1,h;for(n==null&&(a=i(h=s())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,u,l),+t(d,u,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:fe(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:fe(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:fe(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Jl(e,t,r){var n=null,i=fe(!0),a=null,s=kd,o=null,l=Om(u);e=typeof e=="function"?e:e===void 0?Ik:fe(+e),t=typeof t=="function"?t:fe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Dk:fe(+r);function u(d){var f,h,v,m=(d=jm(d)).length,g,y=!1,w,b=new Array(m),_=new Array(m);for(a==null&&(o=s(w=l())),f=0;f<=m;++f){if(!(f<m&&i(g=d[f],f,d))===y)if(y=!y)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=f-1;v>=h;--v)o.point(b[v],_[v]);o.lineEnd(),o.areaEnd()}y&&(b[f]=+e(g,f,d),_[f]=+t(g,f,d),o.point(n?+n(g,f,d):b[f],r?+r(g,f,d):_[f]))}if(w)return o=null,w+""||null}function c(){return Rk().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:fe(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:fe(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:fe(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:fe(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:fe(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:fe(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:fe(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class Mk{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function OD(e){return new Mk(e,!0)}function jD(e){return new Mk(e,!1)}const Em={draw(e,t){const r=Mr(t/lc);e.moveTo(r,0),e.arc(0,0,r,0,Sd)}},ED={draw(e,t){const r=Mr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$k=Mr(1/3),AD=$k*2,CD={draw(e,t){const r=Mr(t/AD),n=r*$k;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},TD={draw(e,t){const r=Mr(t),n=-r/2;e.rect(n,n,r,r)}},ND=.8908130915292852,Lk=oc(lc/10)/oc(7*lc/10),ID=oc(Sd/10)*Lk,DD=-Ck(Sd/10)*Lk,RD={draw(e,t){const r=Mr(t*ND),n=ID*r,i=DD*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Sd*a/5,o=Ck(s),l=oc(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},Jf=Mr(3),MD={draw(e,t){const r=-Mr(t/(Jf*3));e.moveTo(0,r*2),e.lineTo(-Jf*r,-r),e.lineTo(Jf*r,-r),e.closePath()}},ar=-.5,sr=Mr(3)/2,Tp=1/Mr(12),$D=(Tp/2+1)*3,LD={draw(e,t){const r=Mr(t/$D),n=r/2,i=r*Tp,a=n,s=r*Tp+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(ar*n-sr*i,sr*n+ar*i),e.lineTo(ar*a-sr*s,sr*a+ar*s),e.lineTo(ar*o-sr*l,sr*o+ar*l),e.lineTo(ar*n+sr*i,ar*i-sr*n),e.lineTo(ar*a+sr*s,ar*s-sr*a),e.lineTo(ar*o+sr*l,ar*l-sr*o),e.closePath()}};function zD(e,t){let r=null,n=Om(i);e=typeof e=="function"?e:fe(e||Em),t=typeof t=="function"?t:fe(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:fe(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:fe(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function uc(){}function cc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zk(e){this._context=e}zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UD(e){return new zk(e)}function Uk(e){this._context=e}Uk.prototype={areaStart:uc,areaEnd:uc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BD(e){return new Uk(e)}function Bk(e){this._context=e}Bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FD(e){return new Bk(e)}function Fk(e){this._context=e}Fk.prototype={areaStart:uc,areaEnd:uc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WD(e){return new Fk(e)}function hx(e){return e<0?-1:1}function px(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(hx(a)+hx(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function vx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zf(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function dc(e){this._context=e}dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zf(this,this._t0,vx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zf(this,vx(this,r=px(this,e,t)),r);break;default:Zf(this,this._t0,r=px(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Wk(e){this._context=new Kk(e)}(Wk.prototype=Object.create(dc.prototype)).point=function(e,t){dc.prototype.point.call(this,t,e)};function Kk(e){this._context=e}Kk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function KD(e){return new dc(e)}function qD(e){return new Wk(e)}function qk(e){this._context=e}qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=mx(e),i=mx(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mx(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function HD(e){return new qk(e)}function Pd(e,t){this._context=e,this._t=t}Pd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function VD(e){return new Pd(e,.5)}function GD(e){return new Pd(e,0)}function YD(e){return new Pd(e,1)}function Ji(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Np(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function XD(e,t){return e[t]}function QD(e){const t=[];return t.key=e,t}function JD(){var e=fe([]),t=Np,r=Ji,n=XD;function i(a){var s=Array.from(e.apply(this,arguments),QD),o,l=s.length,u=-1,c;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(d,s[o].key,u,a)]).data=d;for(o=0,c=jm(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:fe(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:fe(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Np:typeof a=="function"?a:fe(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Ji,i):r},i}function ZD(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Ji(e,t)}}function eR(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ji(e,t)}}function tR(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],d=c[n][1]||0,f=c[n-1][1]||0,h=(d-f)/2,v=0;v<o;++v){var m=e[t[v]],g=m[n][1]||0,y=m[n-1][1]||0;h+=g-y}l+=d,u+=h*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Ji(e,t)}}var Od={},Hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Hk);var Am={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Am);var jd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(jd);var Ed={},Vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Vk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vk,r=jd;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const d=i[o];u?d==="\\"&&o+1<s?(o++,l+=i[o]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,o++}return l&&a.push(l),a}e.toPath=n})(Ed);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk,r=Am,n=jd,i=Ed;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(Od);var rR=Od.get;const Ad=kn(rR);var nR=4;function Zn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nR,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Re(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Zn(o)+a:i+a},"")}var fr=e=>e===0?0:e>0?1:-1,gn=e=>typeof e=="number"&&e!=+e,Zi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,F=e=>(typeof e=="number"||e instanceof Number)&&!gn(e),Qr=e=>F(e)||typeof e=="string",iR=0,Uo=e=>{var t=++iR;return"".concat(e||"").concat(t)},hi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!F(t)&&typeof t!="string")return n;var a;if(Zi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return gn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Gk=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function $t(e,t,r){return F(e)&&F(t)?Zn(e+r*(t-e)):t}function Yk(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ad(n,t))===r)}var ht=e=>e===null||typeof e>"u",cl=e=>ht(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function zt(e){return e!=null}function ms(){}var aR=["type","size","sizeType"];function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ip.apply(null,arguments)}function gx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gx(Object(r),!0).forEach(function(n){sR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sR(e,t,r){return(t=oR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oR(e){var t=lR(e,"string");return typeof t=="symbol"?t:t+""}function lR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uR(e,t){if(e==null)return{};var r,n,i=cR(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xk={symbolCircle:Em,symbolCross:ED,symbolDiamond:CD,symbolSquare:TD,symbolStar:RD,symbolTriangle:MD,symbolWye:LD},dR=Math.PI/180,fR=e=>{var t="symbol".concat(cl(e));return Xk[t]||Em},hR=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*dR;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pR=(e,t)=>{Xk["symbol".concat(cl(e))]=t},Cm=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=uR(e,aR),a=yx(yx({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var f=fR(s),h=zD().type(f).size(hR(r,n,s)),v=h();if(v!==null)return v},{className:l,cx:u,cy:c}=a,d=Ct(a);return F(u)&&F(c)&&F(r)?x.createElement("path",Ip({},d,{className:le("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};Cm.registerSymbol=pR;var Qk=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Tm=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{km(i)&&(n[i]=a=>r[i](r,a))}),n},vR=(e,t,r)=>n=>(e(t,r,n),null),Jk=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];km(i)&&typeof a=="function"&&(n||(n={}),n[i]=vR(a,t,r))}),n};function xx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xx(Object(r),!0).forEach(function(n){gR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gR(e,t,r){return(t=yR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yR(e){var t=xR(e,"string");return typeof t=="symbol"?t:t+""}function xR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function St(e,t){var r=mR({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fc.apply(null,arguments)}function wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wx(Object(r),!0).forEach(function(n){bR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bR(e,t,r){return(t=_R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(e){var t=SR(e,"string");return typeof t=="symbol"?t:t+""}function SR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lr=32,kR={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function PR(e){var{data:t,iconType:r,inactiveColor:n}=e,i=lr/2,a=lr/6,s=lr/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:lr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(lr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(lr/8,"h").concat(lr,"v").concat(lr*3/4,"h").concat(-lr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var c=wR({},t);return delete c.legendIcon,x.cloneElement(t.legendIcon,c)}return x.createElement(Cm,{fill:o,cx:i,cy:i,size:lr,sizeType:"diameter",type:l})}function OR(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:lr,height:lr},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var f=c.formatter||i,h=le({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var v=c.inactive?a:c.color,m=f?f(c.value,c,d):c.value;return x.createElement("li",fc({className:h,style:l,key:"legend-item-".concat(d)},Jk(e,c,d)),x.createElement(Pm,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(m," legend icon")},x.createElement(PR,{data:c,iconType:s,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m))})}var jR=e=>{var t=St(e,kR),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(OR,fc({},t,{payload:r})))},Zk={},eP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s,a,r);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(eP);var tP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(tP);var Nm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Nm);var rP={},Cd={},nP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(nP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nP;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Cd);var iP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(iP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cd,r=iP;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(rP);var aP={},sP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Od;function r(n){return function(i){return t.get(i,n)}}e.property=r})(sP);var oP={},Im={},lP={},Dm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Dm);var Rm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Rm);var Mm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Mm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dm,r=Rm,n=Mm;function i(c,d,f){return typeof f!="function"?i(c,d,()=>{}):a(c,d,function h(v,m,g,y,w,b){const _=f(v,m,g,y,w,b);return _!==void 0?!!_:a(v,m,h,b)},new Map)}function a(c,d,f,h){if(d===c)return!0;switch(typeof d){case"object":return s(c,d,f,h);case"function":return Object.keys(d).length>0?a(c,{...d},f,h):n.isEqualsSameValueZero(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.isEqualsSameValueZero(c,d)}}function s(c,d,f,h){if(d==null)return!0;if(Array.isArray(d))return l(c,d,f,h);if(d instanceof Map)return o(c,d,f,h);if(d instanceof Set)return u(c,d,f,h);const v=Object.keys(d);if(c==null||r.isPrimitive(c))return v.length===0;if(v.length===0)return!0;if(h!=null&&h.has(d))return h.get(d)===c;h==null||h.set(d,c);try{for(let m=0;m<v.length;m++){const g=v[m];if(!r.isPrimitive(c)&&!(g in c)||d[g]===void 0&&c[g]!==void 0||d[g]===null&&c[g]!==null||!f(c[g],d[g],g,c,d,h))return!1}return!0}finally{h==null||h.delete(d)}}function o(c,d,f,h){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[v,m]of d.entries()){const g=c.get(v);if(f(g,m,v,c,d,h)===!1)return!1}return!0}function l(c,d,f,h){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const v=new Set;for(let m=0;m<d.length;m++){const g=d[m];let y=!1;for(let w=0;w<c.length;w++){if(v.has(w))continue;const b=c[w];let _=!1;if(f(b,g,m,c,d,h)&&(_=!0),_){v.add(w),y=!0;break}}if(!y)return!1}return!0}function u(c,d,f,h){return d.size===0?!0:c instanceof Set?l([...c],[...d],f,h):!1}e.isMatchWith=i,e.isSetMatch=u})(lP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lP;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Im);var uP={},$m={},cP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(cP);var Td={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Td);var Lm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",f="[object ArrayBuffer]",h="[object Object]",v="[object Error]",m="[object DataView]",g="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",k="[object Int8Array]",P="[object Int16Array]",S="[object Int32Array]",O="[object BigInt64Array]",E="[object Float32Array]",j="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=f,e.arrayTag=c,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=m,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=E,e.float64ArrayTag=j,e.functionTag=d,e.int16ArrayTag=P,e.int32ArrayTag=S,e.int8ArrayTag=k,e.mapTag=l,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=y})(Lm);var dP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(dP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cP,r=Td,n=Lm,i=Rm,a=dP;function s(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,f,h=new Map,v=void 0){const m=v==null?void 0:v(c,d,f,h);if(m!==void 0)return m;if(i.isPrimitive(c))return c;if(h.has(c))return h.get(c);if(Array.isArray(c)){const g=new Array(c.length);h.set(c,g);for(let y=0;y<c.length;y++)g[y]=o(c[y],y,f,h,v);return Object.hasOwn(c,"index")&&(g.index=c.index),Object.hasOwn(c,"input")&&(g.input=c.input),g}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const g=new RegExp(c.source,c.flags);return g.lastIndex=c.lastIndex,g}if(c instanceof Map){const g=new Map;h.set(c,g);for(const[y,w]of c)g.set(y,o(w,y,f,h,v));return g}if(c instanceof Set){const g=new Set;h.set(c,g);for(const y of c)g.add(o(y,void 0,f,h,v));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const g=new(Object.getPrototypeOf(c)).constructor(c.length);h.set(c,g);for(let y=0;y<c.length;y++)g[y]=o(c[y],y,f,h,v);return g}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const g=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return h.set(c,g),l(g,c,f,h,v),g}if(typeof File<"u"&&c instanceof File){const g=new File([c],c.name,{type:c.type});return h.set(c,g),l(g,c,f,h,v),g}if(typeof Blob<"u"&&c instanceof Blob){const g=new Blob([c],{type:c.type});return h.set(c,g),l(g,c,f,h,v),g}if(c instanceof Error){const g=new c.constructor;return h.set(c,g),g.message=c.message,g.name=c.name,g.stack=c.stack,g.cause=c.cause,l(g,c,f,h,v),g}if(c instanceof Boolean){const g=new Boolean(c.valueOf());return h.set(c,g),l(g,c,f,h,v),g}if(c instanceof Number){const g=new Number(c.valueOf());return h.set(c,g),l(g,c,f,h,v),g}if(c instanceof String){const g=new String(c.valueOf());return h.set(c,g),l(g,c,f,h,v),g}if(typeof c=="object"&&u(c)){const g=Object.create(Object.getPrototypeOf(c));return h.set(c,g),l(g,c,f,h,v),g}return c}function l(c,d,f=c,h,v){const m=[...Object.keys(d),...t.getSymbols(d)];for(let g=0;g<m.length;g++){const y=m[g],w=Object.getOwnPropertyDescriptor(c,y);(w==null||w.writable)&&(c[y]=o(d[y],y,f,h,v))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})($m);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$m;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(uP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Im,r=uP;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(oP);var fP={},hP={},pP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$m,r=Td,n=Lm;function i(a,s){return t.cloneDeepWith(a,(o,l,u,c)=>{const d=s==null?void 0:s(o,l,u,c);if(d!==void 0)return d;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const f={};return c.set(a,f),t.copyProperties(f,a,u,c),f}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case n.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}}})}e.cloneDeepWith=i})(pP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(hP);var vP={},zm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(zm);var mP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Td;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(mP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Am,r=zm,n=mP,i=Ed;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(vP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Im,r=jd,n=hP,i=Od,a=vP;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(fP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nm,r=sP,n=oP,i=fP;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(aP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eP,r=tP,n=Nm,i=rP,a=aP;function s(o,l=n.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),r.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(Zk);var ER=Zk.uniqBy;const bx=kn(ER);function gP(e,t,r){return t===!0?bx(e,r):typeof t=="function"?bx(e,t):e}var yP={exports:{}},xP={},wP={exports:{}},bP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=x;function AR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CR=typeof Object.is=="function"?Object.is:AR,TR=as.useState,NR=as.useEffect,IR=as.useLayoutEffect,DR=as.useDebugValue;function RR(e,t){var r=t(),n=TR({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return IR(function(){i.value=r,i.getSnapshot=t,eh(i)&&a({inst:i})},[e,r,t]),NR(function(){return eh(i)&&a({inst:i}),e(function(){eh(i)&&a({inst:i})})},[e]),DR(r),r}function eh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!CR(e,r)}catch{return!0}}function MR(e,t){return t()}var $R=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MR:RR;bP.useSyncExternalStore=as.useSyncExternalStore!==void 0?as.useSyncExternalStore:$R;wP.exports=bP;var LR=wP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd=x,zR=LR;function UR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BR=typeof Object.is=="function"?Object.is:UR,FR=zR.useSyncExternalStore,WR=Nd.useRef,KR=Nd.useEffect,qR=Nd.useMemo,HR=Nd.useDebugValue;xP.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=WR(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=qR(function(){function l(h){if(!u){if(u=!0,c=h,h=n(h),i!==void 0&&s.hasValue){var v=s.value;if(i(v,h))return d=v}return d=h}if(v=d,BR(c,h))return v;var m=n(h);return i!==void 0&&i(v,m)?(c=h,v):(c=h,d=m)}var u=!1,c,d,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,i]);var o=FR(e,a[0],a[1]);return KR(function(){s.hasValue=!0,s.value=o},[o]),HR(o),o};yP.exports=xP;var VR=yP.exports,Um=x.createContext(null),GR=e=>e,We=()=>{var e=x.useContext(Um);return e?e.store.dispatch:GR},ju=()=>{},YR=()=>ju,XR=(e,t)=>e===t;function K(e){var t=x.useContext(Um),r=x.useMemo(()=>t?n=>{if(n!=null)return e(n)}:ju,[t,e]);return VR.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:YR,t?t.store.getState:ju,t?t.store.getState:ju,r,XR)}function QR(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function JR(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ZR(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var _x=e=>Array.isArray(e)?e:[e];function eM(e){const t=Array.isArray(e[0])?e[0]:e;return ZR(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function tM(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var rM=class{constructor(e){this.value=e}deref(){return this.value}},nM=typeof WeakRef<"u"?WeakRef:rM,iM=0,Sx=1;function Zl(){return{s:iM,v:void 0,o:null,p:null}}function _P(e,t={}){let r=Zl();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var d;let o=r;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const g=m.get(v);g===void 0?(o=Zl(),m.set(v,o)):o=g}else{let m=o.p;m===null&&(o.p=m=new Map);const g=m.get(v);g===void 0?(o=Zl(),m.set(v,o)):o=g}}const u=o;let c;if(o.s===Sx)c=o.v;else if(c=e.apply(null,arguments),a++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,c)&&(c=f,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new nM(c):c}return u.s=Sx,u.v=c,c}return s.clearCache=()=>{r=Zl(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function aM(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),QR(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=_P,argsMemoizeOptions:v=[]}=c,m=_x(f),g=_x(v),y=eM(i),w=d(function(){return a++,u.apply(null,arguments)},...m),b=h(function(){s++;const k=tM(y,arguments);return o=w.apply(null,k),o},...g);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var A=aM(_P),sM=Object.assign((e,t=A)=>{JR(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>sM}),SP={},kP={},PP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(PP);var OP={},Bm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bm,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(OP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP,r=OP,n=Ed;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const u=(h,v)=>{let m=h;for(let g=0;g<v.length&&m!=null;++g)m=m[v[g]];return m},c=(h,v)=>v==null||h==null?v:typeof h=="object"&&"key"in h?Object.hasOwn(v,h.key)?v[h.key]:u(v,h.path):typeof h=="function"?h(v):Array.isArray(h)?u(v,h):typeof v=="object"?v[h]:v,d=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:d.map(v=>c(v,h))})).slice().sort((h,v)=>{for(let m=0;m<d.length;m++){const g=t.compareValues(h.criteria[m],v.criteria[m],o[m]);if(g!==0)return g}return 0}).map(h=>h.original)}e.orderBy=i})(kP);var jP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(r,0),i}e.flatten=t})(jP);var Fm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zm,r=Cd,n=Dm,i=Mm;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(Fm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kP,r=jP,n=Fm;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(SP);var oM=SP.sortBy;const Id=kn(oM);var EP=e=>e.legend.settings,lM=e=>e.legend.size,uM=e=>e.legend.payload,cM=A([uM,EP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Id(n,r):n});function dM(){return K(cM)}var eu=1;function AP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>eu||Math.abs(s.left-t.left)>eu||Math.abs(s.top-t.top)>eu||Math.abs(s.width-t.width)>eu)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function st(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fM=typeof Symbol=="function"&&Symbol.observable||"@@observable",kx=fM,th=()=>Math.random().toString(36).substring(7).split("").join("."),hM={INIT:`@@redux/INIT${th()}`,REPLACE:`@@redux/REPLACE${th()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${th()}`},hc=hM;function Wm(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CP(e,t,r){if(typeof e!="function")throw new Error(st(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(st(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(st(1));return r(CP)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((g,y)=>{s.set(y,g)}))}function c(){if(l)throw new Error(st(3));return i}function d(g){if(typeof g!="function")throw new Error(st(4));if(l)throw new Error(st(5));let y=!0;u();const w=o++;return s.set(w,g),function(){if(y){if(l)throw new Error(st(6));y=!1,u(),s.delete(w),a=null}}}function f(g){if(!Wm(g))throw new Error(st(7));if(typeof g.type>"u")throw new Error(st(8));if(typeof g.type!="string")throw new Error(st(17));if(l)throw new Error(st(9));try{l=!0,i=n(i,g)}finally{l=!1}return(a=s).forEach(w=>{w()}),g}function h(g){if(typeof g!="function")throw new Error(st(10));n=g,f({type:hc.REPLACE})}function v(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(st(11));function w(){const _=y;_.next&&_.next(c())}return w(),{unsubscribe:g(w)}},[kx](){return this}}}return f({type:hc.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[kx]:v}}function pM(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hc.INIT})>"u")throw new Error(st(12));if(typeof r(void 0,{type:hc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(st(13))})}function TP(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{pM(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],f=r[d],h=s[d],v=f(h,o);if(typeof v>"u")throw o&&o.type,new Error(st(14));u[d]=v,l=l||v!==h}return l=l||n.length!==Object.keys(s).length,l?u:s}}function pc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function vM(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(st(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=pc(...o)(i.dispatch),{...i,dispatch:a}}}function NP(e){return Wm(e)&&"type"in e&&typeof e.type=="string"}var IP=Symbol.for("immer-nothing"),Px=Symbol.for("immer-draftable"),Tt=Symbol.for("immer-state");function Er(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qt=Object,ss=Qt.getPrototypeOf,vc="constructor",Dd="prototype",Dp="configurable",mc="enumerable",Eu="writable",Bo="value",yn=e=>!!e&&!!e[Tt];function Rr(e){var t;return e?DP(e)||Md(e)||!!e[Px]||!!((t=e[vc])!=null&&t[Px])||$d(e)||Ld(e):!1}var mM=Qt[Dd][vc].toString(),Ox=new WeakMap;function DP(e){if(!e||!Km(e))return!1;const t=ss(e);if(t===null||t===Qt[Dd])return!0;const r=Qt.hasOwnProperty.call(t,vc)&&t[vc];if(r===Object)return!0;if(!Oa(r))return!1;let n=Ox.get(r);return n===void 0&&(n=Function.toString.call(r),Ox.set(r,n)),n===mM}function Rd(e,t,r=!0){dl(e)===0?(r?Reflect.ownKeys(e):Qt.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function dl(e){const t=e[Tt];return t?t.type_:Md(e)?1:$d(e)?2:Ld(e)?3:0}var jx=(e,t,r=dl(e))=>r===2?e.has(t):Qt[Dd].hasOwnProperty.call(e,t),Rp=(e,t,r=dl(e))=>r===2?e.get(t):e[t],gc=(e,t,r,n=dl(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function gM(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Md=Array.isArray,$d=e=>e instanceof Map,Ld=e=>e instanceof Set,Km=e=>typeof e=="object",Oa=e=>typeof e=="function",rh=e=>typeof e=="boolean";function yM(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var nn=e=>e.copy_||e.base_,qm=e=>e.modified_?e.copy_:e.base_;function Mp(e,t){if($d(e))return new Map(e);if(Ld(e))return new Set(e);if(Md(e))return Array[Dd].slice.call(e);const r=DP(e);if(t===!0||t==="class_only"&&!r){const n=Qt.getOwnPropertyDescriptors(e);delete n[Tt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[Eu]===!1&&(o[Eu]=!0,o[Dp]=!0),(o.get||o.set)&&(n[s]={[Dp]:!0,[Eu]:!0,[mc]:o[mc],[Bo]:e[s]})}return Qt.create(ss(e),n)}else{const n=ss(e);if(n!==null&&r)return{...e};const i=Qt.create(n);return Qt.assign(i,e)}}function Hm(e,t=!1){return zd(e)||yn(e)||!Rr(e)||(dl(e)>1&&Qt.defineProperties(e,{set:tu,add:tu,clear:tu,delete:tu}),Qt.freeze(e),t&&Rd(e,(r,n)=>{Hm(n,!0)},!1)),e}function xM(){Er(2)}var tu={[Bo]:xM};function zd(e){return e===null||!Km(e)?!0:Qt.isFrozen(e)}var yc="MapSet",$p="Patches",Ex="ArrayMethods",RP={};function ea(e){const t=RP[e];return t||Er(0,e),t}var Ax=e=>!!RP[e],Fo,MP=()=>Fo,wM=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ax(yc)?ea(yc):void 0,arrayMethodsPlugin_:Ax(Ex)?ea(Ex):void 0});function Cx(e,t){t&&(e.patchPlugin_=ea($p),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lp(e){zp(e),e.drafts_.forEach(bM),e.drafts_=null}function zp(e){e===Fo&&(Fo=e.parent_)}var Tx=e=>Fo=wM(Fo,e);function bM(e){const t=e[Tt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Nx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Tt].modified_&&(Lp(t),Er(4)),Rr(e)&&(e=Ix(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Tt].base_,e,t)}else e=Ix(t,r);return _M(t,e,!0),Lp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IP?e:void 0}function Ix(e,t){if(zd(t))return t;const r=t[Tt];if(!r)return xc(t,e.handledSet_,e);if(!Ud(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);zP(r,e)}return r.copy_}function _M(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Hm(t,r)}function $P(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ud=(e,t)=>e.scope_===t,SM=[];function LP(e,t,r,n){const i=nn(e),a=e.type_;if(n!==void 0&&Rp(i,n,a)===t){gc(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Rd(i,(l,u)=>{if(yn(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??SM;for(const o of s)gc(i,o,r,a)}function kM(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Ud(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=qm(a);LP(e,a.draft_??a,s,r),zP(a,i)})}function zP(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}$P(e)}}function PM(e,t,r){const{scope_:n}=e;if(yn(r)){const i=r[Tt];Ud(i,n)&&i.callbacks_.push(function(){Au(e);const s=qm(i);LP(e,r,s,t)})}else Rr(r)&&e.callbacks_.push(function(){const a=nn(e);e.type_===3?a.has(r)&&xc(r,n.handledSet_,n):Rp(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&xc(Rp(e.copy_,t,e.type_),n.handledSet_,n)})}function xc(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||yn(e)||t.has(e)||!Rr(e)||zd(e)||(t.add(e),Rd(e,(n,i)=>{if(yn(i)){const a=i[Tt];if(Ud(a,r)){const s=qm(a);gc(e,n,s,e.type_),$P(a)}}else Rr(i)&&xc(i,t,r)})),e}function OM(e,t){const r=Md(e),n={type_:r?1:0,scope_:t?t.scope_:MP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=wc;r&&(i=[n],a=Wo);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var wc={get(e,t){if(t===Tt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=nn(e);if(!jx(i,t,e.type_))return jM(e,i,t);const a=i[t];if(e.finalized_||!Rr(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&yM(t))return a;if(a===nh(e.base_,t)){Au(e);const s=e.type_===1?+t:t,o=Bp(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in nn(e)},ownKeys(e){return Reflect.ownKeys(nn(e))},set(e,t,r){const n=UP(nn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=nh(nn(e),t),a=i==null?void 0:i[Tt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(gM(r,i)&&(r!==void 0||jx(e.base_,t,e.type_)))return!0;Au(e),Up(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),PM(e,t,r)),!0},deleteProperty(e,t){return Au(e),nh(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Up(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=nn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Eu]:!0,[Dp]:e.type_!==1||t!=="length",[mc]:n[mc],[Bo]:r[t]}},defineProperty(){Er(11)},getPrototypeOf(e){return ss(e.base_)},setPrototypeOf(){Er(12)}},Wo={};for(let e in wc){let t=wc[e];Wo[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Wo.deleteProperty=function(e,t){return Wo.set.call(this,e,t,void 0)};Wo.set=function(e,t,r){return wc.set.call(this,e[0],t,r,e[0])};function nh(e,t){const r=e[Tt];return(r?nn(r):e)[t]}function jM(e,t,r){var i;const n=UP(t,r);return n?Bo in n?n[Bo]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function UP(e,t){if(!(t in e))return;let r=ss(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ss(r)}}function Up(e){e.modified_||(e.modified_=!0,e.parent_&&Up(e.parent_))}function Au(e){e.copy_||(e.assigned_=new Map,e.copy_=Mp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var EM=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Oa(r)&&!Oa(n)){const s=n;n=r;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}Oa(n)||Er(6),i!==void 0&&!Oa(i)&&Er(7);let a;if(Rr(r)){const s=Tx(this),o=Bp(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?Lp(s):zp(s)}return Cx(s,i),Nx(a,s)}else if(!r||!Km(r)){if(a=n(r),a===void 0&&(a=r),a===IP&&(a=void 0),this.autoFreeze_&&Hm(a,!0),i){const s=[],o=[];ea($p).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Er(1,r)},this.produceWithPatches=(r,n)=>{if(Oa(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},rh(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),rh(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),rh(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Rr(t)||Er(8),yn(t)&&(t=Ir(t));const r=Tx(this),n=Bp(r,t,void 0);return n[Tt].isManual_=!0,zp(r),n}finishDraft(t,r){const n=t&&t[Tt];(!n||!n.isManual_)&&Er(9);const{scope_:i}=n;return Cx(i,r),Nx(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=ea($p).applyPatches_;return yn(t)?i(t,r):this.produce(t,a=>i(a,r))}};function Bp(e,t,r,n){const[i,a]=$d(t)?ea(yc).proxyMap_(t,r):Ld(t)?ea(yc).proxySet_(t,r):OM(t,r);return((r==null?void 0:r.scope_)??MP()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?kM(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Ir(e){return yn(e)||Er(10,e),BP(e)}function BP(e){if(!Rr(e)||zd(e))return e;const t=e[Tt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Mp(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Mp(e,!0);return Rd(r,(i,a)=>{gc(r,i,BP(a))},n),t&&(t.finalized_=!1),r}var AM=new EM,FP=AM.produce;function WP(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var CM=WP(),TM=WP,NM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pc:pc.apply(null,arguments)};function gr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Zt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>NP(n)&&n.type===e,r}var KP=class to extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,to.prototype)}static get[Symbol.species](){return to}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new to(...t[0].concat(this)):new to(...t.concat(this))}};function Dx(e){return Rr(e)?FP(e,()=>{}):e}function ru(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function IM(e){return typeof e=="boolean"}var DM=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new KP;return r&&(IM(r)?s.push(CM):s.push(TM(r.extraArgument))),s},qP="RTK_autoBatch",be=()=>e=>({payload:e,meta:{[qP]:!0}}),Rx=e=>t=>{setTimeout(t,e)},HP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Rx(10):e.type==="callback"?e.queueNotification:Rx(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),f=n.subscribe(d);return o.add(c),()=>{f(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[qP]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},RM=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new KP(e);return n&&i.push(HP(typeof n=="object"?n:void 0)),i};function MM(e){const t=DM(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(Wm(r))o=TP(r);else throw new Error(Zt(1));let l;typeof n=="function"?l=n(t):l=t();let u=pc;i&&(u=NM({trace:!1,...typeof i=="object"&&i}));const c=vM(...l),d=RM(c);let f=typeof s=="function"?s(d):d();const h=u(...f);return CP(o,a,h)}function VP(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Zt(28));if(o in t)throw new Error(Zt(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function $M(e){return typeof e=="function"}function LM(e,t){let[r,n,i]=VP(t),a;if($M(e))a=()=>Dx(e());else{const o=Dx(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(yn(c)){const h=d(c,l);return h===void 0?c:h}else{if(Rr(c))return FP(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},o)}return s.getInitialState=a,s}var zM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",UM=(e=21)=>{let t="",r=e;for(;r--;)t+=zM[Math.random()*64|0];return t},BM=Symbol.for("rtk-slice-createasyncthunk");function FM(e,t){return`${e}/${t}`}function WM({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[BM];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Zt(11));const o=(typeof i.reducers=="function"?i.reducers(qM()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,k){const P=typeof _=="string"?_:_.type;if(!P)throw new Error(Zt(12));if(P in u.sliceCaseReducersByType)throw new Error(Zt(13));return u.sliceCaseReducersByType[P]=k,c},addMatcher(_,k){return u.sliceMatchers.push({matcher:_,reducer:k}),c},exposeAction(_,k){return u.actionCreators[_]=k,c},exposeCaseReducer(_,k){return u.sliceCaseReducersByName[_]=k,c}};l.forEach(_=>{const k=o[_],P={reducerName:_,type:FM(a,_),createNotation:typeof i.reducers=="function"};VM(k)?YM(P,k,c,t):HM(P,k,c)});function d(){const[_={},k=[],P=void 0]=typeof i.extraReducers=="function"?VP(i.extraReducers):[i.extraReducers],S={..._,...u.sliceCaseReducersByType};return LM(i.initialState,O=>{for(let E in S)O.addCase(E,S[E]);for(let E of u.sliceMatchers)O.addMatcher(E.matcher,E.reducer);for(let E of k)O.addMatcher(E.matcher,E.reducer);P&&O.addDefaultCase(P)})}const f=_=>_,h=new Map,v=new WeakMap;let m;function g(_,k){return m||(m=d()),m(_,k)}function y(){return m||(m=d()),m.getInitialState()}function w(_,k=!1){function P(O){let E=O[_];return typeof E>"u"&&k&&(E=ru(v,P,y)),E}function S(O=f){const E=ru(h,k,()=>new WeakMap);return ru(E,O,()=>{const j={};for(const[T,C]of Object.entries(i.selectors??{}))j[T]=KM(C,O,()=>ru(v,O,y),k);return j})}return{reducerPath:_,getSelectors:S,get selectors(){return S(P)},selectSlice:P}}const b={name:a,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...w(s),injectInto(_,{reducerPath:k,...P}={}){const S=k??s;return _.inject({reducerPath:S,reducer:g},P),{...b,...w(S,!0)}}};return b}}function KM(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Kt=WM();function qM(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function HM({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!GM(n))throw new Error(Zt(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?gr(e,s):gr(e))}function VM(e){return e._reducerDefinitionType==="asyncThunk"}function GM(e){return e._reducerDefinitionType==="reducerWithPrepare"}function YM({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Zt(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),s&&n.addCase(d.fulfilled,s),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:s||nu,pending:o||nu,rejected:l||nu,settled:u||nu})}function nu(){}var XM="task",GP="listener",YP="completed",Vm="cancelled",QM=`task-${Vm}`,JM=`task-${YP}`,Fp=`${GP}-${Vm}`,ZM=`${GP}-${YP}`,Bd=class{constructor(e){yf(this,"name","TaskAbortError");yf(this,"message");this.code=e,this.message=`${XM} ${Vm} (reason: ${e})`}},Gm=(e,t)=>{if(typeof e!="function")throw new TypeError(Zt(32))},bc=()=>{},XP=(e,t=bc)=>(e.catch(t),e),QP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ki=e=>{if(e.aborted)throw new Bd(e.reason)};function JP(e,t){let r=bc;return new Promise((n,i)=>{const a=()=>i(new Bd(e.reason));if(e.aborted){a();return}r=QP(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=bc})}var e$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Bd?"cancelled":"rejected",error:r}}finally{t==null||t()}},_c=e=>t=>XP(JP(e,t).then(r=>(Ki(e),r))),ZP=e=>{const t=_c(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Xa}=Object,Mx={},Fd="listenerMiddleware",t$=(e,t)=>{const r=n=>QP(e,()=>n.abort(e.reason));return(n,i)=>{Gm(n);const a=new AbortController;r(a);const s=e$(async()=>{Ki(e),Ki(a.signal);const o=await n({pause:_c(a.signal),delay:ZP(a.signal),signal:a.signal});return Ki(a.signal),o},()=>a.abort(JM));return i!=null&&i.autoJoin&&t.push(s.catch(bc)),{result:_c(e)(s),cancel(){a.abort(QM)}}}},r$=(e,t)=>{const r=async(n,i)=>{Ki(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await JP(t,Promise.race(o));return Ki(t),l}finally{a()}};return(n,i)=>XP(r(n,i))},eO=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=gr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Zt(21));return Gm(a),{predicate:i,type:t,effect:a}},tO=Xa(e=>{const{type:t,predicate:r,effect:n}=eO(e);return{id:UM(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Zt(22))}}},{withTypes:()=>tO}),$x=(e,t)=>{const{type:r,effect:n,predicate:i}=eO(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Wp=e=>{e.pending.forEach(t=>{t.abort(Fp)})},n$=(e,t)=>()=>{for(const r of t.keys())Wp(r);e.clear()},Lx=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},rO=Xa(gr(`${Fd}/add`),{withTypes:()=>rO}),i$=gr(`${Fd}/removeAll`),nO=Xa(gr(`${Fd}/remove`),{withTypes:()=>nO}),a$=(...e)=>{console.error(`${Fd}/error`,...e)},fl=(e={})=>{const t=new Map,r=new Map,n=h=>{const v=r.get(h)??0;r.set(h,v+1)},i=h=>{const v=r.get(h)??1;v===1?r.delete(h):r.set(h,v-1)},{extra:a,onError:s=a$}=e;Gm(s);const o=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),v=>{h.unsubscribe(),v!=null&&v.cancelActive&&Wp(h)}),l=h=>{const v=$x(t,h)??tO(h);return o(v)};Xa(l,{withTypes:()=>l});const u=h=>{const v=$x(t,h);return v&&(v.unsubscribe(),h.cancelActive&&Wp(v)),!!v};Xa(u,{withTypes:()=>u});const c=async(h,v,m,g)=>{const y=new AbortController,w=r$(l,y.signal),b=[];try{h.pending.add(y),n(h),await Promise.resolve(h.effect(v,Xa({},m,{getOriginalState:g,condition:(_,k)=>w(_,k).then(Boolean),take:w,delay:ZP(y.signal),pause:_c(y.signal),extra:a,signal:y.signal,fork:t$(y.signal,b),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((_,k,P)=>{_!==y&&(_.abort(Fp),P.delete(_))})},cancel:()=>{y.abort(Fp),h.pending.delete(y)},throwIfCancelled:()=>{Ki(y.signal)}})))}catch(_){_ instanceof Bd||Lx(s,_,{raisedBy:"effect"})}finally{await Promise.all(b),y.abort(ZM),i(h),h.pending.delete(y)}},d=n$(t,r);return{middleware:h=>v=>m=>{if(!NP(m))return v(m);if(rO.match(m))return l(m.payload);if(i$.match(m)){d();return}if(nO.match(m))return u(m.payload);let g=h.getState();const y=()=>{if(g===Mx)throw new Error(Zt(23));return g};let w;try{if(w=v(m),t.size>0){const b=h.getState(),_=Array.from(t.values());for(const k of _){let P=!1;try{P=k.predicate(m,b,g)}catch(S){P=!1,Lx(s,S,{raisedBy:"predicate"})}P&&c(k,m,h,y)}}}finally{g=Mx}return w},startListening:l,stopListening:u,clearListeners:d}};function Zt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var s$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iO=Kt({name:"chartLayout",initialState:s$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:o$,setLayout:l$,setChartSize:u$,setScale:c$}=iO.actions,d$=iO.reducer;function aO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ne(e){return Number.isFinite(e)}function Jr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function zx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zx(Object(r),!0).forEach(function(n){f$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f$(e,t,r){return(t=h$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$(e){var t=p$(e,"string");return typeof t=="symbol"?t:t+""}function p$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dt(e,t,r){return ht(e)||ht(t)?r:Qr(t)?Ad(e,t,r):typeof t=="function"?t(e):r}var v$=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&F(e[a]))return Ua(Ua({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&F(e[s]))return Ua(Ua({},e),{},{[s]:e[s]+(i||0)})}return e},jn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sO=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},oO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:f,axisType:h}=e;if(!s)return null;var v=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(m=h==="angleAxis"&&a&&a.length>=2?fr(a[0]-a[1])*2*m:m,d||f){var g=(d||f||[]).map((y,w)=>{var b=n?n.indexOf(y):y,_=s.map(b);return ne(_)?{coordinate:_+m,value:y,offset:m,index:w}:null}).filter(zt);return g}return l&&u?u.map((y,w)=>{var b=s.map(y);return ne(b)?{coordinate:b+m,value:y,index:w,offset:m}:null}).filter(zt):s.ticks&&c!=null?s.ticks(c).map((y,w)=>{var b=s.map(y);return ne(b)?{coordinate:b+m,value:y,index:w,offset:m}:null}).filter(zt):s.domain().map((y,w)=>{var b=s.map(y);return ne(b)?{coordinate:b+m,value:n?n[y]:y,index:w,offset:m}:null}).filter(zt)},m$=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],f=gn(c)?d:c;f>=0?(u[0]=a,a+=f,u[1]=a):(u[0]=s,s+=f,u[1]=s)}}}},g$=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=gn(l[1])?l[0]:l[1];u>=0?(l[0]=a,a+=u,l[1]=a):(l[0]=0,l[1]=0)}}}},y$={sign:m$,expand:ZD,none:Ji,silhouette:eR,wiggle:tR,positive:g$},x$=(e,t,r)=>{var n,i=(n=y$[r])!==null&&n!==void 0?n:Ji,a=JD().keys(t).value((o,l)=>Number(dt(o,l,0))).order(Np).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,c)=>{var d=dt(e[c],t[l],0);Array.isArray(d)&&d.length===2&&F(d[0])&&F(d[1])&&(u[0]=d[0],u[1]=d[1])})}),s};function Ux(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(i[t.dataKey])){var o=Yk(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var l=dt(i,ht(s)?t.dataKey:s),u=t.scale.map(l);return F(u)?u:null}var w$=e=>{var t=e.flat(2).filter(F);return[Math.min(...t),Math.max(...t)]},b$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],_$=(e,t,r)=>{if(e!=null)return b$(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=aO(u,t,r),d=w$(c);return!ne(d[0])||!ne(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},Bx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Id(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function Wx(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Ua(Ua({},t),{},{dataKey:r,payload:n,value:i,name:a})}function lO(e,t){if(e)return String(e);if(typeof t=="string")return t}var S$=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},k$=(e,t)=>t==="centric"?e.angle:e.radius,En=e=>e.layout.width,An=e=>e.layout.height,P$=e=>e.layout.scale,uO=e=>e.layout.margin,Wd=A(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Kd=A(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),O$="data-recharts-item-index",j$="data-recharts-item-id",hl=60;function Kx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(r),!0).forEach(function(n){E$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E$(e,t,r){return(t=A$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A$(e){var t=C$(e,"string");return typeof t=="symbol"?t:t+""}function C$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T$=e=>e.brush.height;function N$(e){var t=Kd(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hl;return r+i}return r},0)}function I$(e){var t=Kd(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hl;return r+i}return r},0)}function D$(e){var t=Wd(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function R$(e){var t=Wd(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var pt=A([En,An,uO,T$,N$,I$,D$,R$,EP,lM],(e,t,r,n,i,a,s,o,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+s,bottom:(r.bottom||0)+o},f=iu(iu({},d),c),h=f.bottom;f.bottom+=n,f=v$(f,l,u);var v=e-f.left-f.right,m=t-f.top-f.bottom;return iu(iu({brushBottom:h},f),{},{width:Math.max(v,0),height:Math.max(m,0)})}),M$=A(pt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),cO=A(En,An,(e,t)=>({x:0,y:0,width:e,height:t})),$$=x.createContext(null),qt=()=>x.useContext($$)!=null,qd=e=>e.brush,Hd=A([qd,pt,uO],(e,t,r)=>({height:e.height,x:F(e.x)?e.x:t.left,y:F(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:F(e.width)?e.width:t.width})),dO={},fO={},hO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},d=()=>{u&&c(),m()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},v=()=>{f!==null&&(clearTimeout(f),f=null)},m=()=>{v(),s=void 0,o=null},g=()=>{c()},y=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const b=f==null;h(),l&&b&&c()};return y.schedule=h,y.cancel=m,y.flush=g,i==null||i.addEventListener("abort",m,{once:!0}),y}e.debounce=t})(hO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hO;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,d=null;const f=t.debounce(function(...m){c=n.apply(this,m),d=null},i,{edges:u}),h=function(...m){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,m),d=Date.now(),f.cancel(),f.schedule(),c):(f.apply(this,m),c)},v=()=>(f.flush(),c);return h.cancel=f.cancel,h.flush=v,h}e.debounce=r})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fO;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(dO);var L$=dO.throttle;const z$=kn(L$);var kc=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},qr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},pO=(e,t,r)=>{var{width:n=qr.width,height:i=qr.height,aspect:a,maxHeight:s}=r,o=Zi(n)?e:Number(n),l=Zi(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},U$={width:0,height:0,overflow:"visible"},B$={width:0,overflowX:"visible"},F$={height:0,overflowY:"visible"},W$={},K$=e=>{var{width:t,height:r}=e,n=Zi(t),i=Zi(r);return n&&i?U$:n?B$:i?F$:W$};function q$(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=qr.width,a=qr.height):i===void 0?i=n&&n>0?void 0:qr.width:a===void 0&&(a=n&&n>0?void 0:qr.height),{width:i,height:a}}function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kp.apply(null,arguments)}function qx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qx(Object(r),!0).forEach(function(n){H$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H$(e,t,r){return(t=V$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V$(e){var t=G$(e,"string");return typeof t=="symbol"?t:t+""}function G$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vO=x.createContext(qr.initialDimension);function Y$(e){return Jr(e.width)&&Jr(e.height)}function mO(e){var{children:t,width:r,height:n}=e,i=x.useMemo(()=>({width:r,height:n}),[r,n]);return Y$(i)?x.createElement(vO.Provider,{value:i},t):null}var Ym=()=>x.useContext(vO),X$=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=qr.initialDimension,width:i,height:a,minWidth:s=qr.minWidth,minHeight:o,maxHeight:l,children:u,debounce:c=qr.debounce,id:d,className:f,onResize:h,style:v={}}=e,m=x.useRef(null),g=x.useRef();g.current=h,x.useImperativeHandle(t,()=>m.current);var[y,w]=x.useState({containerWidth:n.width,containerHeight:n.height}),b=x.useCallback((O,E)=>{w(j=>{var T=Math.round(O),C=Math.round(E);return j.containerWidth===T&&j.containerHeight===C?j:{containerWidth:T,containerHeight:C}})},[]);x.useEffect(()=>{if(m.current==null||typeof ResizeObserver>"u")return ms;var O=C=>{var W,I=C[0];if(I!=null){var{width:H,height:J}=I.contentRect;b(H,J),(W=g.current)===null||W===void 0||W.call(g,H,J)}};c>0&&(O=z$(O,c,{trailing:!0,leading:!1}));var E=new ResizeObserver(O),{width:j,height:T}=m.current.getBoundingClientRect();return b(j,T),E.observe(m.current),()=>{E.disconnect()}},[b,c]);var{containerWidth:_,containerHeight:k}=y;kc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:S}=pO(_,k,{width:i,height:a,aspect:r,maxHeight:l});return kc(P!=null&&P>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,S,i,a,s,o,r),x.createElement("div",{id:d?"".concat(d):void 0,className:le("recharts-responsive-container",f),style:Hx(Hx({},v),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:m},x.createElement("div",{style:K$({width:i,height:a})},x.createElement(mO,{width:P,height:S},u)))}),Q$=x.forwardRef((e,t)=>{var r=Ym();if(Jr(r.width)&&Jr(r.height))return e.children;var{width:n,height:i}=q$({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=pO(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return F(a)&&F(s)?x.createElement(mO,{width:a,height:s},e.children):x.createElement(X$,Kp({},e,{width:n,height:i,ref:t}))});function Xm(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Vd=()=>{var e,t=qt(),r=K(M$),n=K(Hd),i=(e=K(qd))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},J$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},gO=()=>{var e;return(e=K(pt))!==null&&e!==void 0?e:J$},Qm=()=>K(En),Jm=()=>K(An),Z$=()=>K(e=>e.layout.margin),Ee=e=>e.layout.layoutType,gs=()=>K(Ee),yO=()=>{var e=gs();if(e==="horizontal"||e==="vertical")return e},xO=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},eL=()=>{var e=gs();return e!==void 0},pl=e=>{var t=We(),r=qt(),{width:n,height:i}=e,a=Ym(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),x.useEffect(()=>{!r&&Jr(s)&&Jr(o)&&t(u$({width:s,height:o}))},[t,r,s,o]),null},wO=Symbol.for("immer-nothing"),Vx=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function Ar(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ko=Object.getPrototypeOf;function os(e){return!!e&&!!e[tr]}function ta(e){var t;return e?bO(e)||Array.isArray(e)||!!e[Vx]||!!((t=e.constructor)!=null&&t[Vx])||vl(e)||Yd(e):!1}var tL=Object.prototype.constructor.toString(),Gx=new WeakMap;function bO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Gx.get(r);return n===void 0&&(n=Function.toString.call(r),Gx.set(r,n)),n===tL}function Pc(e,t,r=!0){Gd(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Gd(e){const t=e[tr];return t?t.type_:Array.isArray(e)?1:vl(e)?2:Yd(e)?3:0}function qp(e,t){return Gd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _O(e,t,r){const n=Gd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function rL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vl(e){return e instanceof Map}function Yd(e){return e instanceof Set}function Ei(e){return e.copy_||e.base_}function Hp(e,t){if(vl(e))return new Map(e);if(Yd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=bO(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[tr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Ko(e),n)}else{const n=Ko(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Zm(e,t=!1){return Xd(e)||os(e)||!ta(e)||(Gd(e)>1&&Object.defineProperties(e,{set:au,add:au,clear:au,delete:au}),Object.freeze(e),t&&Object.values(e).forEach(r=>Zm(r,!0))),e}function nL(){Ar(2)}var au={value:nL};function Xd(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var iL={};function ra(e){const t=iL[e];return t||Ar(0,e),t}var qo;function SO(){return qo}function aL(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Yx(e,t){t&&(ra("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vp(e){Gp(e),e.drafts_.forEach(sL),e.drafts_=null}function Gp(e){e===qo&&(qo=e.parent_)}function Xx(e){return qo=aL(qo,e)}function sL(e){const t=e[tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Qx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[tr].modified_&&(Vp(t),Ar(4)),ta(e)&&(e=Oc(t,e),t.parent_||jc(t,e)),t.patches_&&ra("Patches").generateReplacementPatches_(r[tr].base_,e,t.patches_,t.inversePatches_)):e=Oc(t,r,[]),Vp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wO?e:void 0}function Oc(e,t,r){if(Xd(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[tr];if(!i)return Pc(t,(a,s)=>Jx(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return jc(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Pc(s,(l,u)=>Jx(e,i,a,l,u,r,o),n),jc(e,a,!1),r&&e.patches_&&ra("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function Jx(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Xd(i);if(!(o&&!s)){if(os(i)){const l=a&&t&&t.type_!==3&&!qp(t.assigned_,n)?a.concat(n):void 0,u=Oc(e,i,l);if(_O(r,n,u),os(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(ta(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;Oc(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(vl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&jc(e,i)}}}function jc(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zm(t,r)}function oL(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:SO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=eg;r&&(i=[n],a=Ho);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var eg={get(e,t){if(t===tr)return e;const r=Ei(e);if(!qp(r,t))return lL(e,r,t);const n=r[t];return e.finalized_||!ta(n)?n:n===ih(e.base_,t)?(ah(e),e.copy_[t]=Xp(n,e)):n},has(e,t){return t in Ei(e)},ownKeys(e){return Reflect.ownKeys(Ei(e))},set(e,t,r){const n=kO(Ei(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ih(Ei(e),t),a=i==null?void 0:i[tr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(rL(r,i)&&(r!==void 0||qp(e.base_,t)))return!0;ah(e),Yp(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ih(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ah(e),Yp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ei(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ar(11)},getPrototypeOf(e){return Ko(e.base_)},setPrototypeOf(){Ar(12)}},Ho={};Pc(eg,(e,t)=>{Ho[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ho.deleteProperty=function(e,t){return Ho.set.call(this,e,t,void 0)};Ho.set=function(e,t,r){return eg.set.call(this,e[0],t,r,e[0])};function ih(e,t){const r=e[tr];return(r?Ei(r):e)[t]}function lL(e,t,r){var i;const n=kO(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function kO(e,t){if(!(t in e))return;let r=Ko(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ko(r)}}function Yp(e){e.modified_||(e.modified_=!0,e.parent_&&Yp(e.parent_))}function ah(e){e.copy_||(e.copy_=Hp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uL=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Ar(6),n!==void 0&&typeof n!="function"&&Ar(7);let i;if(ta(t)){const a=Xx(this),s=Xp(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Vp(a):Gp(a)}return Yx(a,n),Qx(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===wO&&(i=void 0),this.autoFreeze_&&Zm(i,!0),n){const a=[],s=[];ra("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Ar(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ta(e)||Ar(8),os(e)&&(e=cL(e));const t=Xx(this),r=Xp(e,void 0);return r[tr].isManual_=!0,Gp(t),r}finishDraft(e,t){const r=e&&e[tr];(!r||!r.isManual_)&&Ar(9);const{scope_:n}=r;return Yx(n,t),Qx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ra("Patches").applyPatches_;return os(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Xp(e,t){const r=vl(e)?ra("MapSet").proxyMap_(e,t):Yd(e)?ra("MapSet").proxySet_(e,t):oL(e,t);return(t?t.scope_:SO()).drafts_.push(r),r}function cL(e){return os(e)||Ar(10,e),PO(e)}function PO(e){if(!ta(e)||Xd(e))return e;const t=e[tr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Hp(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Hp(e,!0);return Pc(r,(i,a)=>{_O(r,i,PO(a))},n),t&&(t.finalized_=!1),r}var dL=new uL;dL.produce;var fL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},OO=Kt({name:"legend",initialState:fL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ir(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:be()},removeLegendPayload:{reducer(e,t){var r=Ir(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:be()}}}),{setLegendSize:Zx,setLegendSettings:hL,addLegendPayload:pL,replaceLegendPayload:vL,removeLegendPayload:mL}=OO.actions,gL=OO.reducer,yL=["contextPayload"];function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(null,arguments)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){xL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xL(e,t,r){return(t=wL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wL(e){var t=bL(e,"string");return typeof t=="symbol"?t:t+""}function bL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _L(e,t){if(e==null)return{};var r,n,i=SL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kL(e){return e.value}function PL(e){var{contextPayload:t}=e,r=_L(e,yL),n=gP(t,e.payloadUniqBy,kL),i=ls(ls({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(jR,i)}function OL(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ls(ls({},u),c)}function jL(e){var t=We();return x.useEffect(()=>{t(hL(e))},[t,e]),null}function EL(e){var t=We();return x.useEffect(()=>(t(Zx(e)),()=>{t(Zx({width:0,height:0}))}),[t,e]),null}function AL(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var CL={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function jO(e){var t=St(e,CL),r=dM(),n=_D(),i=Z$(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=AP([r]),d=Qm(),f=Jm();if(d==null||f==null)return null;var h=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),v=AL(t.layout,s,a,h),m=l?o:ls(ls({position:"absolute",width:(v==null?void 0:v.width)||a||"auto",height:(v==null?void 0:v.height)||s||"auto"},OL(o,t,i,d,f,u)),o),g=l??n;if(g==null||r==null)return null;var y=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},x.createElement(jL,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&x.createElement(EL,{width:u.width,height:u.height}),x.createElement(PL,Qp({},t,v,{margin:i,chartWidth:d,chartHeight:f,contextPayload:r})));return ll.createPortal(y,g)}jO.displayName="Legend";function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jp.apply(null,arguments)}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){TL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TL(e,t,r){return(t=NL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=IL(e,"string");return typeof t=="symbol"?t:t+""}function IL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DL(e){return Array.isArray(e)&&Qr(e[0])&&Qr(e[1])?e.join(" ~ "):e}var xa={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},RL=e=>{var{separator:t=xa.separator,contentStyle:r,itemStyle:n,labelStyle:i=xa.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:f=xa.accessibilityLayer}=e,h=()=>{if(a&&a.length){var k={padding:0,margin:0},P=(o?Id(a,o):a).map((S,O)=>{if(S.type==="none")return null;var E=S.formatter||s||DL,{value:j,name:T}=S,C=j,W=T;if(E){var I=E(j,T,S,O,a);if(Array.isArray(I))[C,W]=I;else if(I!=null)C=I;else return null}var H=Bs(Bs({},xa.itemStyle),{},{color:S.color||xa.itemStyle.color},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:H},Qr(W)?x.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Qr(W)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},C),x.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:k},P)}return null},v=Bs(Bs({},xa.contentStyle),r),m=Bs({margin:0},i),g=!ht(c),y=g?c:"",w=le("recharts-default-tooltip",l),b=le("recharts-tooltip-label",u);g&&d&&a!==void 0&&a!==null&&(y=d(c,a));var _=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Jp({className:w,style:v},_),x.createElement("p",{className:b,style:m},x.isValidElement(y)?y:"".concat(y)),h())},Fs="recharts-tooltip-wrapper",ML={visibility:"hidden"};function $L(e){var{coordinate:t,translateX:r,translateY:n}=e;return le(Fs,{["".concat(Fs,"-right")]:F(r)&&t&&F(t.x)&&r>=t.x,["".concat(Fs,"-left")]:F(r)&&t&&F(t.x)&&r<t.x,["".concat(Fs,"-bottom")]:F(n)&&t&&F(t.y)&&n>=t.y,["".concat(Fs,"-top")]:F(n)&&t&&F(t.y)&&n<t.y})}function rw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&F(a[n]))return a[n];var c=r[n]-o-(i>0?i:0),d=r[n]+i;if(t[n])return s[n]?c:d;var f=l[n];if(f==null)return 0;if(s[n]){var h=c,v=f;return h<v?Math.max(d,f):Math.max(c,f)}if(u==null)return 0;var m=d+o,g=f+u;return m>g?Math.max(c,f):Math.max(d,f)}function LL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function zL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,c,d,f;return o.height>0&&o.width>0&&r?(d=rw({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),f=rw({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=LL({translateX:d,translateY:f,useTranslate3d:l})):c=ML,{cssProperties:c,cssClasses:$L({translateX:d,translateY:f,coordinate:r})}}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){Zp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zp(e,t,r){return(t=UL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UL(e){var t=BL(e,"string");return typeof t=="symbol"?t:t+""}function BL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class FL extends x.PureComponent{constructor(){super(...arguments),Zp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:f,viewBox:h,wrapperStyle:v,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,w=typeof u=="number"?u:u.x,b=typeof u=="number"?u:u.y,{cssClasses:_,cssProperties:k}=zL({allowEscapeViewBox:r,coordinate:s,offsetLeft:w,offsetTop:b,position:c,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:f,viewBox:h}),P=y?{}:su(su({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),S=su(su({},P),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:S,ref:g},a)}}var EO=()=>{var e;return(e=K(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(n){WL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WL(e,t,r){return(t=KL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KL(e){var t=qL(e,"string");return typeof t=="symbol"?t:t+""}function qL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sw={curveBasisClosed:BD,curveBasisOpen:FD,curveBasis:UD,curveBumpX:OD,curveBumpY:jD,curveLinearClosed:WD,curveLinear:kd,curveMonotoneX:KD,curveMonotoneY:qD,curveNatural:HD,curveStep:VD,curveStepAfter:YD,curveStepBefore:GD},Ec=e=>ne(e.x)&&ne(e.y),ow=e=>e.base!=null&&Ec(e.base)&&Ec(e),Ws=e=>e.x,Ks=e=>e.y,HL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(cl(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=sw["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return sw[r]||kd},lw={connectNulls:!1,type:"linear"},VL=e=>{var{type:t=lw.type,points:r=[],baseLine:n,layout:i,connectNulls:a=lw.connectNulls}=e,s=HL(t,i),o=a?r.filter(Ec):r;if(Array.isArray(n)){var l,u=r.map((v,m)=>aw(aw({},v),{},{base:n[m]}));i==="vertical"?l=Jl().y(Ks).x1(Ws).x0(v=>v.base.x):l=Jl().x(Ws).y1(Ks).y0(v=>v.base.y);var c=l.defined(ow).curve(s),d=a?u.filter(ow):u;return c(d)}var f;i==="vertical"&&F(n)?f=Jl().y(Ks).x1(Ws).x0(n):F(n)?f=Jl().x(Ws).y1(Ks).y0(n):f=Rk().x(Ws).y(Ks);var h=f.defined(Ec).curve(s);return h(o)},AO=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=gs();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?VL(s):n;return x.createElement("path",ev({},Xr(e),Tm(e),{className:le("recharts-curve",t),d:o===null?void 0:o,ref:i}))},GL=["x","y","top","left","width","height","className"];function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){XL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XL(e,t,r){return(t=QL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QL(e){var t=JL(e,"string");return typeof t=="symbol"?t:t+""}function JL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZL(e,t){if(e==null)return{};var r,n,i=e3(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function e3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var t3=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),r3=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=ZL(e,GL),u=YL({x:t,y:r,top:n,left:i,width:a,height:s},l);return!F(t)||!F(r)||!F(a)||!F(s)||!F(n)||!F(i)?null:x.createElement("path",tv({},Ct(u),{className:le("recharts-cross",o),d:t3(t,r,a,s,n,i)}))};function n3(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){i3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i3(e,t,r){return(t=a3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3(e){var t=s3(e,"string");return typeof t=="symbol"?t:t+""}function s3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CO=(e,t,r)=>e.map(n=>"".concat(o3(n)," ").concat(t,"ms ").concat(r)).join(","),l3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Vo=(e,t)=>Object.keys(t).reduce((r,n)=>dw(dw({},r),{},{[n]:e(n,t[n])}),{});function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){u3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u3(e,t,r){return(t=c3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c3(e){var t=d3(e,"string");return typeof t=="symbol"?t:t+""}function d3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ac=(e,t,r)=>e+(t-e)*r,rv=e=>{var{from:t,to:r}=e;return t!==r},TO=(e,t,r)=>{var n=Vo((i,a)=>{if(rv(a)){var[s,o]=e(a.from,a.to,a.velocity);return He(He({},a),{},{from:s,velocity:o})}return a},t);return r<1?Vo((i,a)=>rv(a)&&n[i]!=null?He(He({},a),{},{velocity:Ac(a.velocity,n[i].velocity,r),from:Ac(a.from,n[i].from,r)}):a,t):TO(e,n,r-1)};function f3(e,t,r,n,i,a){var s,o=n.reduce((f,h)=>He(He({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>Vo((f,h)=>h.from,o),u=()=>!Object.values(o).filter(rv).length,c=null,d=f=>{s||(s=f);var h=f-s,v=h/r.dt;o=TO(r,o,v),i(He(He(He({},e),t),l())),s=f,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var f;(f=c)===null||f===void 0||f()})}function h3(e,t,r,n,i,a,s){var o=null,l=i.reduce((d,f)=>{var h=e[f],v=t[f];return h==null||v==null?d:He(He({},d),{},{[f]:[h,v]})},{}),u,c=d=>{u||(u=d);var f=(d-u)/n,h=Vo((m,g)=>Ac(...g,r(f)),l);if(a(He(He(He({},e),t),h)),f<1)o=s.setTimeout(c);else{var v=Vo((m,g)=>Ac(...g,r(1)),l);a(He(He(He({},e),t),v))}};return()=>(o=s.setTimeout(c),()=>{var d;(d=o)===null||d===void 0||d()})}const p3=(e,t,r,n,i,a)=>{var s=l3(e,t);return r==null?()=>(i(He(He({},e),t)),()=>{}):r.isStepper===!0?f3(e,t,r,s,i,a):h3(e,t,r,n,s,i,a)};var Cc=1e-4,NO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],IO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),hw=(e,t)=>r=>{var n=NO(e,t);return IO(n,r)},v3=(e,t)=>r=>{var n=NO(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return IO(i,r)},m3=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},g3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=m3(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},y3=(e,t,r,n)=>{var i=hw(e,r),a=hw(t,n),s=v3(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,f=0;f<8;++f){var h=i(d)-c,v=s(d);if(Math.abs(h-c)<Cc||v<Cc)return a(d);d=o(d-h/v)}return a(d)};return l.isStepper=!1,l},pw=function(){return y3(...g3(...arguments))},x3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,c=l*n,d=l+(u-c)*i/1e3,f=l*i/1e3+s;return Math.abs(f-o)<Cc&&Math.abs(d)<Cc?[o,0]:[f,d]};return a.isStepper=!0,a.dt=i,a},w3=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pw(e);case"spring":return x3();default:if(e.split("(")[0]==="cubic-bezier")return pw(e)}return typeof e=="function"?e:null};function b3(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class _3{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function S3(){return b3(new _3)}var k3=x.createContext(S3);function P3(e,t){var r=x.useContext(k3);return x.useMemo(()=>t??r(e),[e,t,r])}var O3=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qd={isSsr:O3()},j3={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vw={t:0},sh={t:1};function tg(e){var t=St(e,j3),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=r==="auto"?!Qd.isSsr:r,d=P3(t.animationId,t.animationManager),[f,h]=x.useState(c?vw:sh),v=x.useRef(null);return x.useEffect(()=>{c||h(sh)},[c]),x.useEffect(()=>{if(!c||!n)return ms;var m=p3(vw,sh,w3(a),i,h,d.getTimeoutController()),g=()=>{v.current=m()};return d.start([l,s,g,i,o]),()=>{d.stop(),v.current&&v.current(),o()}},[c,n,i,a,s,l,o,d]),u(f.t)}function rg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Uo(t)),n=x.useRef(e);return n.current!==e&&(r.current=Uo(t),n.current=e),r.current}var E3=["radius"],A3=["radius"],mw,gw,yw,xw,ww,bw,_w,Sw,kw,Pw;function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){C3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C3(e,t,r){return(t=T3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T3(e){var t=N3(e,"string");return typeof t=="symbol"?t:t+""}function N3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(null,arguments)}function Ew(e,t){if(e==null)return{};var r,n,i=I3(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function I3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Aw=(e,t,r,n,i)=>{var a=Zn(r),s=Zn(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,d;if(o>0&&Array.isArray(i)){for(var f=[0,0,0,0],h=0,v=4;h<v;h++){var m,g=(m=i[h])!==null&&m!==void 0?m:0;f[h]=g>o?o:g}d=Re(mw||(mw=zr(["M",",",""])),e,t+l*f[0]),f[0]>0&&(d+=Re(gw||(gw=zr(["A ",",",",0,0,",",",",",""])),f[0],f[0],c,e+u*f[0],t)),d+=Re(yw||(yw=zr(["L ",",",""])),e+r-u*f[1],t),f[1]>0&&(d+=Re(xw||(xw=zr(["A ",",",",0,0,",`,
        `,",",""])),f[1],f[1],c,e+r,t+l*f[1])),d+=Re(ww||(ww=zr(["L ",",",""])),e+r,t+n-l*f[2]),f[2]>0&&(d+=Re(bw||(bw=zr(["A ",",",",0,0,",`,
        `,",",""])),f[2],f[2],c,e+r-u*f[2],t+n)),d+=Re(_w||(_w=zr(["L ",",",""])),e+u*f[3],t+n),f[3]>0&&(d+=Re(Sw||(Sw=zr(["A ",",",",0,0,",`,
        `,",",""])),f[3],f[3],c,e,t+n-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d=Re(kw||(kw=zr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*y,y,y,c,e+u*y,t,e+r-u*y,t,y,y,c,e+r,t+l*y,e+r,t+n-l*y,y,y,c,e+r-u*y,t+n,e+u*y,t+n,y,y,c,e,t+n-l*y)}else d=Re(Pw||(Pw=zr(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},Cw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DO=e=>{var t=St(e,Cw),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isAnimationActive:v,isUpdateAnimationActive:m}=t,g=x.useRef(o),y=x.useRef(l),w=x.useRef(a),b=x.useRef(s),_=x.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),k=rg(_,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var P=le("recharts-rectangle",c);if(!m){var S=Ct(t),{radius:O}=S,E=Ew(S,E3);return x.createElement("path",Tc({},E,{x:Zn(a),y:Zn(s),width:Zn(o),height:Zn(l),radius:typeof u=="number"?u:void 0,className:P,d:Aw(a,s,o,l,u)}))}var j=g.current,T=y.current,C=w.current,W=b.current,I="0px ".concat(n===-1?1:n,"px"),H="".concat(n,"px 0px"),J=CO(["strokeDasharray"],f,typeof d=="string"?d:Cw.animationEasing);return x.createElement(tg,{animationId:k,key:k,canBegin:n>0,duration:f,easing:d,isActive:m,begin:h},X=>{var R=$t(j,o,X),$=$t(T,l,X),L=$t(C,a,X),Y=$t(W,s,X);r.current&&(g.current=R,y.current=$,w.current=L,b.current=Y);var Q;v?X>0?Q={transition:J,strokeDasharray:H}:Q={strokeDasharray:I}:Q={strokeDasharray:H};var $e=Ct(t),{radius:pe}=$e,Rt=Ew($e,A3);return x.createElement("path",Tc({},Rt,{radius:typeof u=="number"?u:void 0,className:P,d:Aw(L,Y,R,$,u),ref:r,style:jw(jw({},Q),t.style)}))})};function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){D3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D3(e,t,r){return(t=R3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R3(e){var t=M3(e,"string");return typeof t=="symbol"?t:t+""}function M3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nc=Math.PI/180,$3=e=>e*180/Math.PI,ut=(e,t,r,n)=>({x:e+Math.cos(-Nc*n)*r,y:t+Math.sin(-Nc*n)*r}),L3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},z3=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},U3=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=z3({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:$3(l),angleInRadian:l}},B3=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},F3=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},W3=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=U3({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=B3(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?Nw(Nw({},t),{},{radius:i,angle:F3(c,t)}):null};function RO(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=ut(t,r,n,i),o=ut(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var Iw,Dw,Rw,Mw,$w,Lw,zw;function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(null,arguments)}function Li(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var K3=(e,t)=>{var r=fr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ou=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,c=Math.asin(o/u)/Nc,d=l?i:i+a*c,f=ut(t,r,u,d),h=ut(t,r,n,d),v=l?i-a*c:i,m=ut(t,r,u*Math.cos(c*Nc),v);return{center:f,circleTangency:h,lineTangency:m,theta:c}},MO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=K3(a,s),l=a+o,u=ut(t,r,i,a),c=ut(t,r,i,l),d=Re(Iw||(Iw=Li(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(n>0){var f=ut(t,r,n,a),h=ut(t,r,n,l);d+=Re(Dw||(Dw=Li(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),h.x,h.y,n,n,+(Math.abs(o)>180),+(a<=l),f.x,f.y)}else d+=Re(Rw||(Rw=Li(["L ",","," Z"])),t,r);return d},q3=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=fr(u-l),{circleTangency:d,lineTangency:f,theta:h}=ou({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:v,lineTangency:m,theta:g}=ou({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),y=o?Math.abs(l-u):Math.abs(l-u)-h-g;if(y<0)return s?Re(Mw||(Mw=Li(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),f.x,f.y,a,a,a*2,a,a,-a*2):MO({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var w=Re($w||($w=Li(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),f.x,f.y,a,a,+(c<0),d.x,d.y,i,i,+(y>180),+(c<0),v.x,v.y,a,a,+(c<0),m.x,m.y);if(n>0){var{circleTangency:b,lineTangency:_,theta:k}=ou({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:P,lineTangency:S,theta:O}=ou({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),E=o?Math.abs(l-u):Math.abs(l-u)-k-O;if(E<0&&a===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+=Re(Lw||(Lw=Li(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,a,a,+(c<0),P.x,P.y,n,n,+(E>180),+(c>0),b.x,b.y,a,a,+(c<0),_.x,_.y)}else w+=Re(zw||(zw=Li(["L",",","Z"])),t,r);return w},H3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$O=e=>{var t=St(e,H3),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var f=le("recharts-sector",d),h=a-i,v=hi(s,h,0,!0),m;return v>0&&Math.abs(u-c)<360?m=q3({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):m=MO({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),x.createElement("path",nv({},Ct(t),{className:f,d:m}))};function V3(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Qk(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=ut(n,i,a,o),u=ut(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return RO(t)}}var LO={},zO={},UO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bm;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(UO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UO;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(zO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fm,r=zO;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(LO);var G3=LO.range;const BO=kn(G3);function li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Y3(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ng(e){let t,r,n;e.length!==2?(t=li,r=(o,l)=>li(e(o),l),n=(o,l)=>e(o)-l):(t=e===li||e===Y3?e:X3,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function X3(){return 0}function FO(e){return e===null?NaN:+e}function*Q3(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const J3=ng(li),ml=J3.right;ng(FO).center;class Uw extends Map{constructor(t,r=t4){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Bw(this,t))}has(t){return super.has(Bw(this,t))}set(t,r){return super.set(Z3(this,t),r)}delete(t){return super.delete(e4(this,t))}}function Bw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Z3({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function e4({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function t4(e){return e!==null&&typeof e=="object"?e.valueOf():e}function r4(e=li){if(e===li)return WO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function WO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const n4=Math.sqrt(50),i4=Math.sqrt(10),a4=Math.sqrt(2);function Ic(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=n4?10:a>=i4?5:a>=a4?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?Ic(e,t,r*2):[o,l,u]}function iv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Ic(t,e,r):Ic(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function av(e,t,r){return t=+t,e=+e,r=+r,Ic(e,t,r)[2]}function sv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?av(t,e,r):av(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Fw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Ww(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function KO(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?WO:r4(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(t-u*d/l+f)),v=Math.min(n,Math.floor(t+(l-u)*d/l+f));KO(e,t,h,v,i)}const a=e[t];let s=r,o=n;for(qs(e,r,t),i(e[n],a)>0&&qs(e,r,n);s<o;){for(qs(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?qs(e,r,o):(++o,qs(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function qs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function s4(e,t,r){if(e=Float64Array.from(Q3(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Ww(e);if(t>=1)return Fw(e);var n,i=(n-1)*t,a=Math.floor(i),s=Fw(KO(e,a).subarray(0,a+1)),o=Ww(e.subarray(a+1));return s+(o-s)*(i-a)}}function o4(e,t,r=FO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function l4(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ov=Symbol("implicit");function ig(){var e=new Uw,t=[],r=[],n=ov;function i(a){let s=e.get(a);if(s===void 0){if(n!==ov)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Uw;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ig(t,r).unknown(n)},xr.apply(i,arguments),i}function ag(){var e=ig().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,h=i<n,v=h?i:n,m=h?n:i;a=(m-v)/Math.max(1,f-l+u*2),o&&(a=Math.floor(a)),v+=(m-v-a*(f-l))*c,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var g=l4(f).map(function(y){return v+a*y});return r(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(f){return arguments.length?(o=!!f,d()):o},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return ag(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},xr.apply(d(),arguments)}function qO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qO(t())},e}function u4(){return qO(ag.apply(null,arguments).paddingInner(1))}function sg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function HO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function gl(){}var Go=.7,Dc=1/Go,Qa="\\s*([+-]?\\d+)\\s*",Yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c4=/^#([0-9a-f]{3,8})$/,d4=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),f4=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),h4=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${Yo}\\)$`),p4=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Yo}\\)$`),v4=new RegExp(`^hsl\\(${Yo},${Yr},${Yr}\\)$`),m4=new RegExp(`^hsla\\(${Yo},${Yr},${Yr},${Yo}\\)$`),Kw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sg(gl,Xo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qw,formatHex:qw,formatHex8:g4,formatHsl:y4,formatRgb:Hw,toString:Hw});function qw(){return this.rgb().formatHex()}function g4(){return this.rgb().formatHex8()}function y4(){return VO(this).formatHsl()}function Hw(){return this.rgb().formatRgb()}function Xo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=c4.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Vw(t):r===3?new Ut(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?lu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?lu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=d4.exec(e))?new Ut(t[1],t[2],t[3],1):(t=f4.exec(e))?new Ut(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=h4.exec(e))?lu(t[1],t[2],t[3],t[4]):(t=p4.exec(e))?lu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=v4.exec(e))?Xw(t[1],t[2]/100,t[3]/100,1):(t=m4.exec(e))?Xw(t[1],t[2]/100,t[3]/100,t[4]):Kw.hasOwnProperty(e)?Vw(Kw[e]):e==="transparent"?new Ut(NaN,NaN,NaN,0):null}function Vw(e){return new Ut(e>>16&255,e>>8&255,e&255,1)}function lu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ut(e,t,r,n)}function x4(e){return e instanceof gl||(e=Xo(e)),e?(e=e.rgb(),new Ut(e.r,e.g,e.b,e.opacity)):new Ut}function lv(e,t,r,n){return arguments.length===1?x4(e):new Ut(e,t,r,n??1)}function Ut(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sg(Ut,lv,HO(gl,{brighter(e){return e=e==null?Dc:Math.pow(Dc,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Go:Math.pow(Go,e),new Ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ut(qi(this.r),qi(this.g),qi(this.b),Rc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gw,formatHex:Gw,formatHex8:w4,formatRgb:Yw,toString:Yw}));function Gw(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}`}function w4(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}${zi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yw(){const e=Rc(this.opacity);return`${e===1?"rgb(":"rgba("}${qi(this.r)}, ${qi(this.g)}, ${qi(this.b)}${e===1?")":`, ${e})`}`}function Rc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zi(e){return e=qi(e),(e<16?"0":"")+e.toString(16)}function Xw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Cr(e,t,r,n)}function VO(e){if(e instanceof Cr)return new Cr(e.h,e.s,e.l,e.opacity);if(e instanceof gl||(e=Xo(e)),!e)return new Cr;if(e instanceof Cr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Cr(s,o,l,e.opacity)}function b4(e,t,r,n){return arguments.length===1?VO(e):new Cr(e,t,r,n??1)}function Cr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sg(Cr,b4,HO(gl,{brighter(e){return e=e==null?Dc:Math.pow(Dc,e),new Cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Go:Math.pow(Go,e),new Cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ut(oh(e>=240?e-240:e+120,i,n),oh(e,i,n),oh(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Cr(Qw(this.h),uu(this.s),uu(this.l),Rc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rc(this.opacity);return`${e===1?"hsl(":"hsla("}${Qw(this.h)}, ${uu(this.s)*100}%, ${uu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qw(e){return e=(e||0)%360,e<0?e+360:e}function uu(e){return Math.max(0,Math.min(1,e||0))}function oh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const og=e=>()=>e;function _4(e,t){return function(r){return e+r*t}}function S4(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function k4(e){return(e=+e)==1?GO:function(t,r){return r-t?S4(t,r,e):og(isNaN(t)?r:t)}}function GO(e,t){var r=t-e;return r?_4(e,r):og(isNaN(e)?t:e)}const Jw=function e(t){var r=k4(t);function n(i,a){var s=r((i=lv(i)).r,(a=lv(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=GO(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function P4(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function O4(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function j4(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=ys(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function E4(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Mc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function A4(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ys(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var uv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lh=new RegExp(uv.source,"g");function C4(e){return function(){return e}}function T4(e){return function(t){return e(t)+""}}function N4(e,t){var r=uv.lastIndex=lh.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=uv.exec(e))&&(i=lh.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Mc(n,i)})),r=lh.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?T4(l[0].x):C4(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function ys(e,t){var r=typeof t,n;return t==null||r==="boolean"?og(t):(r==="number"?Mc:r==="string"?(n=Xo(t))?(t=n,Jw):N4:t instanceof Xo?Jw:t instanceof Date?E4:O4(t)?P4:Array.isArray(t)?j4:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?A4:Mc)(e,t)}function lg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function I4(e,t){t===void 0&&(t=e,e=ys);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function D4(e){return function(){return e}}function $c(e){return+e}var Zw=[0,1];function jt(e){return e}function cv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:D4(isNaN(t)?NaN:.5)}function R4(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function M4(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=cv(i,n),a=r(s,a)):(n=cv(n,i),a=r(a,s)),function(o){return a(n(o))}}function $4(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=cv(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=ml(e,o,1,n)-1;return a[l](i[l](o))}}function yl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jd(){var e=Zw,t=Zw,r=ys,n,i,a,s=jt,o,l,u;function c(){var f=Math.min(e.length,t.length);return s!==jt&&(s=R4(e[0],e[f-1])),o=f>2?$4:M4,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=o(e.map(n),t,r)))(n(s(f)))}return d.invert=function(f){return s(i((u||(u=o(t,e.map(n),Mc)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,$c),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=lg,c()},d.clamp=function(f){return arguments.length?(s=f?!0:jt,c()):s!==jt},d.interpolate=function(f){return arguments.length?(r=f,c()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return n=f,i=h,c()}}function ug(){return Jd()(jt,jt)}function L4(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lc(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function us(e){return e=Lc(Math.abs(e)),e?e[1]:NaN}function z4(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function U4(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var B4=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qo(e){if(!(t=B4.exec(e)))throw new Error("invalid format: "+e);var t;return new cg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qo.prototype=cg.prototype;function cg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function F4(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var zc;function W4(e,t){var r=Lc(e,t);if(!r)return zc=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(zc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Lc(e,Math.max(0,t+a-1))[0]}function eb(e,t){var r=Lc(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const tb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:L4,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eb(e*100,t),r:eb,s:W4,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rb(e){return e}var nb=Array.prototype.map,ib=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function K4(e){var t=e.grouping===void 0||e.thousands===void 0?rb:z4(nb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?rb:U4(nb.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d,f){d=Qo(d);var h=d.fill,v=d.align,m=d.sign,g=d.symbol,y=d.zero,w=d.width,b=d.comma,_=d.precision,k=d.trim,P=d.type;P==="n"?(b=!0,P="g"):tb[P]||(_===void 0&&(_=12),k=!0,P="g"),(y||h==="0"&&v==="=")&&(y=!0,h="0",v="=");var S=(f&&f.prefix!==void 0?f.prefix:"")+(g==="$"?r:g==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),O=(g==="$"?n:/[%p]/.test(P)?s:"")+(f&&f.suffix!==void 0?f.suffix:""),E=tb[P],j=/[defgprs%]/.test(P);_=_===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function T(C){var W=S,I=O,H,J,X;if(P==="c")I=E(C)+I,C="";else{C=+C;var R=C<0||1/C<0;if(C=isNaN(C)?l:E(Math.abs(C),_),k&&(C=F4(C)),R&&+C==0&&m!=="+"&&(R=!1),W=(R?m==="("?m:o:m==="-"||m==="("?"":m)+W,I=(P==="s"&&!isNaN(C)&&zc!==void 0?ib[8+zc/3]:"")+I+(R&&m==="("?")":""),j){for(H=-1,J=C.length;++H<J;)if(X=C.charCodeAt(H),48>X||X>57){I=(X===46?i+C.slice(H+1):C.slice(H))+I,C=C.slice(0,H);break}}}b&&!y&&(C=t(C,1/0));var $=W.length+C.length+I.length,L=$<w?new Array(w-$+1).join(h):"";switch(b&&y&&(C=t(L+C,L.length?w-I.length:1/0),L=""),v){case"<":C=W+C+I+L;break;case"=":C=W+L+C+I;break;case"^":C=L.slice(0,$=L.length>>1)+W+C+I+L.slice($);break;default:C=L+W+C+I;break}return a(C)}return T.toString=function(){return d+""},T}function c(d,f){var h=Math.max(-8,Math.min(8,Math.floor(us(f)/3)))*3,v=Math.pow(10,-h),m=u((d=Qo(d),d.type="f",d),{suffix:ib[8+h/3]});return function(g){return m(v*g)}}return{format:u,formatPrefix:c}}var cu,dg,YO;q4({thousands:",",grouping:[3],currency:["$",""]});function q4(e){return cu=K4(e),dg=cu.format,YO=cu.formatPrefix,cu}function H4(e){return Math.max(0,-us(Math.abs(e)))}function V4(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(us(t)/3)))*3-us(Math.abs(e)))}function G4(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,us(t)-us(e))+1}function XO(e,t,r,n){var i=sv(e,t,r),a;switch(n=Qo(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=V4(i,s))&&(n.precision=a),YO(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=G4(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=H4(i))&&(n.precision=a-(n.type==="%")*2);break}}return dg(n)}function gi(e){var t=e.domain;return e.ticks=function(r){var n=t();return iv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return XO(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=av(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function QO(){var e=ug();return e.copy=function(){return yl(e,QO())},xr.apply(e,arguments),gi(e)}function JO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$c),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return JO(e).unknown(t)},e=arguments.length?Array.from(e,$c):[0,1],gi(r)}function ZO(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function ab(e){return Math.log(e)}function sb(e){return Math.exp(e)}function Y4(e){return-Math.log(-e)}function X4(e){return-Math.exp(-e)}function Q4(e){return isFinite(e)?+("1e"+e):e<0?0:e}function J4(e){return e===10?Q4:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Z4(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ob(e){return(t,r)=>-e(-t,r)}function fg(e){const t=e(ab,sb),r=t.domain;let n=10,i,a;function s(){return i=Z4(n),a=J4(n),r()[0]<0?(i=ob(i),a=ob(a),e(Y4,X4)):e(ab,sb),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),v,m;const g=o==null?10:+o;let y=[];if(!(n%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(v=1;v<n;++v)if(m=f<0?v/a(-f):v*a(f),!(m<u)){if(m>c)break;y.push(m)}}else for(;f<=h;++f)for(v=n-1;v>=1;--v)if(m=f>0?v/a(-f):v*a(f),!(m<u)){if(m>c)break;y.push(m)}y.length*2<g&&(y=iv(u,c,g))}else y=iv(f,h,Math.min(h-f,g)).map(a);return d?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Qo(l)).precision==null&&(l.trim=!0),l=dg(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(ZO(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function ej(){const e=fg(Jd()).domain([1,10]);return e.copy=()=>yl(e,ej()).base(e.base()),xr.apply(e,arguments),e}function lb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ub(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hg(e){var t=1,r=e(lb(t),ub(t));return r.constant=function(n){return arguments.length?e(lb(t=+n),ub(t)):t},gi(r)}function tj(){var e=hg(Jd());return e.copy=function(){return yl(e,tj()).constant(e.constant())},xr.apply(e,arguments)}function cb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ez(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tz(e){return e<0?-e*e:e*e}function pg(e){var t=e(jt,jt),r=1;function n(){return r===1?e(jt,jt):r===.5?e(ez,tz):e(cb(r),cb(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},gi(t)}function vg(){var e=pg(Jd());return e.copy=function(){return yl(e,vg()).exponent(e.exponent())},xr.apply(e,arguments),e}function rz(){return vg.apply(null,arguments).exponent(.5)}function db(e){return Math.sign(e)*e*e}function nz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rj(){var e=ug(),t=[0,1],r=!1,n;function i(a){var s=nz(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(db(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,$c)).map(db)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rj(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xr.apply(i,arguments),gi(i)}function nj(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=o4(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[ml(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(li),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return nj().domain(e).range(t).unknown(n)},xr.apply(a,arguments)}function ij(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[ml(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return ij().domain([e,t]).range(i).unknown(a)},xr.apply(gi(s),arguments)}function aj(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[ml(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return aj().domain(e).range(t).unknown(r)},xr.apply(i,arguments)}const uh=new Date,ch=new Date;function Ge(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Ge(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(uh.setTime(+a),ch.setTime(+s),e(uh),e(ch),Math.floor(r(uh,ch))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Uc=Ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Uc);Uc.range;const ln=1e3,hr=ln*60,un=hr*60,xn=un*24,mg=xn*7,fb=xn*30,dh=xn*365,Ui=Ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ln)},(e,t)=>(t-e)/ln,e=>e.getUTCSeconds());Ui.range;const gg=Ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getMinutes());gg.range;const yg=Ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getUTCMinutes());yg.range;const xg=Ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln-e.getMinutes()*hr)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getHours());xg.range;const wg=Ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCHours());wg.range;const xl=Ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hr)/xn,e=>e.getDate()-1);xl.range;const Zd=Ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xn,e=>e.getUTCDate()-1);Zd.range;const sj=Ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xn,e=>Math.floor(e/xn));sj.range;function oa(e){return Ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hr)/mg)}const ef=oa(0),Bc=oa(1),iz=oa(2),az=oa(3),cs=oa(4),sz=oa(5),oz=oa(6);ef.range;Bc.range;iz.range;az.range;cs.range;sz.range;oz.range;function la(e){return Ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mg)}const tf=la(0),Fc=la(1),lz=la(2),uz=la(3),ds=la(4),cz=la(5),dz=la(6);tf.range;Fc.range;lz.range;uz.range;ds.range;cz.range;dz.range;const bg=Ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bg.range;const _g=Ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_g.range;const wn=Ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wn.range;const bn=Ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bn.range;function oj(e,t,r,n,i,a){const s=[[Ui,1,ln],[Ui,5,5*ln],[Ui,15,15*ln],[Ui,30,30*ln],[a,1,hr],[a,5,5*hr],[a,15,15*hr],[a,30,30*hr],[i,1,un],[i,3,3*un],[i,6,6*un],[i,12,12*un],[n,1,xn],[n,2,2*xn],[r,1,mg],[t,1,fb],[t,3,3*fb],[e,1,dh]];function o(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),v=h?h.range(u,+c+1):[];return f?v.reverse():v}function l(u,c,d){const f=Math.abs(c-u)/d,h=ng(([,,g])=>g).right(s,f);if(h===s.length)return e.every(sv(u/dh,c/dh,d));if(h===0)return Uc.every(Math.max(sv(u,c,d),1));const[v,m]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return v.every(m)}return[o,l]}const[fz,hz]=oj(bn,_g,tf,sj,wg,yg),[pz,vz]=oj(wn,bg,ef,xl,xg,gg);function fh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function mz(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Vs(i),c=Gs(i),d=Vs(a),f=Gs(a),h=Vs(s),v=Gs(s),m=Vs(o),g=Gs(o),y=Vs(l),w=Gs(l),b={a:X,A:R,b:$,B:L,c:null,d:yb,e:yb,f:zz,g:Yz,G:Qz,H:Mz,I:$z,j:Lz,L:lj,m:Uz,M:Bz,p:Y,q:Q,Q:bb,s:_b,S:Fz,u:Wz,U:Kz,V:qz,w:Hz,W:Vz,x:null,X:null,y:Gz,Y:Xz,Z:Jz,"%":wb},_={a:$e,A:pe,b:Rt,B:Ae,c:null,d:xb,e:xb,f:r5,g:f5,G:p5,H:Zz,I:e5,j:t5,L:cj,m:n5,M:i5,p:xe,q:ua,Q:bb,s:_b,S:a5,u:s5,U:o5,V:l5,w:u5,W:c5,x:null,X:null,y:d5,Y:h5,Z:v5,"%":wb},k={a:j,A:T,b:C,B:W,c:I,d:mb,e:mb,f:Nz,g:vb,G:pb,H:gb,I:gb,j:Ez,L:Tz,m:jz,M:Az,p:E,q:Oz,Q:Dz,s:Rz,S:Cz,u:bz,U:_z,V:Sz,w:wz,W:kz,x:H,X:J,y:vb,Y:pb,Z:Pz,"%":Iz};b.x=P(r,b),b.X=P(n,b),b.c=P(t,b),_.x=P(r,_),_.X=P(n,_),_.c=P(t,_);function P(N,Z){return function(te){var D=[],Ce=-1,ae=0,kt=N.length,vt,Pt,ca;for(te instanceof Date||(te=new Date(+te));++Ce<kt;)N.charCodeAt(Ce)===37&&(D.push(N.slice(ae,Ce)),(Pt=hb[vt=N.charAt(++Ce)])!=null?vt=N.charAt(++Ce):Pt=vt==="e"?" ":"0",(ca=Z[vt])&&(vt=ca(te,Pt)),D.push(vt),ae=Ce+1);return D.push(N.slice(ae,Ce)),D.join("")}}function S(N,Z){return function(te){var D=Hs(1900,void 0,1),Ce=O(D,N,te+="",0),ae,kt;if(Ce!=te.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(Z&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(ae=hh(Hs(D.y,0,1)),kt=ae.getUTCDay(),ae=kt>4||kt===0?Fc.ceil(ae):Fc(ae),ae=Zd.offset(ae,(D.V-1)*7),D.y=ae.getUTCFullYear(),D.m=ae.getUTCMonth(),D.d=ae.getUTCDate()+(D.w+6)%7):(ae=fh(Hs(D.y,0,1)),kt=ae.getDay(),ae=kt>4||kt===0?Bc.ceil(ae):Bc(ae),ae=xl.offset(ae,(D.V-1)*7),D.y=ae.getFullYear(),D.m=ae.getMonth(),D.d=ae.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),kt="Z"in D?hh(Hs(D.y,0,1)).getUTCDay():fh(Hs(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(kt+5)%7:D.w+D.U*7-(kt+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,hh(D)):fh(D)}}function O(N,Z,te,D){for(var Ce=0,ae=Z.length,kt=te.length,vt,Pt;Ce<ae;){if(D>=kt)return-1;if(vt=Z.charCodeAt(Ce++),vt===37){if(vt=Z.charAt(Ce++),Pt=k[vt in hb?Z.charAt(Ce++):vt],!Pt||(D=Pt(N,te,D))<0)return-1}else if(vt!=te.charCodeAt(D++))return-1}return D}function E(N,Z,te){var D=u.exec(Z.slice(te));return D?(N.p=c.get(D[0].toLowerCase()),te+D[0].length):-1}function j(N,Z,te){var D=h.exec(Z.slice(te));return D?(N.w=v.get(D[0].toLowerCase()),te+D[0].length):-1}function T(N,Z,te){var D=d.exec(Z.slice(te));return D?(N.w=f.get(D[0].toLowerCase()),te+D[0].length):-1}function C(N,Z,te){var D=y.exec(Z.slice(te));return D?(N.m=w.get(D[0].toLowerCase()),te+D[0].length):-1}function W(N,Z,te){var D=m.exec(Z.slice(te));return D?(N.m=g.get(D[0].toLowerCase()),te+D[0].length):-1}function I(N,Z,te){return O(N,t,Z,te)}function H(N,Z,te){return O(N,r,Z,te)}function J(N,Z,te){return O(N,n,Z,te)}function X(N){return s[N.getDay()]}function R(N){return a[N.getDay()]}function $(N){return l[N.getMonth()]}function L(N){return o[N.getMonth()]}function Y(N){return i[+(N.getHours()>=12)]}function Q(N){return 1+~~(N.getMonth()/3)}function $e(N){return s[N.getUTCDay()]}function pe(N){return a[N.getUTCDay()]}function Rt(N){return l[N.getUTCMonth()]}function Ae(N){return o[N.getUTCMonth()]}function xe(N){return i[+(N.getUTCHours()>=12)]}function ua(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var Z=P(N+="",b);return Z.toString=function(){return N},Z},parse:function(N){var Z=S(N+="",!1);return Z.toString=function(){return N},Z},utcFormat:function(N){var Z=P(N+="",_);return Z.toString=function(){return N},Z},utcParse:function(N){var Z=S(N+="",!0);return Z.toString=function(){return N},Z}}}var hb={"-":"",_:" ",0:"0"},tt=/^\s*\d+/,gz=/^%/,yz=/[\\^$*+?|[\]().{}]/g;function ie(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function xz(e){return e.replace(yz,"\\$&")}function Vs(e){return new RegExp("^(?:"+e.map(xz).join("|")+")","i")}function Gs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wz(e,t,r){var n=tt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bz(e,t,r){var n=tt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _z(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Sz(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function kz(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pb(e,t,r){var n=tt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vb(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Pz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Oz(e,t,r){var n=tt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jz(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mb(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=tt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function gb(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Az(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Cz(e,t,r){var n=tt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=tt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=tt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Iz(e,t,r){var n=gz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Dz(e,t,r){var n=tt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Rz(e,t,r){var n=tt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function yb(e,t){return ie(e.getDate(),t,2)}function Mz(e,t){return ie(e.getHours(),t,2)}function $z(e,t){return ie(e.getHours()%12||12,t,2)}function Lz(e,t){return ie(1+xl.count(wn(e),e),t,3)}function lj(e,t){return ie(e.getMilliseconds(),t,3)}function zz(e,t){return lj(e,t)+"000"}function Uz(e,t){return ie(e.getMonth()+1,t,2)}function Bz(e,t){return ie(e.getMinutes(),t,2)}function Fz(e,t){return ie(e.getSeconds(),t,2)}function Wz(e){var t=e.getDay();return t===0?7:t}function Kz(e,t){return ie(ef.count(wn(e)-1,e),t,2)}function uj(e){var t=e.getDay();return t>=4||t===0?cs(e):cs.ceil(e)}function qz(e,t){return e=uj(e),ie(cs.count(wn(e),e)+(wn(e).getDay()===4),t,2)}function Hz(e){return e.getDay()}function Vz(e,t){return ie(Bc.count(wn(e)-1,e),t,2)}function Gz(e,t){return ie(e.getFullYear()%100,t,2)}function Yz(e,t){return e=uj(e),ie(e.getFullYear()%100,t,2)}function Xz(e,t){return ie(e.getFullYear()%1e4,t,4)}function Qz(e,t){var r=e.getDay();return e=r>=4||r===0?cs(e):cs.ceil(e),ie(e.getFullYear()%1e4,t,4)}function Jz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ie(t/60|0,"0",2)+ie(t%60,"0",2)}function xb(e,t){return ie(e.getUTCDate(),t,2)}function Zz(e,t){return ie(e.getUTCHours(),t,2)}function e5(e,t){return ie(e.getUTCHours()%12||12,t,2)}function t5(e,t){return ie(1+Zd.count(bn(e),e),t,3)}function cj(e,t){return ie(e.getUTCMilliseconds(),t,3)}function r5(e,t){return cj(e,t)+"000"}function n5(e,t){return ie(e.getUTCMonth()+1,t,2)}function i5(e,t){return ie(e.getUTCMinutes(),t,2)}function a5(e,t){return ie(e.getUTCSeconds(),t,2)}function s5(e){var t=e.getUTCDay();return t===0?7:t}function o5(e,t){return ie(tf.count(bn(e)-1,e),t,2)}function dj(e){var t=e.getUTCDay();return t>=4||t===0?ds(e):ds.ceil(e)}function l5(e,t){return e=dj(e),ie(ds.count(bn(e),e)+(bn(e).getUTCDay()===4),t,2)}function u5(e){return e.getUTCDay()}function c5(e,t){return ie(Fc.count(bn(e)-1,e),t,2)}function d5(e,t){return ie(e.getUTCFullYear()%100,t,2)}function f5(e,t){return e=dj(e),ie(e.getUTCFullYear()%100,t,2)}function h5(e,t){return ie(e.getUTCFullYear()%1e4,t,4)}function p5(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ds(e):ds.ceil(e),ie(e.getUTCFullYear()%1e4,t,4)}function v5(){return"+0000"}function wb(){return"%"}function bb(e){return+e}function _b(e){return Math.floor(+e/1e3)}var wa,fj,hj;m5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m5(e){return wa=mz(e),fj=wa.format,wa.parse,hj=wa.utcFormat,wa.utcParse,wa}function g5(e){return new Date(e)}function y5(e){return e instanceof Date?+e:+new Date(+e)}function Sg(e,t,r,n,i,a,s,o,l,u){var c=ug(),d=c.invert,f=c.domain,h=u(".%L"),v=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),w=u("%b %d"),b=u("%B"),_=u("%Y");function k(P){return(l(P)<P?h:o(P)<P?v:s(P)<P?m:a(P)<P?g:n(P)<P?i(P)<P?y:w:r(P)<P?b:_)(P)}return c.invert=function(P){return new Date(d(P))},c.domain=function(P){return arguments.length?f(Array.from(P,y5)):f().map(g5)},c.ticks=function(P){var S=f();return e(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?k:u(S)},c.nice=function(P){var S=f();return(!P||typeof P.range!="function")&&(P=t(S[0],S[S.length-1],P??10)),P?f(ZO(S,P)):c},c.copy=function(){return yl(c,Sg(e,t,r,n,i,a,s,o,l,u))},c}function x5(){return xr.apply(Sg(pz,vz,wn,bg,ef,xl,xg,gg,Ui,fj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w5(){return xr.apply(Sg(fz,hz,bn,_g,tf,Zd,wg,yg,Ui,hj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rf(){var e=0,t=1,r,n,i,a,s=jt,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(f){var h,v;return arguments.length?([h,v]=f,s=d(h,v),u):[s(0),s(1)]}}return u.range=c(ys),u.rangeRound=c(lg),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function yi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pj(){var e=gi(rf()(jt));return e.copy=function(){return yi(e,pj())},Cn.apply(e,arguments)}function vj(){var e=fg(rf()).domain([1,10]);return e.copy=function(){return yi(e,vj()).base(e.base())},Cn.apply(e,arguments)}function mj(){var e=hg(rf());return e.copy=function(){return yi(e,mj()).constant(e.constant())},Cn.apply(e,arguments)}function kg(){var e=pg(rf());return e.copy=function(){return yi(e,kg()).exponent(e.exponent())},Cn.apply(e,arguments)}function b5(){return kg.apply(null,arguments).exponent(.5)}function gj(){var e=[],t=jt;function r(n){if(n!=null&&!isNaN(n=+n))return t((ml(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(li),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>s4(e,a/n))},r.copy=function(){return gj(t).domain(e)},Cn.apply(r,arguments)}function nf(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=jt,c,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+c(m))-a)*(n*m<n*a?o:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,r]=m,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function v(m){return function(g){var y,w,b;return arguments.length?([y,w,b]=g,u=I4(m,[y,w,b]),h):[u(0),u(.5),u(1)]}}return h.range=v(ys),h.rangeRound=v(lg),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return c=m,i=m(e),a=m(t),s=m(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function yj(){var e=gi(nf()(jt));return e.copy=function(){return yi(e,yj())},Cn.apply(e,arguments)}function xj(){var e=fg(nf()).domain([.1,1,10]);return e.copy=function(){return yi(e,xj()).base(e.base())},Cn.apply(e,arguments)}function wj(){var e=hg(nf());return e.copy=function(){return yi(e,wj()).constant(e.constant())},Cn.apply(e,arguments)}function Pg(){var e=pg(nf());return e.copy=function(){return yi(e,Pg()).exponent(e.exponent())},Cn.apply(e,arguments)}function _5(){return Pg.apply(null,arguments).exponent(.5)}const ro=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ag,scaleDiverging:yj,scaleDivergingLog:xj,scaleDivergingPow:Pg,scaleDivergingSqrt:_5,scaleDivergingSymlog:wj,scaleIdentity:JO,scaleImplicit:ov,scaleLinear:QO,scaleLog:ej,scaleOrdinal:ig,scalePoint:u4,scalePow:vg,scaleQuantile:nj,scaleQuantize:ij,scaleRadial:rj,scaleSequential:pj,scaleSequentialLog:vj,scaleSequentialPow:kg,scaleSequentialQuantile:gj,scaleSequentialSqrt:b5,scaleSequentialSymlog:mj,scaleSqrt:rz,scaleSymlog:tj,scaleThreshold:aj,scaleTime:x5,scaleUtc:w5,tickFormat:XO},Symbol.toStringTag,{value:"Module"}));var xi=e=>e.chartData,S5=A([xi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Og=(e,t,r,n)=>n?S5(e):xi(e);function _n(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ne(t)&&ne(r))return!0}return!1}function Sb(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function bj(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(ne(r))i=r;else if(typeof r=="function")return;if(ne(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(_n(s))return s}}function k5(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(_n(n))return Sb(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(F(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Bx.test(i)){var l=Bx.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(F(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Fx.test(a)){var c=Fx.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var d=+c[1];o=t[1]+d}}else o=t==null?void 0:t[1];var f=[s,o];if(_n(f))return t==null?f:Sb(f,t,r)}}}var xs=1e9,P5={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Eg,Se=!0,yr="[DecimalError] ",Hi=yr+"Invalid argument: ",jg=yr+"Exponent out of range: ",ws=Math.floor,Ai=Math.pow,O5=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yt,Je=1e7,ge=7,_j=9007199254740991,Wc=ws(_j/ge),U={};U.absoluteValue=U.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};U.comparedTo=U.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};U.decimalPlaces=U.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ge;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};U.dividedBy=U.div=function(e){return dn(this,new this.constructor(e))};U.dividedToIntegerBy=U.idiv=function(e){var t=this,r=t.constructor;return ue(dn(t,new r(e),0,1),r.precision)};U.equals=U.eq=function(e){return!this.cmp(e)};U.exponent=function(){return Be(this)};U.greaterThan=U.gt=function(e){return this.cmp(e)>0};U.greaterThanOrEqualTo=U.gte=function(e){return this.cmp(e)>=0};U.isInteger=U.isint=function(){return this.e>this.d.length-2};U.isNegative=U.isneg=function(){return this.s<0};U.isPositive=U.ispos=function(){return this.s>0};U.isZero=function(){return this.s===0};U.lessThan=U.lt=function(e){return this.cmp(e)<0};U.lessThanOrEqualTo=U.lte=function(e){return this.cmp(e)<1};U.logarithm=U.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Yt))throw Error(yr+"NaN");if(r.s<1)throw Error(yr+(r.s?"NaN":"-Infinity"));return r.eq(Yt)?new n(0):(Se=!1,t=dn(Jo(r,a),Jo(e,a),a),Se=!0,ue(t,i))};U.minus=U.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Pj(t,e):Sj(t,(e.s=-e.s,e))};U.modulo=U.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(yr+"NaN");return r.s?(Se=!1,t=dn(r,e,0,1).times(e),Se=!0,r.minus(t)):ue(new n(r),i)};U.naturalExponential=U.exp=function(){return kj(this)};U.naturalLogarithm=U.ln=function(){return Jo(this)};U.negated=U.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};U.plus=U.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Sj(t,e):Pj(t,(e.s=-e.s,e))};U.precision=U.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hi+e);if(t=Be(i)+1,n=i.d.length-1,r=n*ge+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};U.squareRoot=U.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(yr+"NaN")}for(e=Be(o),Se=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Hr(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ws((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(dn(o,a,s+2)).times(.5),Hr(a.d).slice(0,s)===(t=Hr(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(ue(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Se=!0,ue(n,r)};U.times=U.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,d=c.constructor,f=c.d,h=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=f.length,u=h.length,l<u&&(a=f,f=h,h=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+h[n]*f[i-n-1]+t,a[i--]=o%Je|0,t=o/Je|0;a[i]=(a[i]+t)%Je|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Se?ue(e,d.precision):e};U.toDecimalPlaces=U.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Zr(e,0,xs),t===void 0?t=n.rounding:Zr(t,0,8),ue(r,e+Be(r)+1,t))};U.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=na(n,!0):(Zr(e,0,xs),t===void 0?t=i.rounding:Zr(t,0,8),n=ue(new i(n),e+1,t),r=na(n,!0,e+1)),r};U.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?na(i):(Zr(e,0,xs),t===void 0?t=a.rounding:Zr(t,0,8),n=ue(new a(i),e+Be(i)+1,t),r=na(n.abs(),!1,e+Be(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};U.toInteger=U.toint=function(){var e=this,t=e.constructor;return ue(new t(e),Be(e)+1,t.rounding)};U.toNumber=function(){return+this};U.toPower=U.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Yt);if(o=new l(o),!o.s){if(e.s<1)throw Error(yr+"Infinity");return o}if(o.eq(Yt))return o;if(n=l.precision,e.eq(Yt))return ue(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=_j){for(i=new l(Yt),t=Math.ceil(n/ge+4),Se=!1;r%2&&(i=i.times(o),Pb(i.d,t)),r=ws(r/2),r!==0;)o=o.times(o),Pb(o.d,t);return Se=!0,e.s<0?new l(Yt).div(i):ue(i,n)}}else if(a<0)throw Error(yr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Se=!1,i=e.times(Jo(o,n+u)),Se=!0,i=kj(i),i.s=a,i};U.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Be(i),n=na(i,r<=a.toExpNeg||r>=a.toExpPos)):(Zr(e,1,xs),t===void 0?t=a.rounding:Zr(t,0,8),i=ue(new a(i),e,t),r=Be(i),n=na(i,e<=r||r<=a.toExpNeg,e)),n};U.toSignificantDigits=U.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zr(e,1,xs),t===void 0?t=n.rounding:Zr(t,0,8)),ue(new n(r),e,t)};U.toString=U.valueOf=U.val=U.toJSON=U[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Be(e),r=e.constructor;return na(e,t<=r.toExpNeg||t>=r.toExpPos)};function Sj(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Se?ue(t,d):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(d/ge),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Je|0,l[a]%=Je;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Se?ue(t,d):t}function Zr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hi+e)}function Hr(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=ge-n.length,r&&(a+=qn(r)),a+=n;s=e[t],n=s+"",r=ge-n.length,r&&(a+=qn(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var dn=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Je|0,s=a/Je|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Je+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,d,f,h,v,m,g,y,w,b,_,k,P,S,O,E=n.constructor,j=n.s==i.s?1:-1,T=n.d,C=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(yr+"Division by zero");for(l=n.e-i.e,S=C.length,k=T.length,h=new E(j),v=h.d=[],u=0;C[u]==(T[u]||0);)++u;if(C[u]>(T[u]||0)&&--l,a==null?w=a=E.precision:s?w=a+(Be(n)-Be(i))+1:w=a,w<0)return new E(0);if(w=w/ge+2|0,u=0,S==1)for(c=0,C=C[0],w++;(u<k||c)&&w--;u++)b=c*Je+(T[u]||0),v[u]=b/C|0,c=b%C|0;else{for(c=Je/(C[0]+1)|0,c>1&&(C=e(C,c),T=e(T,c),S=C.length,k=T.length),_=S,m=T.slice(0,S),g=m.length;g<S;)m[g++]=0;O=C.slice(),O.unshift(0),P=C[0],C[1]>=Je/2&&++P;do c=0,o=t(C,m,S,g),o<0?(y=m[0],S!=g&&(y=y*Je+(m[1]||0)),c=y/P|0,c>1?(c>=Je&&(c=Je-1),d=e(C,c),f=d.length,g=m.length,o=t(d,m,f,g),o==1&&(c--,r(d,S<f?O:C,f))):(c==0&&(o=c=1),d=C.slice()),f=d.length,f<g&&d.unshift(0),r(m,d,g),o==-1&&(g=m.length,o=t(C,m,S,g),o<1&&(c++,r(m,S<g?O:C,g))),g=m.length):o===0&&(c++,m=[0]),v[u++]=c,o&&m[0]?m[g++]=T[_]||0:(m=[T[_]],g=1);while((_++<k||m[0]!==void 0)&&w--)}return v[0]||v.shift(),h.e=l,ue(h,s?a+Be(h)+1:a)}}();function kj(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,d=c.precision;if(Be(e)>16)throw Error(jg+Be(e));if(!e.s)return new c(Yt);for(Se=!1,o=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ai(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(Yt),c.precision=o;;){if(i=ue(i.times(e),o),r=r.times(++l),s=a.plus(dn(i,r,o)),Hr(s.d).slice(0,o)===Hr(a.d).slice(0,o)){for(;u--;)a=ue(a.times(a),o);return c.precision=d,t==null?(Se=!0,ue(a,d)):a}a=s}}function Be(e){for(var t=e.e*ge,r=e.d[0];r>=10;r/=10)t++;return t}function ph(e,t,r){if(t>e.LN10.sd())throw Se=!0,r&&(e.precision=r),Error(yr+"LN10 precision limit exceeded");return ue(new e(e.LN10),t)}function qn(e){for(var t="";e--;)t+="0";return t}function Jo(e,t){var r,n,i,a,s,o,l,u,c,d=1,f=10,h=e,v=h.d,m=h.constructor,g=m.precision;if(h.s<1)throw Error(yr+(h.s?"NaN":"-Infinity"));if(h.eq(Yt))return new m(0);if(t==null?(Se=!1,u=g):u=t,h.eq(10))return t==null&&(Se=!0),ph(m,u);if(u+=f,m.precision=u,r=Hr(v),n=r.charAt(0),a=Be(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Hr(h.d),n=r.charAt(0),d++;a=Be(h),n>1?(h=new m("0."+r),a++):h=new m(n+"."+r.slice(1))}else return l=ph(m,u+2,g).times(a+""),h=Jo(new m(n+"."+r.slice(1)),u-f).plus(l),m.precision=g,t==null?(Se=!0,ue(h,g)):h;for(o=s=h=dn(h.minus(Yt),h.plus(Yt),u),c=ue(h.times(h),u),i=3;;){if(s=ue(s.times(c),u),l=o.plus(dn(s,new m(i),u)),Hr(l.d).slice(0,u)===Hr(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(ph(m,u+2,g).times(a+""))),o=dn(o,new m(d),u),m.precision=g,t==null?(Se=!0,ue(o,g)):o;o=l,i+=2}}function kb(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ws(r/ge),e.d=[],n=(r+1)%ge,r<0&&(n+=ge),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ge;n<i;)e.d.push(+t.slice(n,n+=ge));t=t.slice(n),n=ge-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Se&&(e.e>Wc||e.e<-Wc))throw Error(jg+r)}else e.s=0,e.e=0,e.d=[0];return e}function ue(e,t,r){var n,i,a,s,o,l,u,c,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=ge,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/ge),a=d.length,c>=a)return e;for(u=a=d[c],s=1;a>=10;a/=10)s++;n%=ge,i=n-ge+s}if(r!==void 0&&(a=Ai(10,s-i-1),o=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Ai(10,s-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Be(e),d.length=1,t=t-a-1,d[0]=Ai(10,(ge-t%ge)%ge),e.e=ws(-t/ge)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Ai(10,ge-n),d[c]=i>0?(u/Ai(10,s-i)%Ai(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Je&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=Je)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Se&&(e.e>Wc||e.e<-Wc))throw Error(jg+Be(e));return e}function Pj(e,t){var r,n,i,a,s,o,l,u,c,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Se?ue(t,h):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=d.length):(r=d,n=u,o=l.length),i=Math.max(Math.ceil(h/ge),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Je-1;--l[a],l[i]+=Je}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Se?ue(t,h):t):new f(0)}function na(e,t,r){var n,i=Be(e),a=Hr(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+qn(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+qn(-i-1)+a,r&&(n=r-s)>0&&(a+=qn(n))):i>=s?(a+=qn(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+qn(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=qn(n))),e.s<0?"-"+a:a}function Pb(e,t){if(e.length>t)return e.length=t,!0}function Oj(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Hi+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return kb(s,a.toString())}else if(typeof a!="string")throw Error(Hi+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,O5.test(a))kb(s,a);else throw Error(Hi+a)}if(i.prototype=U,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Oj,i.config=i.set=j5,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function j5(e){if(!e||typeof e!="object")throw Error(yr+"Object expected");var t,r,n,i=["precision",1,xs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ws(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Hi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hi+r+": "+n);return this}var Eg=Oj(P5);Yt=new Eg(1);const se=Eg;function jj(e){var t;return e===0?t=1:t=Math.floor(new se(e).abs().log(10).toNumber())+1,t}function Ej(e,t,r){for(var n=new se(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Aj=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},Cj=(e,t,r)=>{if(e.lte(0))return new se(0);var n=jj(e.toNumber()),i=new se(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new se(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new se(l.toNumber()):new se(Math.ceil(l.toNumber()))},E5=(e,t,r)=>{var n=new se(1),i=new se(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new se(10).pow(jj(e)-1),i=new se(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new se(Math.floor(e)))}else e===0?i=new se(Math.floor((t-1)/2)):r||(i=new se(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],l=0;l<t;l++)o.push(i.add(new se(l-s).mul(n)).toNumber());return o},Tj=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new se(0),tickMin:new se(0),tickMax:new se(0)};var s=Cj(new se(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new se(0):(o=new se(t).add(r).div(2),o=o.sub(new se(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new se(r).sub(o).div(s).toNumber()),c=l+u+1;return c>n?Tj(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:s,tickMin:o.sub(new se(l).mul(s)),tickMax:o.add(new se(u).mul(s))})},A5=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=Aj([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return r>n?u.reverse():u}if(o===l)return E5(o,i,a);var{step:c,tickMin:d,tickMax:f}=Tj(o,l,s,a,0),h=Ej(d,f.add(new se(.1).mul(c)),c);return r>n?h.reverse():h},C5=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=Aj([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),u=Cj(new se(o).sub(s).div(l-1),a,0),c=[...Ej(new se(s),new se(o),u),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?c.reverse():c},T5=e=>e.rootProps.barCategoryGap,af=e=>e.rootProps.stackOffset,Nj=e=>e.rootProps.reverseStackOrder,Ag=e=>e.options.chartName,Cg=e=>e.rootProps.syncId,Ij=e=>e.rootProps.syncMethod,Tg=e=>e.options.eventEmitter,Et={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Si={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ur={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},sf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function of(e,t,r){if(r!=="auto")return r;if(e!=null)return jn(e,t)?"category":"number"}function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(r),!0).forEach(function(n){N5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N5(e,t,r){return(t=I5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I5(e){var t=D5(e,"string");return typeof t=="symbol"?t:t+""}function D5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jb={allowDataOverflow:Si.allowDataOverflow,allowDecimals:Si.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Si.angleAxisId,includeHidden:!1,name:void 0,reversed:Si.reversed,scale:Si.scale,tick:Si.tick,tickCount:void 0,ticks:void 0,type:Si.type,unit:void 0},Eb={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:Ur.allowDecimals,allowDuplicatedCategory:Ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ur.radiusAxisId,includeHidden:Ur.includeHidden,name:void 0,reversed:Ur.reversed,scale:Ur.scale,tick:Ur.tick,tickCount:Ur.tickCount,ticks:void 0,type:Ur.type,unit:void 0},R5=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Ng=A([R5,xO],(e,t)=>{var r;if(e!=null)return e;var n=(r=of(t,"angleAxis",jb.type))!==null&&r!==void 0?r:"category";return Kc(Kc({},jb),{},{type:n})}),M5=(e,t)=>e.polarAxis.radiusAxis[t],Ig=A([M5,xO],(e,t)=>{var r;if(e!=null)return e;var n=(r=of(t,"radiusAxis",Eb.type))!==null&&r!==void 0?r:"category";return Kc(Kc({},Eb),{},{type:n})}),lf=e=>e.polarOptions,Dg=A([En,An,pt],L3),Dj=A([lf,Dg],(e,t)=>{if(e!=null)return hi(e.innerRadius,t,0)}),Rj=A([lf,Dg],(e,t)=>{if(e!=null)return hi(e.outerRadius,t,t*.8)}),$5=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Mj=A([lf],$5);A([Ng,Mj],sf);var $j=A([Dg,Dj,Rj],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});A([Ig,$j],sf);var Lj=A([Ee,lf,Dj,Rj,En,An],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:hi(s,i,i/2),cy:hi(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),rt=(e,t)=>t,uf=(e,t,r)=>r;function zj(e){return e==null?void 0:e.id}function Uj(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=zj(o);u.forEach((d,f)=>{var h=a==null||i?f:String(dt(d,a,null)),v=dt(d,o.dataKey,0),m;s.has(h)?m=s.get(h):m={},Object.assign(m,{[c]:v}),s.set(h,m)})}}),Array.from(s.values())}function Rg(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var cf=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function df(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function L5(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var nt=e=>{var t=Ee(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},bs=e=>e.tooltip.settings.axisId;function z5(e){if(e in ro)return ro[e]();var t="scale".concat(cl(e));if(t in ro)return ro[t]()}function Ab(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var l=e.bandwidth();switch(s.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function Cb(e,t,r){if(typeof e=="function")return Ab(e.copy().domain(t).range(r));if(e!=null){var n=z5(e);if(n!=null)return n.domain(t).range(r),Ab(n)}}var U5=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!_n(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];ne(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){B5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B5(e,t,r){return(t=F5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5(e){var t=W5(e,"string");return typeof t=="symbol"?t:t+""}function W5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dv=[0,"auto"],Xe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Bj=(e,t)=>e.cartesianAxis.xAxis[t],Tn=(e,t)=>{var r=Bj(e,t);return r??Xe},Qe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hl},Fj=(e,t)=>e.cartesianAxis.yAxis[t],Nn=(e,t)=>{var r=Fj(e,t);return r??Qe},K5={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Mg=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??K5},Dt=(e,t,r)=>{switch(t){case"xAxis":return Tn(e,r);case"yAxis":return Nn(e,r);case"zAxis":return Mg(e,r);case"angleAxis":return Ng(e,r);case"radiusAxis":return Ig(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},q5=(e,t,r)=>{switch(t){case"xAxis":return Tn(e,r);case"yAxis":return Nn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wl=(e,t,r)=>{switch(t){case"xAxis":return Tn(e,r);case"yAxis":return Nn(e,r);case"angleAxis":return Ng(e,r);case"radiusAxis":return Ig(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Wj=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Kj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var qj=e=>e.graphicalItems.cartesianItems,H5=A([rt,uf],Kj),Hj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),bl=A([qj,Dt,H5],Hj,{memoizeOptions:{resultEqualityCheck:df}}),Vj=A([bl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Rg)),Gj=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),V5=A([bl],Gj),Yj=e=>e.map(t=>t.data).filter(Boolean).flat(1),G5=A([bl],Yj,{memoizeOptions:{resultEqualityCheck:df}}),Xj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},$g=A([G5,Og],Xj),Qj=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:dt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:dt(i,n)}))):e.map(n=>({value:n})),ff=A([$g,Dt,bl],Qj);function Jj(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cu(e){if(Qr(e)||e instanceof Date){var t=Number(e);if(ne(t))return t}}function Nb(e){if(Array.isArray(e)){var t=[Cu(e[0]),Cu(e[1])];return _n(t)?t:void 0}var r=Cu(e);if(r!=null)return[r,r]}function Sn(e){return e.map(Cu).filter(zt)}function Y5(e,t,r){return!r||typeof t!="number"||gn(t)?[]:r.length?Sn(r.flatMap(n=>{var i=dt(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!ne(a)||!ne(s)))return[t-a,t+s]})):[]}var Ye=e=>{var t=nt(e),r=bs(e);return wl(e,t,r)},_l=A([Ye],e=>e==null?void 0:e.dataKey),X5=A([Vj,Og,Ye],Uj),Zj=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,c=u.map(zj);return[o,{stackedData:x$(e,c,r),graphicalItems:u}]}))},Q5=A([X5,Vj,af,Nj],Zj),eE=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=_$(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},J5=A([Dt],e=>e.allowDataOverflow),Lg=e=>{var t;if(e==null||!("domain"in e))return dv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Sn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:dv},tE=A([Dt],Lg),rE=A([tE,J5],bj),Z5=A([Q5,xi,rt,rE],eE,{memoizeOptions:{resultEqualityCheck:cf}}),zg=e=>e.errorBars,eU=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Jj(r,n)),Hc=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},nE=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(y=>Jj(i,y)),f=dt(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),h=Y5(o,f,d);if(h.length>=2){var v=Math.min(...h),m=Math.max(...h);(a==null||v<a)&&(a=v),(s==null||m>s)&&(s=m)}var g=Nb(f);g!=null&&(a=a==null?g[0]:Math.min(a,g[0]),s=s==null?g[1]:Math.max(s,g[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=Nb(dt(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),ne(a)&&ne(s))return[a,s]},tU=A([$g,Dt,V5,zg,rt],nE,{memoizeOptions:{resultEqualityCheck:cf}});function rU(e){var{value:t}=e;if(Qr(t)||t instanceof Date)return t}var nU=(e,t,r)=>{var n=e.map(rU).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Gk(n))?BO(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},iE=e=>e.referenceElements.dots,_s=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),iU=A([iE,rt,uf],_s),aE=e=>e.referenceElements.areas,aU=A([aE,rt,uf],_s),sE=e=>e.referenceElements.lines,sU=A([sE,rt,uf],_s),oE=(e,t)=>{if(e!=null){var r=Sn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},oU=A(iU,rt,oE),lE=(e,t)=>{if(e!=null){var r=Sn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},lU=A([aU,rt],lE);function uU(e){var t;if(e.x!=null)return Sn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Sn(r)}function cU(e){var t;if(e.y!=null)return Sn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Sn(r)}var uE=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?uU(n):cU(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},dU=A([sU,rt],uE),fU=A(oU,dU,lU,(e,t,r)=>Hc(e,r,t)),cE=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Hc(n,a,i):Hc(a,i);return k5(t,u,e.allowDataOverflow)},hU=A([Dt,tE,rE,Z5,tU,fU,Ee,rt],cE,{memoizeOptions:{resultEqualityCheck:cf}}),pU=[0,1],dE=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=jn(t,a);if(u&&o==null){var c;return BO(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?nU(n,e,u):i==="expand"?pU:s}},Ug=A([Dt,Ee,$g,ff,af,rt,hU],dE);function vU(e){return e in ro}var fE=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(cl(n));return vU(a)?a:"point"}}},Ss=A([Dt,Wj,Ag],fE);function Bg(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?Cb(e.scale,r,n):Cb(t,r,n)}var hE=(e,t,r)=>{var n=Lg(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&_n(e))return A5(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&_n(e))return C5(e,t.tickCount,t.allowDecimals)}},Fg=A([Ug,wl,Ss],hE),pE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&_n(t)&&Array.isArray(r)&&r.length>0){var i,a,s=t[0],o=(i=r[0])!==null&&i!==void 0?i:0,l=t[1],u=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(l,u)]}return t},mU=A([Dt,Ug,Fg,rt],pE),gU=A(ff,Dt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Sn(e.map(d=>d.value))).sort((d,f)=>d-f),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],u=n[o+1];if(!(l==null||u==null)){var c=u-l;r=Math.min(r,c)}}return r/s}}),vE=A(gU,Ee,T5,pt,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!ne(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=hi(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),yU=(e,t,r)=>{var n=Tn(e,t);return n==null||typeof n.padding!="string"?0:vE(e,"xAxis",t,r,n.padding)},xU=(e,t,r)=>{var n=Nn(e,t);return n==null||typeof n.padding!="string"?0:vE(e,"yAxis",t,r,n.padding)},wU=A(Tn,yU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),bU=A(Nn,xU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),_U=A([pt,wU,Hd,qd,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),SU=A([pt,Ee,bU,Hd,qd,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Sl=(e,t,r,n)=>{var i;switch(t){case"xAxis":return _U(e,r,n);case"yAxis":return SU(e,r,n);case"zAxis":return(i=Mg(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return Mj(e);case"radiusAxis":return $j(e,r);default:return}},mE=A([Dt,Sl],sf),kU=A([Ss,mU],U5),hf=A([Dt,Ss,kU,mE],Bg);A([bl,zg,rt],eU);function gE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pf=(e,t)=>t,vf=(e,t,r)=>r,PU=A(Wd,pf,vf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(gE)),OU=A(Kd,pf,vf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(gE)),yE=(e,t)=>({width:e.width,height:t.height}),jU=(e,t)=>{var r=typeof t.width=="number"?t.width:hl;return{width:r,height:e.height}},EU=A(pt,Tn,yE),AU=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},CU=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},TU=A(An,pt,PU,pf,vf,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=yE(t,o);s==null&&(s=AU(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),NU=A(En,pt,OU,pf,vf,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=jU(t,o);s==null&&(s=CU(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),IU=(e,t)=>{var r=Tn(e,t);if(r!=null)return TU(e,r.orientation,r.mirror)},DU=A([pt,Tn,IU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),RU=(e,t)=>{var r=Nn(e,t);if(r!=null)return NU(e,r.orientation,r.mirror)},MU=A([pt,Nn,RU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),$U=A(pt,Nn,(e,t)=>{var r=typeof t.width=="number"?t.width:hl;return{width:r,height:e.height}}),xE=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=jn(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&Gk(l))return l}},Wg=A([Ee,ff,Dt,rt],xE),wE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=jn(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},Kg=A([Ee,ff,wl,rt],wE),Ib=A([Ee,q5,Ss,hf,Wg,Kg,Sl,Fg,rt],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=jn(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),LU=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=jn(e,l),{type:c,ticks:d,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=c==="category"&&n.bandwidth?n.bandwidth()/h:0;v=l==="angleAxis"&&a!=null&&a.length>=2?fr(a[0]-a[1])*2*v:v;var m=d||i;return m?m.map((g,y)=>{var w=s?s.indexOf(g):g,b=n.map(w);return ne(b)?{index:y,coordinate:b+v,value:g,offset:v}:null}).filter(zt):u&&o?o.map((g,y)=>{var w=n.map(g);return ne(w)?{coordinate:w+v,value:g,index:y,offset:v}:null}).filter(zt):n.ticks?n.ticks(f).map((g,y)=>{var w=n.map(g);return ne(w)?{coordinate:w+v,value:g,index:y,offset:v}:null}).filter(zt):n.domain().map((g,y)=>{var w=n.map(g);return ne(w)?{coordinate:w+v,value:s?s[g]:g,index:y,offset:v}:null}).filter(zt)}},bE=A([Ee,wl,Ss,hf,Fg,Sl,Wg,Kg,rt],LU),zU=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=jn(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?fr(n[0]-n[1])*2*u:u,o&&a?a.map((c,d)=>{var f=r.map(c);return ne(f)?{coordinate:f+u,value:c,index:d,offset:u}:null}).filter(zt):r.ticks?r.ticks(l).map((c,d)=>{var f=r.map(c);return ne(f)?{coordinate:f+u,value:c,index:d,offset:u}:null}).filter(zt):r.domain().map((c,d)=>{var f=r.map(c);return ne(f)?{coordinate:f+u,value:i?i[c]:c,index:d,offset:u}:null}).filter(zt)}},_E=A([Ee,wl,hf,Sl,Wg,Kg,rt],zU),SE=A(Dt,hf,(e,t)=>{if(!(e==null||t==null))return qc(qc({},e),{},{scale:t})}),UU=A([Dt,Ss,Ug,mE],Bg);A((e,t,r)=>Mg(e,r),UU,(e,t)=>{if(!(e==null||t==null))return qc(qc({},e),{},{scale:t})});var BU=A([Ee,Wd,Kd],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kE=e=>e.options.defaultTooltipEventType,PE=e=>e.options.validateTooltipEventTypes;function OE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function qg(e,t){var r=kE(e),n=PE(e);return OE(t,r,n)}function FU(e){return K(t=>qg(t,e))}var jE=(e,t)=>{var r,n=Number(t);if(!(gn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},WU=e=>e.tooltip.settings,Xn={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},KU={itemInteraction:{click:Xn,hover:Xn},axisInteraction:{click:Xn,hover:Xn},keyboardInteraction:Xn,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},EE=Kt({name:"tooltip",initialState:KU,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ir(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:be()},removeTooltipEntrySettings:{reducer(e,t){var r=Ir(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:qU,replaceTooltipEntrySettings:HU,removeTooltipEntrySettings:VU,setTooltipSettingsState:GU,setActiveMouseOverItemIndex:YU,mouseLeaveItem:iV,mouseLeaveChart:AE,setActiveClickItemIndex:aV,setMouseOverAxisIndex:CE,setMouseClickAxisIndex:XU,setSyncInteraction:fv,setKeyboardInteraction:hv}=EE.actions,QU=EE.reducer;function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=eB(e,"string");return typeof t=="symbol"?t:t+""}function eB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function rB(e){return e.index!=null}var TE=(e,t,r,n)=>{if(t==null)return Xn;var i=tB(e,t,r);if(i==null)return Xn;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(rB(i)){if(a)return du(du({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return du(du({},Xn),{},{coordinate:i.coordinate})};function nB(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function iB(e,t){var r=nB(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function aB(e,t,r){if(r==null||t==null)return!0;var n=dt(e,t);return n==null||!_n(r)?!0:iB(n,r)}var Hg=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!ne(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||aB(u,r,n)?String(l):null},NE=(e,t,r,n,i,a,s)=>{if(a!=null){var o=s[0],l=o==null?void 0:o.getPosition(a);if(l!=null)return l;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},IE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},DE=e=>e.options.tooltipPayloadSearcher,ks=e=>e.tooltip;function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){sB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sB(e,t,r){return(t=oB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oB(e){var t=lB(e,"string");return typeof t=="symbol"?t:t+""}function lB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uB(e,t){return e??t}var RE=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((f,h)=>{var v,{dataDefinedOnItem:m,settings:g}=h,y=uB(m,o),w=Array.isArray(y)?aO(y,u,c):y,b=(v=g==null?void 0:g.dataKey)!==null&&v!==void 0?v:n,_=g==null?void 0:g.nameKey,k;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?k=Yk(w,n,i):k=a(w,t,l,_),Array.isArray(k))k.forEach(S=>{var O=Mb(Mb({},g),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});f.push(Wx({tooltipEntrySettings:O,dataKey:S.dataKey,payload:S.payload,value:dt(S.payload,S.dataKey),name:S.name}))});else{var P;f.push(Wx({tooltipEntrySettings:g,dataKey:b,payload:k,value:dt(k,b),name:(P=dt(k,_))!==null&&P!==void 0?P:g==null?void 0:g.name}))}return f},d)}},Vg=A([Ye,Wj,Ag],fE),cB=A([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),dB=A([nt,bs],Kj),Ps=A([cB,Ye,dB],Hj,{memoizeOptions:{resultEqualityCheck:df}}),fB=A([Ps],e=>e.filter(Rg)),hB=A([Ps],Yj,{memoizeOptions:{resultEqualityCheck:df}}),Os=A([hB,xi],Xj),pB=A([fB,xi,Ye],Uj),Gg=A([Os,Ye,Ps],Qj),ME=A([Ye],Lg),vB=A([Ye],e=>e.allowDataOverflow),$E=A([ME,vB],bj),mB=A([Ps],e=>e.filter(Rg)),gB=A([pB,mB,af,Nj],Zj),yB=A([gB,xi,nt,$E],eE),xB=A([Ps],Gj),wB=A([Os,Ye,xB,zg,nt],nE,{memoizeOptions:{resultEqualityCheck:cf}}),bB=A([iE,nt,bs],_s),_B=A([bB,nt],oE),SB=A([aE,nt,bs],_s),kB=A([SB,nt],lE),PB=A([sE,nt,bs],_s),OB=A([PB,nt],uE),jB=A([_B,OB,kB],Hc),EB=A([Ye,ME,$E,yB,wB,jB,Ee,nt],cE),kl=A([Ye,Ee,Os,Gg,af,nt,EB],dE),AB=A([kl,Ye,Vg],hE),CB=A([Ye,kl,AB,nt],pE),LE=e=>{var t=nt(e),r=bs(e),n=!1;return Sl(e,t,r,n)},zE=A([Ye,LE],sf),UE=A([Ye,Vg,CB,zE],Bg),TB=A([Ee,Gg,Ye,nt],xE),NB=A([Ee,Gg,Ye,nt],wE),IB=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=jn(e,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fr(i[0]-i[1])*2*d:d,u&&s?s.map((f,h)=>{var v=n.map(f);return ne(v)?{coordinate:v+d,value:f,index:h,offset:d}:null}).filter(zt):n.domain().map((f,h)=>{var v=n.map(f);return ne(v)?{coordinate:v+d,value:a?a[f]:f,index:h,offset:d}:null}).filter(zt)}}},In=A([Ee,Ye,Vg,UE,LE,TB,NB,nt],IB),Yg=A([kE,PE,WU],(e,t,r)=>OE(r.shared,e,t)),BE=e=>e.tooltip.settings.trigger,Xg=e=>e.tooltip.settings.defaultIndex,Pl=A([ks,Yg,BE,Xg],TE),Zo=A([Pl,Os,_l,kl],Hg),FE=A([In,Zo],jE),DB=A([Pl],e=>{if(e)return e.dataKey});A([Pl],e=>{if(e)return e.graphicalItemId});var WE=A([ks,Yg,BE,Xg],IE),RB=A([En,An,Ee,pt,In,Xg,WE],NE),MB=A([Pl,RB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),$B=A([Pl],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),LB=A([WE,Zo,xi,_l,FE,DE,Yg],RE),zB=A([LB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){UB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UB(e,t,r){return(t=BB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=FB(e,"string");return typeof t=="symbol"?t:t+""}function FB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WB=()=>K(Ye),KB=()=>{var e=WB(),t=K(In),r=K(UE);return Sc(!e||!r?void 0:Lb(Lb({},e),{},{scale:r}),t)};function zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zb(Object(r),!0).forEach(function(n){qB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qB(e,t,r){return(t=HB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HB(e){var t=VB(e,"string");return typeof t=="symbol"?t:t+""}function VB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GB=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},YB=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return ba(ba(ba({},n),ut(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return ba(ba(ba({},n),ut(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function XB(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var KE=(e,t,r,n,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,d,f,h=o>0?(l=r[o-1])===null||l===void 0?void 0:l.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,v=(c=r[o])===null||c===void 0?void 0:c.coordinate,m=o>=s-1?(d=r[0])===null||d===void 0?void 0:d.coordinate:(f=r[o+1])===null||f===void 0?void 0:f.coordinate,g=void 0;if(!(h==null||v==null||m==null))if(fr(v-h)!==fr(m-v)){var y=[];if(fr(m-v)===fr(i[1]-i[0])){g=m;var w=v+i[1]-i[0];y[0]=Math.min(w,(w+h)/2),y[1]=Math.max(w,(w+h)/2)}else{g=h;var b=m+i[1]-i[0];y[0]=Math.min(v,(b+v)/2),y[1]=Math.max(v,(b+v)/2)}var _=[Math.min(v,(g+v)/2),Math.max(v,(g+v)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){var k;return(k=r[o])===null||k===void 0?void 0:k.index}}else{var P=Math.min(h,m),S=Math.max(h,m);if(e>(P+v)/2&&e<=(S+v)/2){var O;return(O=r[o])===null||O===void 0?void 0:O.index}}}else if(t)for(var E=0;E<s;E++){var j=t[E];if(j!=null){var T=t[E+1],C=t[E-1];if(E===0&&T!=null&&e<=(j.coordinate+T.coordinate)/2||E===s-1&&C!=null&&e>(j.coordinate+C.coordinate)/2||E>0&&E<s-1&&C!=null&&T!=null&&e>(j.coordinate+C.coordinate)/2&&e<=(j.coordinate+T.coordinate)/2)return j.index}}return-1},QB=()=>K(Ag),Qg=(e,t)=>t,qE=(e,t,r)=>r,Jg=(e,t,r,n)=>n,JB=A(In,e=>Id(e,t=>t.coordinate)),Zg=A([ks,Qg,qE,Jg],TE),ey=A([Zg,Os,_l,kl],Hg),ZB=(e,t,r)=>{if(t!=null){var n=ks(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},HE=A([ks,Qg,qE,Jg],IE),Vc=A([En,An,Ee,pt,In,Jg,HE],NE),eF=A([Zg,Vc],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),VE=A([In,ey],jE),tF=A([HE,ey,xi,_l,VE,DE,Qg],RE),rF=A([Zg,ey],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),nF=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&XB(e,s)){var o=S$(e,t),l=KE(o,a,i,r,n),u=GB(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},iF=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=W3(e,r);if(o){var l=k$(o,t),u=KE(l,s,a,n,i),c=YB(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},aF=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?nF(e,t,n,i,a,s,o):iF(e,t,r,n,i,a,s)},sF=A(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),oF=A(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Et)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:L5}});function Ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ub(Object(r),!0).forEach(function(n){lF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lF(e,t,r){return(t=uF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=cF(e,"string");return typeof t=="symbol"?t:t+""}function cF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dF={},fF={zIndexMap:Object.values(Et).reduce((e,t)=>Bb(Bb({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),dF)},hF=new Set(Object.values(Et));function pF(e){return hF.has(e)}var GE=Kt({name:"zIndex",initialState:fF,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!pF(r)&&delete e.zIndexMap[r])},prepare:be()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:be()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:be()}}}),{registerZIndexPortal:vF,unregisterZIndexPortal:mF,registerZIndexPortalElement:gF,unregisterZIndexPortalElement:yF}=GE.actions,xF=GE.reducer;function Dn(e){var{zIndex:t,children:r}=e,n=eL(),i=n&&t!==void 0&&t!==0,a=qt(),s=We();x.useLayoutEffect(()=>i?(s(vF({zIndex:t})),()=>{s(mF({zIndex:t}))}):ms,[s,t,i]);var o=K(l=>sF(l,t,a));return i?o?ll.createPortal(r,o):null:r}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){wF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wF(e,t,r){return(t=bF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=_F(e,"string");return typeof t=="symbol"?t:t+""}function _F(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SF(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function kF(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,f=n,h=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var v,m,g;if(c==="ScatterChart")v=d,m=r3,g=Et.cursorLine;else if(c==="BarChart")v=n3(o,d,a,s),m=DO,g=Et.cursorRectangle;else if(o==="radial"&&Qk(d)){var{cx:y,cy:w,radius:b,startAngle:_,endAngle:k}=RO(d);v={cx:y,cy:w,startAngle:_,endAngle:k,innerRadius:b,outerRadius:b},m=$O,g=Et.cursorLine}else v={points:V3(o,d,a)},m=AO,g=Et.cursorLine;var P=typeof l=="object"&&"className"in l?l.className:void 0,S=fu(fu(fu(fu({stroke:"#ccc",pointerEvents:"none"},a),v),_d(l)),{},{payload:f,payloadIndex:h,className:le("recharts-tooltip-cursor",P)});return x.createElement(Dn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:g},x.createElement(SF,{cursor:l,cursorComp:m,cursorProps:S}))}function PF(e){var t=KB(),r=gO(),n=gs(),i=QB();return t==null||r==null||n==null||i==null?null:x.createElement(kF,pv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var YE=x.createContext(null),OF=()=>x.useContext(YE),XE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,d||l,f),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,v=new Array(h);f<h;f++)v[f]=d[f].fn;return v},o.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,f,h,v){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,w,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,d),!0;case 4:return g.fn.call(g.context,c,d,f),!0;case 5:return g.fn.call(g.context,c,d,f,h),!0;case 6:return g.fn.call(g.context,c,d,f,h,v),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];g.fn.apply(g.context,w)}else{var _=g.length,k;for(b=0;b<_;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),y){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,c);break;case 3:g[b].fn.call(g[b].context,c,d);break;case 4:g[b].fn.call(g[b].context,c,d,f);break;default:if(!w)for(k=1,w=new Array(y-1);k<y;k++)w[k-1]=arguments[k];g[b].fn.apply(g[b].context,w)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,f){var h=r?r+u:u;if(!this._events[h])return this;if(!c)return s(this,h),this;var v=this._events[h];if(v.fn)v.fn===c&&(!f||v.once)&&(!d||v.context===d)&&s(this,h);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==c||f&&!v[m].once||d&&v[m].context!==d)&&g.push(v[m]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(XE);var jF=XE.exports;const EF=kn(jF);var el=new EF,vv="recharts.syncEvent.tooltip",Wb="recharts.syncEvent.brush",AF=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!gn(r))return e[r]}},CF={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},QE=Kt({name:"options",initialState:CF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),TF=QE.reducer,{createEventEmitter:NF}=QE.actions;function IF(e){return e.tooltip.syncInteraction}var DF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},JE=Kt({name:"chartData",initialState:DF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Kb,setDataStartEndIndexes:RF,setComputedData:sV}=JE.actions,MF=JE.reducer,$F=["x","y"];function qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qb(Object(r),!0).forEach(function(n){LF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LF(e,t,r){return(t=zF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(e){var t=UF(e,"string");return typeof t=="symbol"?t:t+""}function UF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BF(e,t){if(e==null)return{};var r,n,i=FF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WF(){var e=K(Cg),t=K(Tg),r=We(),n=K(Ij),i=K(In),a=gs(),s=Vd(),o=K(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return ms;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var f;if(s&&c!==null&&c!==void 0&&(f=c.payload)!==null&&f!==void 0&&f.coordinate&&c.payload.sourceViewBox){var h=c.payload.coordinate,{x:v,y:m}=h,g=BF(h,$F),{x:y,y:w,width:b,height:_}=c.payload.sourceViewBox,k=_a(_a({},g),{},{x:s.x+(b?(v-y)/b:0)*s.width,y:s.y+(_?(m-w)/_:0)*s.height});r(_a(_a({},c),{},{payload:_a(_a({},c.payload),{},{coordinate:k})}))}else r(c);return}if(i!=null){var P;if(typeof n=="function"){var S={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},O=n(i,S);P=i[O]}else n==="value"&&(P=i.find(J=>String(J.value)===c.payload.label));var{coordinate:E}=c.payload;if(P==null||c.payload.active===!1||E==null||s==null){r(fv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:j,y:T}=E,C=Math.min(j,s.x+s.width),W=Math.min(T,s.y+s.height),I={x:a==="horizontal"?P.coordinate:C,y:a==="horizontal"?W:P.coordinate},H=fv({active:c.payload.active,coordinate:I,dataKey:c.payload.dataKey,index:String(P.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(H)}}};return el.on(vv,l),()=>{el.off(vv,l)}},[o,r,t,e,n,i,a,s])}function KF(){var e=K(Cg),t=K(Tg),r=We();x.useEffect(()=>{if(e==null)return ms;var n=(i,a,s)=>{t!==s&&e===i&&r(RF(a))};return el.on(Wb,n),()=>{el.off(Wb,n)}},[r,t,e])}function qF(){var e=We();x.useEffect(()=>{e(NF())},[e]),WF(),KF()}function HF(e,t,r,n,i,a){var s=K(h=>ZB(h,e,t)),o=K(Tg),l=K(Cg),u=K(Ij),c=K(IF),d=c==null?void 0:c.active,f=Vd();x.useEffect(()=>{if(!d&&l!=null&&o!=null){var h=fv({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:f,graphicalItemId:void 0});el.emit(vv,l,h,o)}},[d,r,s,i,n,o,l,u,a,f])}function Hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hb(Object(r),!0).forEach(function(n){VF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VF(e,t,r){return(t=GF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=YF(e,"string");return typeof t=="symbol"?t:t+""}function YF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XF(e){return e.dataKey}function QF(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(RL,t)}var Gb=[],JF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ZF(e){var t,r,n=St(e,JF),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:f,position:h,reverseDirection:v,useTranslate3d:m,wrapperStyle:g,cursor:y,shared:w,trigger:b,defaultIndex:_,portal:k,axisId:P}=n,S=We(),O=typeof _=="number"?String(_):_;x.useEffect(()=>{S(GU({shared:w,trigger:b,axisId:P,active:i,defaultIndex:O}))},[S,w,b,P,i,O]);var E=Vd(),j=EO(),T=FU(w),{activeIndex:C,isActive:W}=(t=K(xe=>rF(xe,T,b,O)))!==null&&t!==void 0?t:{},I=K(xe=>tF(xe,T,b,O)),H=K(xe=>VE(xe,T,b,O)),J=K(xe=>eF(xe,T,b,O)),X=I,R=OF(),$=(r=i??W)!==null&&r!==void 0?r:!1,[L,Y]=AP([X,$]),Q=T==="axis"?H:void 0;HF(T,b,J,Q,C,$);var $e=k??R;if($e==null||E==null||T==null)return null;var pe=X??Gb;$||(pe=Gb),u&&pe.length&&(pe=gP(pe.filter(xe=>xe.value!=null&&(xe.hide!==!0||n.includeHidden)),f,XF));var Rt=pe.length>0,Ae=x.createElement(FL,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:$,coordinate:J,hasPayload:Rt,offset:d,position:h,reverseDirection:v,useTranslate3d:m,viewBox:E,wrapperStyle:g,lastBoundingBox:L,innerRef:Y,hasPortalFromProps:!!k},QF(l,Vb(Vb({},n),{},{payload:pe,label:Q,active:$,activeIndex:C,coordinate:J,accessibilityLayer:j})));return x.createElement(x.Fragment,null,ll.createPortal(Ae,$e),$&&x.createElement(PF,{cursor:y,tooltipEventType:T,coordinate:J,payload:pe,index:C}))}function e8(e,t,r){return(t=t8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=r8(e,"string");return typeof t=="symbol"?t:t+""}function r8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n8{constructor(t){e8(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yb(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=o8(e,"string");return typeof t=="symbol"?t:t+""}function o8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l8={cacheSize:2e3,enableCache:!0},ZE=i8({},l8),Xb=new n8(ZE.cacheSize),u8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Qb="recharts_measurement_span";function c8(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var Jb=(e,t)=>{try{var r=document.getElementById(Qb);r||(r=document.createElement("span"),r.setAttribute("id",Qb),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,u8,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},mo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qd.isSsr)return{width:0,height:0};if(!ZE.enableCache)return Jb(t,r);var n=c8(t,r),i=Xb.get(n);if(i)return i;var a=Jb(t,r);return Xb.set(n,a),a},eA;function d8(e,t,r){return(t=f8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8(e){var t=h8(e,"string");return typeof t=="symbol"?t:t+""}function h8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,v8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},g8=["cm","mm","pt","pc","in","Q","px"];function y8(e){return g8.includes(e)}var Ba="NaN";function x8(e,t){return e*m8[t]}class lt{static parse(t){var r,[,n,i]=(r=v8.exec(t))!==null&&r!==void 0?r:[];return n==null?lt.NaN:new lt(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,gn(t)&&(this.unit=""),r!==""&&!p8.test(r)&&(this.num=NaN,this.unit=""),y8(r)&&(this.num=x8(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new lt(NaN,""):new lt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new lt(NaN,""):new lt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new lt(NaN,""):new lt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new lt(NaN,""):new lt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gn(this.num)}}eA=lt;d8(lt,"NaN",new eA(NaN,""));function tA(e){if(e==null||e.includes(Ba))return Ba;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Zb.exec(t))!==null&&r!==void 0?r:[],s=lt.parse(n??""),o=lt.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Ba;t=t.replace(Zb,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,f]=(u=e_.exec(t))!==null&&u!==void 0?u:[],h=lt.parse(c??""),v=lt.parse(f??""),m=d==="+"?h.add(v):h.subtract(v);if(m.isNaN())return Ba;t=t.replace(e_,m.toString())}return t}var t_=/\(([^()]*)\)/;function w8(e){for(var t=e,r;(r=t_.exec(t))!=null;){var[,n]=r;t=t.replace(t_,tA(n))}return t}function b8(e){var t=e.replace(/\s+/g,"");return t=w8(t),t=tA(t),t}function _8(e){try{return b8(e)}catch{return Ba}}function vh(e){var t=_8(e.slice(5,-1));return t===Ba?"":t}var S8=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],k8=["dx","dy","angle","className","breakAll"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(null,arguments)}function r_(e,t){if(e==null)return{};var r,n,i=P8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function P8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rA=/[ \f\n\r\t\v\u2028\u2029]+/,nA=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];ht(t)||(r?i=t.toString().split(""):i=t.toString().split(rA));var a=i.map(o=>({word:o,width:mo(o,n).width})),s=r?0:mo("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function O8(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var iA=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),aA=e=>e.reduce((t,r)=>t.width>r.width?t:r),j8="",n_=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=nA({breakAll:r,style:n,children:l+j8});if(!u)return[!1,[]];var c=iA(u.wordsWithComputedWidth,a,s,o),d=c.length>i||aA(c).width>Number(a);return[d,c]},E8=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=F(a),c=String(s),d=iA(t,n,r,i);if(!u||i)return d;var f=d.length>a||aA(d).width>Number(n);if(!f)return d;for(var h=0,v=c.length-1,m=0,g;h<=v&&m<=c.length-1;){var y=Math.floor((h+v)/2),w=y-1,[b,_]=n_(c,w,l,o,a,n,r,i),[k]=n_(c,y,l,o,a,n,r,i);if(!b&&!k&&(h=y+1),b&&k&&(v=y-1),!b&&k){g=_;break}m++}return g||d},i_=e=>{var t=ht(e)?[]:e.toString().split(rA);return[{words:t,width:void 0}]},A8=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Qd.isSsr){var o,l,u=nA({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;o=c,l=d}else return i_(n);return E8({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return i_(n)},sA="#808080",C8={angle:0,breakAll:!1,capHeight:"0.71em",fill:sA,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ty=x.forwardRef((e,t)=>{var r=St(e,C8),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=r_(r,S8),f=x.useMemo(()=>A8({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:h,dy:v,angle:m,className:g,breakAll:y}=d,w=r_(d,k8);if(!Qr(n)||!Qr(i)||f.length===0)return null;var b=Number(n)+(F(h)?h:0),_=Number(i)+(F(v)?v:0);if(!ne(b)||!ne(_))return null;var k;switch(c){case"start":k=vh("calc(".concat(s,")"));break;case"middle":k=vh("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=vh("calc(".concat(f.length-1," * -").concat(a,")"));break}var P=[],S=f[0];if(l&&S!=null){var O=S.width,{width:E}=d;P.push("scale(".concat(F(E)&&F(O)?E/O:1,")"))}return m&&P.push("rotate(".concat(m,", ").concat(b,", ").concat(_,")")),P.length&&(w.transform=P.join(" ")),x.createElement("text",mv({},Ct(w),{ref:t,x:b,y:_,className:le("recharts-text",g),textAnchor:u,fill:o.includes("url")?sA:o}),f.map((j,T)=>{var C=j.words.join(y?"":" ");return x.createElement("tspan",{x:b,dy:T===0?k:a,key:"".concat(C,"-").concat(T)},C)}))});ty.displayName="Text";function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){T8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T8(e,t,r){return(t=N8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=I8(e,"string");return typeof t=="symbol"?t:t+""}function I8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D8=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:s,height:o,upperWidth:l,lowerWidth:u}=Xm(t),c=a,d=a+(l-u)/2,f=(c+d)/2,h=(l+u)/2,v=c+l/2,m=o>=0?1:-1,g=m*n,y=m>0?"end":"start",w=m>0?"start":"end",b=l>=0?1:-1,_=b*n,k=b>0?"end":"start",P=b>0?"start":"end",S=i;if(r==="top"){var O={x:c+l/2,y:s-g,horizontalAnchor:"middle",verticalAnchor:y};return S&&(O.height=Math.max(s-S.y,0),O.width=l),O}if(r==="bottom"){var E={x:d+u/2,y:s+o+g,horizontalAnchor:"middle",verticalAnchor:w};return S&&(E.height=Math.max(S.y+S.height-(s+o),0),E.width=u),E}if(r==="left"){var j={x:f-_,y:s+o/2,horizontalAnchor:k,verticalAnchor:"middle"};return S&&(j.width=Math.max(j.x-S.x,0),j.height=o),j}if(r==="right"){var T={x:f+h+_,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return S&&(T.width=Math.max(S.x+S.width-T.x,0),T.height=o),T}var C=S?{width:h,height:o}:{};return r==="insideLeft"?Br({x:f+_,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"},C):r==="insideRight"?Br({x:f+h-_,y:s+o/2,horizontalAnchor:k,verticalAnchor:"middle"},C):r==="insideTop"?Br({x:c+l/2,y:s+g,horizontalAnchor:"middle",verticalAnchor:w},C):r==="insideBottom"?Br({x:d+u/2,y:s+o-g,horizontalAnchor:"middle",verticalAnchor:y},C):r==="insideTopLeft"?Br({x:c+_,y:s+g,horizontalAnchor:P,verticalAnchor:w},C):r==="insideTopRight"?Br({x:c+l-_,y:s+g,horizontalAnchor:k,verticalAnchor:w},C):r==="insideBottomLeft"?Br({x:d+_,y:s+o-g,horizontalAnchor:P,verticalAnchor:y},C):r==="insideBottomRight"?Br({x:d+u-_,y:s+o-g,horizontalAnchor:k,verticalAnchor:y},C):r&&typeof r=="object"&&(F(r.x)||Zi(r.x))&&(F(r.y)||Zi(r.y))?Br({x:a+hi(r.x,h),y:s+hi(r.y,o),horizontalAnchor:"end",verticalAnchor:"end"},C):Br({x:v,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},C)},R8=["labelRef"],M8=["content"];function s_(e,t){if(e==null)return{};var r,n,i=$8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){L8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8(e,t,r){return(t=z8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8(e){var t=U8(e,"string");return typeof t=="symbol"?t:t+""}function U8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},an.apply(null,arguments)}var oA=x.createContext(null),B8=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return x.createElement(oA.Provider,{value:l},o)},lA=()=>{var e=x.useContext(oA),t=Vd();return e||(t?Xm(t):void 0)},F8=x.createContext(null),W8=()=>{var e=x.useContext(F8),t=K(Lj);return e||t},K8=e=>{var{value:t,formatter:r}=e,n=ht(e.children)?t:e.children;return typeof r=="function"?r(n):n},ry=e=>e!=null&&typeof e=="function",q8=(e,t)=>{var r=fr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},H8=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:f,clockWise:h}=i,v=(u+c)/2,m=q8(d,f),g=m>=0?1:-1,y,w;switch(t){case"insideStart":y=d+g*a,w=h;break;case"insideEnd":y=f-g*a,w=!h;break;case"end":y=f+g*a,w=h;break;default:throw new Error("Unsupported position ".concat(t))}w=m<=0?w:!w;var b=ut(o,l,v,y),_=ut(o,l,v,y+(w?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),P=ht(e.id)?Uo("recharts-radial-line-"):e.id;return x.createElement("text",an({},n,{dominantBaseline:"central",className:le("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:P,d:k})),x.createElement("textPath",{xlinkHref:"#".concat(P)},r))},V8=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:c,y:d}=ut(n,i,s+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+s)/2,{x:h,y:v}=ut(n,i,f,u);return{x:h,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Tu=e=>e!=null&&"cx"in e&&F(e.cx),G8={angle:0,offset:5,zIndex:Et.label,position:"middle",textBreakAll:!1};function Y8(e){if(!Tu(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Hn(e){var t=St(e,G8),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:c}=t,d=W8(),f=lA(),h=i==="center"?f:d??f,v,m,g;r==null?v=h:Tu(r)?v=r:v=Xm(r);var y=Y8(v);if(!v||ht(a)&&ht(s)&&!x.isValidElement(o)&&typeof o!="function")return null;var w=no(no({},t),{},{viewBox:v});if(x.isValidElement(o)){var{labelRef:b}=w,_=s_(w,R8);return x.cloneElement(o,_)}if(typeof o=="function"){var{content:k}=w,P=s_(w,M8);if(m=x.createElement(o,P),x.isValidElement(m))return m}else m=K8(t);var S=Ct(t);if(Tu(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return H8(t,i,m,S,v);g=V8(v,t.offset,t.position)}else{if(!y)return null;var O=D8({viewBox:y,position:i,offset:t.offset,parentViewBox:Tu(n)?void 0:n});g=no(no({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return x.createElement(Dn,{zIndex:t.zIndex},x.createElement(ty,an({ref:c,className:le("recharts-label",l)},S,g,{textAnchor:O8(S.textAnchor)?S.textAnchor:g.textAnchor,breakAll:u}),m))}Hn.displayName="Label";var X8=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Hn,an({key:"label-implicit"},n)):Qr(e)?x.createElement(Hn,an({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Hn?x.cloneElement(e,no({key:"label-implicit"},n)):x.createElement(Hn,an({key:"label-implicit",content:e},n)):ry(e)?x.createElement(Hn,an({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Hn,an({},e,{key:"label-implicit"},n)):null};function Q8(e){var{label:t,labelRef:r}=e,n=lA();return X8(t,n,r)||null}var uA={},cA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(cA);var dA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(dA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cA,r=dA,n=Cd;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(uA);var J8=uA.last;const Z8=kn(J8);var e6=["valueAccessor"],t6=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(null,arguments)}function l_(e,t){if(e==null)return{};var r,n,i=r6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var n6=e=>Array.isArray(e.value)?Z8(e.value):e.value,fA=x.createContext(void 0),i6=fA.Provider,hA=x.createContext(void 0);hA.Provider;function a6(){return x.useContext(fA)}function s6(){return x.useContext(hA)}function Nu(e){var{valueAccessor:t=n6}=e,r=l_(e,e6),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=l_(r,t6),u=a6(),c=s6(),d=u||c;return!d||!d.length?null:x.createElement(Dn,{zIndex:o??Et.label},x.createElement(fi,{className:"recharts-label-list"},d.map((f,h)=>{var v,m=ht(n)?t(f,h):dt(f.payload,n),g=ht(a)?{}:{id:"".concat(a,"-").concat(h)};return x.createElement(Hn,Gc({key:"label-".concat(h)},Ct(f),l,g,{fill:(v=r.fill)!==null&&v!==void 0?v:f.fill,parentViewBox:f.parentViewBox,value:m,textBreakAll:s,viewBox:f.viewBox,index:h,zIndex:0}))})))}Nu.displayName="LabelList";function o6(e){var{label:t}=e;return t?t===!0?x.createElement(Nu,{key:"labelList-implicit"}):x.isValidElement(t)||ry(t)?x.createElement(Nu,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Nu,Gc({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}var pA=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=le("recharts-dot",i);return F(t)&&F(r)&&F(n)?x.createElement("circle",gv({},Xr(e),Tm(e),{className:a,cx:t,cy:r,r:n})):null},l6={radiusAxis:{},angleAxis:{}},vA=Kt({name:"polarAxis",initialState:l6,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:oV,removeRadiusAxis:lV,addAngleAxis:uV,removeAngleAxis:cV}=vA.actions,u6=vA.reducer;function c6(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var mA=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,gA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(gA);var d6=gA.isPlainObject;const f6=kn(d6);var u_,c_,d_,f_,h_;function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){h6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h6(e,t,r){return(t=p6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p6(e){var t=v6(e,"string");return typeof t=="symbol"?t:t+""}function v6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yc.apply(null,arguments)}function Ys(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m_=(e,t,r,n,i)=>{var a=r-n,s;return s=Re(u_||(u_=Ys(["M ",",",""])),e,t),s+=Re(c_||(c_=Ys(["L ",",",""])),e+r,t),s+=Re(d_||(d_=Ys(["L ",",",""])),e+r-a/2,t+i),s+=Re(f_||(f_=Ys(["L ",",",""])),e+r-a/2-n,t+i),s+=Re(h_||(h_=Ys(["L ",","," Z"])),e,t),s},m6={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g6=e=>{var t=St(e,m6),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,f=x.useRef(null),[h,v]=x.useState(-1),m=x.useRef(i),g=x.useRef(a),y=x.useRef(s),w=x.useRef(r),b=x.useRef(n),_=rg(e,"trapezoid-");if(x.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var I=f.current.getTotalLength();I&&v(I)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var k=le("recharts-trapezoid",o);if(!d)return x.createElement("g",null,x.createElement("path",Yc({},Ct(t),{className:k,d:m_(r,n,i,a,s)})));var P=m.current,S=g.current,O=y.current,E=w.current,j=b.current,T="0px ".concat(h===-1?1:h,"px"),C="".concat(h,"px 0px"),W=CO(["strokeDasharray"],u,l);return x.createElement(tg,{animationId:_,key:_,canBegin:h>0,duration:u,easing:l,isActive:d,begin:c},I=>{var H=$t(P,i,I),J=$t(S,a,I),X=$t(O,s,I),R=$t(E,r,I),$=$t(j,n,I);f.current&&(m.current=H,g.current=J,y.current=X,w.current=R,b.current=$);var L=I>0?{transition:W,strokeDasharray:C}:{strokeDasharray:T};return x.createElement("path",Yc({},Ct(t),{className:k,d:m_(R,$,H,J,X),ref:f,style:v_(v_({},L),t.style)}))})},y6=["option","shapeType","activeClassName"];function x6(e,t){if(e==null)return{};var r,n,i=w6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){b6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b6(e,t,r){return(t=_6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _6(e){var t=S6(e,"string");return typeof t=="symbol"?t:t+""}function S6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k6(e,t){return Xc(Xc({},t),e)}function P6(e,t){return e==="symbols"}function y_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(DO,r);case"trapezoid":return x.createElement(g6,r);case"sector":return x.createElement($O,r);case"symbols":if(P6(t))return x.createElement(Cm,r);break;case"curve":return x.createElement(AO,r);default:return null}}function O6(e){return x.isValidElement(e)?e.props:e}function j6(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=x6(e,y6),a;if(x.isValidElement(t))a=x.cloneElement(t,Xc(Xc({},i),O6(t)));else if(typeof t=="function")a=t(i,i.index);else if(f6(t)&&typeof t!="boolean"){var s=k6(t,i);a=x.createElement(y_,{shapeType:r,elementProps:s})}else{var o=i;a=x.createElement(y_,{shapeType:r,elementProps:o})}return i.isActive?x.createElement(fi,{className:n},a):a}function E6(e){var{tooltipEntrySettings:t}=e,r=We(),n=qt(),i=x.useRef(null);return x.useLayoutEffect(()=>{n||(i.current===null?r(qU(t)):i.current!==t&&r(HU({prev:i.current,next:t})),i.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{i.current&&(r(VU(i.current)),i.current=null)},[r]),null}function A6(e){var{legendPayload:t}=e,r=We(),n=qt(),i=x.useRef(null);return x.useLayoutEffect(()=>{n||(i.current===null?r(pL(t)):i.current!==t&&r(vL({prev:i.current,next:t})),i.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{i.current&&(r(mL(i.current)),i.current=null)},[r]),null}var mh,C6=()=>{var[e]=x.useState(()=>Uo("uid-"));return e},T6=(mh=hC.useId)!==null&&mh!==void 0?mh:C6;function N6(e,t){var r=T6();return t||(e?"".concat(e,"-").concat(r):r)}var I6=x.createContext(void 0),D6=e=>{var{id:t,type:r,children:n}=e,i=N6("recharts-".concat(r),t);return x.createElement(I6.Provider,{value:i},n(i))},R6={cartesianItems:[],polarItems:[]},yA=Kt({name:"graphicalItems",initialState:R6,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ir(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:be()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ir(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:be()},removePolarGraphicalItem:{reducer(e,t){var r=Ir(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:be()}}}),{addCartesianGraphicalItem:M6,replaceCartesianGraphicalItem:$6,removeCartesianGraphicalItem:L6,addPolarGraphicalItem:dV,removePolarGraphicalItem:fV}=yA.actions,z6=yA.reducer,U6=e=>{var t=We(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(M6(e)):r.current!==e&&t($6({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(L6(r.current)),r.current=null)},[t]),null},B6=x.memo(U6),F6=["points"];function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){W6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W6(e,t,r){return(t=K6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K6(e){var t=q6(e,"string");return typeof t=="symbol"?t:t+""}function q6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qc.apply(null,arguments)}function H6(e,t){if(e==null)return{};var r,n,i=V6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function G6(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var i=le(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=H6(a,F6);return x.createElement(pA,Qc({},o,{className:i}))}function Y6(e,t){return e==null?!1:t?!0:e.length===1}function X6(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=Et.scatter}=e;if(!Y6(t,r))return null;var c=mA(r),d=vD(r),f=t.map((v,m)=>{var g,y,w=gh(gh(gh({r:3},s),d),{},{index:m,cx:(g=v.x)!==null&&g!==void 0?g:void 0,cy:(y=v.y)!==null&&y!==void 0?y:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return x.createElement(G6,{key:"dot-".concat(m),option:r,dotProps:w,className:i})}),h={};return o&&l!=null&&(h.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),x.createElement(Dn,{zIndex:u},x.createElement(fi,Qc({className:n},h),f))}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){Q6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q6(e,t,r){return(t=J6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J6(e){var t=Z6(e,"string");return typeof t=="symbol"?t:t+""}function Z6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eW={xAxis:{},yAxis:{},zAxis:{}},xA=Kt({name:"cartesianAxis",initialState:eW,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=b_(b_({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:tW,replaceXAxis:rW,removeXAxis:nW,addYAxis:iW,replaceYAxis:aW,removeYAxis:sW,addZAxis:hV,replaceZAxis:pV,removeZAxis:vV,updateYAxisWidth:oW}=xA.actions,lW=xA.reducer,uW=A([pt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),cW=A([uW,En,An],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),ny=()=>K(cW),dW=()=>K(zB);function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){fW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fW(e,t,r){return(t=hW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vW=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=yh(yh(yh({},o),_d(i)),Tm(i)),u;return x.isValidElement(i)?u=x.cloneElement(i,l):typeof i=="function"?u=i(l):u=x.createElement(pA,l),x.createElement(fi,{className:"recharts-active-dot",clipPath:s},u)};function mW(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=Et.activeDot}=e,o=K(Zo),l=dW();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return ht(u)?null:x.createElement(Dn,{zIndex:s},x.createElement(vW,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var gW=e=>{var{chartData:t}=e,r=We(),n=qt();return x.useEffect(()=>n?()=>{}:(r(Kb(t)),()=>{r(Kb(void 0))}),[t,r,n]),null},S_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},wA=Kt({name:"brush",initialState:S_,reducers:{setBrushSettings(e,t){return t.payload==null?S_:t.payload}}}),{setBrushSettings:mV}=wA.actions,yW=wA.reducer;function xW(e){return(e%180+180)%180}var wW=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xW(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},bW={dots:[],areas:[],lines:[]},bA=Kt({name:"referenceElements",initialState:bW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ir(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ir(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ir(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:gV,removeDot:yV,addArea:xV,removeArea:wV,addLine:bV,removeLine:_V}=bA.actions,_W=bA.reducer,SW=x.createContext(void 0),kW=e=>{var{children:t}=e,[r]=x.useState("".concat(Uo("recharts"),"-clip")),n=ny();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return x.createElement(SW.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function _A(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function PW(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return wW(n,r)}function OW(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function tl(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function jW(e,t){return _A(e,t+1)}function EW(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,d=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:_A(n,u)};var m=l,g,y=()=>(g===void 0&&(g=r(v,m)),g),w=v.coordinate,b=l===0||tl(e,w,y,c,o);b||(l=0,c=s,u+=1),b&&(c=w+e*(y()/2+i),l+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function AW(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var c=(s-1)%u,d=o,f=!0,h=function(){var _=n[m];if(_==null)return 0;var k=m,P,S=()=>(P===void 0&&(P=r(_,k)),P),O=_.coordinate,E=m===c||tl(e,O,S,d,l);if(!E)return f=!1,1;E&&(d=O+e*(S()/2+i))},v,m=c;m<s&&(v=h(),!(v!==0&&v===1));m+=u);if(f){for(var g=[],y=c;y<s;y+=u){var w=n[y];w!=null&&g.push(w)}return g}}return[]}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){CW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CW(e,t,r){return(t=TW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IW(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(f){var h=a[f];if(h==null)return 1;var v=h,m,g=()=>(m===void 0&&(m=r(h,f)),m);if(f===s-1){var y=e*(v.coordinate+e*g()/2-l);a[f]=v=xt(xt({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else a[f]=v=xt(xt({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var w=tl(e,v.tickCoord,g,o,l);w&&(l=v.tickCoord-e*(g()/2+i),a[f]=xt(xt({},v),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function DW(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=n[o-1];if(c!=null){var d=r(c,o-1),f=e*(c.coordinate+e*d/2-u);if(s[o-1]=c=xt(xt({},c),{},{tickCoord:f>0?c.coordinate-f*e:c.coordinate}),c.tickCoord!=null){var h=tl(e,c.tickCoord,()=>d,l,u);h&&(u=c.tickCoord-e*(d/2+i),s[o-1]=xt(xt({},c),{},{isShow:!0}))}}}for(var v=a?o-1:o,m=function(w){var b=s[w];if(b==null)return 1;var _=b,k,P=()=>(k===void 0&&(k=r(b,w)),k);if(w===0){var S=e*(_.coordinate-e*P()/2-l);s[w]=_=xt(xt({},_),{},{tickCoord:S<0?_.coordinate-S*e:_.coordinate})}else s[w]=_=xt(xt({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var O=tl(e,_.tickCoord,P,l,u);O&&(l=_.tickCoord+e*(P()/2+i),s[w]=xt(xt({},_),{},{isShow:!0}))}},g=0;g<v;g++)m(g);return s}function iy(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(F(l)||Qd.isSsr){var f;return(f=jW(i,F(l)?l:0))!==null&&f!==void 0?f:[]}var h=[],v=o==="top"||o==="bottom"?"width":"height",m=c&&v==="width"?mo(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(k,P)=>{var S=typeof u=="function"?u(k.value,P):k.value;return v==="width"?PW(mo(S,{fontSize:t,letterSpacing:r}),m,d):mo(S,{fontSize:t,letterSpacing:r})[v]},y=i[0],w=i[1],b=i.length>=2&&y!=null&&w!=null?fr(w.coordinate-y.coordinate):1,_=OW(a,b,v);return l==="equidistantPreserveStart"?EW(b,_,g,i,s):l==="equidistantPreserveEnd"?AW(b,_,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=DW(b,_,g,i,s,l==="preserveStartEnd"):h=IW(b,_,g,i,s),h.filter(k=>k.isShow))}var RW=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>s&&(s=d.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},MW=["axisLine","width","height","className","hide","ticks","axisType"];function $W(e,t){if(e==null)return{};var r,n,i=LW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ia.apply(null,arguments)}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){zW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zW(e,t,r){return(t=UW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Et.axis};function FW(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=De(De(De({},l),Xr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=De(De({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!s||a==="right"&&s);u=De(De({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return x.createElement("line",ia({},u,{className:le("recharts-cartesian-axis-line",Ad(o,"className"))}))}function WW(e,t,r,n,i,a,s,o,l){var u,c,d,f,h,v,m=o?-1:1,g=e.tickSize||s,y=F(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,f=r+ +!o*i,d=f-m*g,v=d-m*l,h=y;break;case"left":d=f=e.coordinate,c=t+ +!o*n,u=c-m*g,h=u-m*l,v=y;break;case"right":d=f=e.coordinate,c=t+ +o*n,u=c+m*g,h=u+m*l,v=y;break;default:u=c=e.coordinate,f=r+ +o*i,d=f+m*g,v=d+m*l,h=y;break}return{line:{x1:u,y1:d,x2:c,y2:f},tick:{x:h,y:v}}}function KW(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function qW(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function HW(e){var{option:t,tickProps:r,value:n}=e,i,a=le(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,De(De({},r),{},{className:a}));else if(typeof t=="function")i=t(De(De({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=le(s,c6(t))),i=x.createElement(ty,ia({},r,{className:s}),n)}return i}var VW=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:d,x:f,y:h,width:v,height:m,tickSize:g,tickMargin:y,fontSize:w,letterSpacing:b,getTicksConfig:_,events:k,axisType:P}=e,S=iy(De(De({},_),{},{ticks:r}),w,b),O=KW(c,d),E=qW(c,d),j=Xr(_),T=_d(n),C={};typeof i=="object"&&(C=i);var W=De(De({},j),{},{fill:"none"},C),I=S.map(X=>De({entry:X},WW(X,f,h,v,m,c,g,d,y))),H=I.map(X=>{var{entry:R,line:$}=X;return x.createElement(fi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},i&&x.createElement("line",ia({},W,$,{className:le("recharts-cartesian-axis-tick-line",Ad(i,"className"))})))}),J=I.map((X,R)=>{var $,L,{entry:Y,tick:Q}=X,$e=De(De(De(De({verticalAnchor:E},j),{},{textAnchor:O,stroke:"none",fill:a},Q),{},{index:R,payload:Y,visibleTicksCount:S.length,tickFormatter:s,padding:l},u),{},{angle:($=(L=u==null?void 0:u.angle)!==null&&L!==void 0?L:j.angle)!==null&&$!==void 0?$:0}),pe=De(De({},$e),T);return x.createElement(fi,ia({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},Jk(k,Y,R)),n&&x.createElement(HW,{option:n,tickProps:pe,value:"".concat(typeof s=="function"?s(Y.value,R):Y.value).concat(o||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},J.length>0&&x.createElement(Dn,{zIndex:Et.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},J)),H.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},H))}),GW=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=$W(e,MW),[c,d]=x.useState(""),[f,h]=x.useState(""),v=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return RW({ticks:v.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=x.useCallback(g=>{if(g){var y=g.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=y;var w=y[0];if(w){var b=window.getComputedStyle(w),_=b.fontSize,k=b.letterSpacing;(_!==c||k!==f)&&(d(_),h(k))}}},[c,f]);return s||n!=null&&n<=0||i!=null&&i<=0?null:x.createElement(Dn,{zIndex:e.zIndex},x.createElement(fi,{className:le("recharts-cartesian-axis",a)},x.createElement(FW,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Xr(e)}),x.createElement(VW,{ref:m,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(B8,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(Q8,{label:e.label,labelRef:e.labelRef}),e.children)))}),ay=x.forwardRef((e,t)=>{var r=St(e,fn);return x.createElement(GW,ia({},r,{ref:t}))});ay.displayName="CartesianAxis";var YW=["x1","y1","x2","y2","key"],XW=["offset"],QW=["xAxisId","yAxisId"],JW=["xAxisId","yAxisId"];function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){ZW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZW(e,t,r){return(t=eK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(null,arguments)}function Jc(e,t){if(e==null)return{};var r,n,i=rK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return x.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function SA(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,c=Jc(r,YW),d=(i=Xr(c))!==null&&i!==void 0?i:{},{offset:f}=d,h=Jc(d,XW);n=x.createElement("line",Bi({},h,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function iK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Jc(e,QW),l=i.map((u,c)=>{var d=bt(bt({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return x.createElement(SA,{key:"line-".concat(c),option:n,lineItemProps:d})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function aK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Jc(e,JW),l=i.map((u,c)=>{var d=bt(bt({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return x.createElement(SA,{option:n,lineItemProps:d,key:"line-".concat(c)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function sK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==u[0]&&u.unshift(0);var c=u.map((d,f)=>{var h=u[f+1],v=h==null,m=v?i+s-d:h-d;if(m<=0)return null;var g=f%t.length;return x.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function oK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==u[0]&&u.unshift(0);var c=u.map((d,f)=>{var h=u[f+1],v=h==null,m=v?i+s-d:h-d;if(m<=0)return null;var g=f%r.length;return x.createElement("rect",{key:"react-".concat(f),x:d,y:a,width:m,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var lK=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return sO(iy(bt(bt(bt({},fn),r),{},{ticks:oO(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},uK=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return sO(iy(bt(bt(bt({},fn),r),{},{ticks:oO(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},cK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Et.grid};function kA(e){var t=Qm(),r=Jm(),n=gO(),i=bt(bt({},St(e,cK)),{},{x:F(e.x)?e.x:n.left,y:F(e.y)?e.y:n.top,width:F(e.width)?e.width:n.width,height:F(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:f,verticalValues:h}=i,v=qt(),m=K(E=>Ib(E,"xAxis",a,v)),g=K(E=>Ib(E,"yAxis",s,v));if(!Jr(u)||!Jr(c)||!F(o)||!F(l))return null;var y=i.verticalCoordinatesGenerator||lK,w=i.horizontalCoordinatesGenerator||uK,{horizontalPoints:b,verticalPoints:_}=i;if((!b||!b.length)&&typeof w=="function"){var k=f&&f.length,P=w({yAxis:g?bt(bt({},g),{},{ticks:k?f:g.ticks}):void 0,width:t??u,height:r??c,offset:n},k?!0:d);kc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(b=P)}if((!_||!_.length)&&typeof y=="function"){var S=h&&h.length,O=y({xAxis:m?bt(bt({},m),{},{ticks:S?h:m.ticks}):void 0,width:t??u,height:r??c,offset:n},S?!0:d);kc(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(_=O)}return x.createElement(Dn,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(nK,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(sK,Bi({},i,{horizontalPoints:b})),x.createElement(oK,Bi({},i,{verticalPoints:_})),x.createElement(iK,Bi({},i,{offset:n,horizontalPoints:b,xAxis:m,yAxis:g})),x.createElement(aK,Bi({},i,{offset:n,verticalPoints:_,xAxis:m,yAxis:g}))))}kA.displayName="CartesianGrid";var dK={},PA=Kt({name:"errorBars",initialState:dK,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:SV,replaceErrorBar:kV,removeErrorBar:PV}=PA.actions,fK=PA.reducer,hK=["children"];function pK(e,t){if(e==null)return{};var r,n,i=vK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},gK=x.createContext(mK);function yK(e){var{children:t}=e,r=pK(e,hK);return x.createElement(gK.Provider,{value:r},t)}function OA(e,t){var r,n,i=K(u=>Tn(u,e)),a=K(u=>Nn(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Xe.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Qe.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function xK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=ny(),{needClipX:a,needClipY:s,needClip:o}=OA(t,r);if(!o||!i)return null;var{x:l,y:u,width:c,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:a?l:l-c/2,y:s?u:u-d/2,width:a?c:c*2,height:s?d:d*2}))}var jA=(e,t,r,n)=>SE(e,"xAxis",t,n),EA=(e,t,r,n)=>_E(e,"xAxis",t,n),AA=(e,t,r,n)=>SE(e,"yAxis",r,n),CA=(e,t,r,n)=>_E(e,"yAxis",r,n),wK=A([Ee,jA,AA,EA,CA],(e,t,r,n,i)=>jn(e,"xAxis")?Sc(t,n,!1):Sc(r,i,!1)),bK=(e,t,r,n,i)=>i;function _K(e){return e.type==="line"}var SK=A([qj,bK],(e,t)=>e.filter(_K).find(r=>r.id===t)),kK=A([Ee,jA,AA,EA,CA,SK,wK,Og],(e,t,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:d,data:f}=a,h;if(f!=null&&f.length>0?h=f:h=l==null?void 0:l.slice(u,c+1),h!=null)return vq({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:s,displayedData:h})}});function PK(e){var t=_d(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var OK={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=x;function jK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EK=typeof Object.is=="function"?Object.is:jK,AK=Ol.useSyncExternalStore,CK=Ol.useRef,TK=Ol.useEffect,NK=Ol.useMemo,IK=Ol.useDebugValue;OK.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=CK(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=NK(function(){function l(h){if(!u){if(u=!0,c=h,h=n(h),i!==void 0&&s.hasValue){var v=s.value;if(i(v,h))return d=v}return d=h}if(v=d,EK(c,h))return v;var m=n(h);return i!==void 0&&i(v,m)?(c=h,v):(c=h,d=m)}var u=!1,c,d,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,i]);var o=AK(e,a[0],a[1]);return TK(function(){s.hasValue=!0,s.value=o},[o]),IK(o),o};function DK(e){e()}function RK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){DK(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var j_={notify(){},get:()=>[]};function MK(e,t){let r,n=j_,i=0,a=!1;function s(m){c();const g=n.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),d())}}function o(){n.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=RK())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=j_)}function f(){a||(a=!0,c())}function h(){a&&(a=!1,d())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return v}var $K=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LK=$K(),zK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UK=zK(),BK=()=>LK||UK?x.useLayoutEffect:x.useEffect,FK=BK();function E_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function WK(e,t){if(E_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!E_(e[r[i]],t[r[i]]))return!1;return!0}var xh=Symbol.for("react-redux-context"),wh=typeof globalThis<"u"?globalThis:{};function KK(){if(!x.createContext)return{};const e=wh[xh]??(wh[xh]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var qK=KK();function HK(e){const{children:t,context:r,serverState:n,store:i}=e,a=x.useMemo(()=>{const l=MK(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=x.useMemo(()=>i.getState(),[i]);FK(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||qK;return x.createElement(o.Provider,{value:a},t)}var VK=HK,GK=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function YK(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function sy(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(GK.has(n)){if(e[n]==null&&t[n]==null)continue;if(!WK(e[n],t[n]))return!1}else if(!YK(e[n],t[n]))return!1;return!0}var XK=["id"],QK=["type","layout","connectNulls","needClip","shape"],JK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(null,arguments)}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){ZK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZK(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oy(e,t){if(e==null)return{};var r,n,i=rq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nq=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:lO(r,t),payload:e}]},iq=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:r,getPosition:ms,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:lO(s,t),hide:o,type:u,color:n,unit:l,graphicalItemId:c}};return x.createElement(E6,{tooltipEntrySettings:d})}),TA=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function aq(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var sq=(e,t,r)=>{var n=r.reduce((h,v)=>h+v);if(!n)return TA(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],l=0,u=0;l<r.length;u+=(c=r[l])!==null&&c!==void 0?c:0,++l){var c,d=r[l];if(d!=null&&u+d>a){o=[...r.slice(0,l),a-u];break}}var f=o.length%2===0?[0,s]:[s];return[...aq(r,i),...o,...f].map(h=>"".concat(h,"px")).join(", ")};function oq(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n,{id:o}=n,l=oy(n,XK),u=Xr(l);return x.createElement(X6,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function lq(e){var{showLabels:t,children:r,points:n}=e,i=x.useMemo(()=>n==null?void 0:n.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Wr(Wr({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(i6,{value:t?i:void 0},r)}function C_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:u,shape:c}=a,d=oy(a,QK),f=Wr(Wr({},Ct(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(j6,rl({shapeType:"curve",option:c},f,{pathRef:r})),x.createElement(oq,{points:n,clipPathId:t,props:a}))}function uq(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function cq(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:f,width:h,height:v,onAnimationEnd:m,onAnimationStart:g}=r,y=i.current,w=rg(s,"recharts-line-"),b=x.useRef(w),[_,k]=x.useState(!1),P=!_,S=x.useCallback(()=>{typeof m=="function"&&m(),k(!1)},[m]),O=x.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]),E=uq(n.current),j=x.useRef(0);b.current!==w&&(j.current=a.current,b.current=w);var T=j.current;return x.createElement(lq,{points:s,showLabels:P},r.children,x.createElement(tg,{animationId:w,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:S,onAnimationStart:O,key:w},C=>{var W=$t(T,E+T,C),I=Math.min(W,E),H;if(l)if(o){var J="".concat(o).split(/[,\s]+/gim).map($=>parseFloat($));H=sq(I,E,J)}else H=TA(E,I);else H=o==null?void 0:String(o);if(C>0&&E>0&&(i.current=s,a.current=Math.max(a.current,I)),y){var X=y.length/s.length,R=C===1?s:s.map(($,L)=>{var Y=Math.floor(L*X);if(y[Y]){var Q=y[Y];return Wr(Wr({},$),{},{x:$t(Q.x,$.x,C),y:$t(Q.y,$.y,C)})}return f?Wr(Wr({},$),{},{x:$t(h*2,$.x,C),y:$t(v/2,$.y,C)}):Wr(Wr({},$),{},{x:$.x,y:$.y})});return i.current=R,x.createElement(C_,{props:r,points:R,clipPathId:t,pathRef:n,strokeDasharray:H})}return x.createElement(C_,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:H})}),x.createElement(o6,{label:r.label}))}function dq(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(cq,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var fq=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:dt(e.payload,t)}};class hq extends x.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:c,id:d,needClip:f,zIndex:h}=this.props;if(t)return null;var v=le("recharts-line",i),m=d,{r:g,strokeWidth:y}=PK(r),w=mA(r),b=g*2+y,_=f?"url(#clipPath-".concat(w?"":"dots-").concat(m,")"):void 0;return x.createElement(Dn,{zIndex:h},x.createElement(fi,{className:v},f&&x.createElement("defs",null,x.createElement(xK,{clipPathId:m,xAxisId:a,yAxisId:s}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(m)},x.createElement("rect",{x:l-b/2,y:o-b/2,width:u+b,height:c+b}))),x.createElement(yK,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:fq,errorBarOffset:0},x.createElement(dq,{props:this.props,clipPathId:m}))),x.createElement(mW,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var NA={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Et.line,type:"linear"};function pq(e){var t=St(e,NA),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:c,label:d,legendType:f,xAxisId:h,yAxisId:v,id:m}=t,g=oy(t,JK),{needClip:y}=OA(h,v),w=ny(),b=gs(),_=qt(),k=K(j=>kK(j,h,v,_,m));if(b!=="horizontal"&&b!=="vertical"||k==null||w==null)return null;var{height:P,width:S,x:O,y:E}=w;return x.createElement(hq,rl({},g,{id:m,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:c,hide:u,label:d,legendType:f,xAxisId:h,yAxisId:v,points:k,layout:b,height:P,width:S,left:O,top:E,needClip:y}))}function vq(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,c)=>{var d=dt(u,s);if(t==="horizontal"){var f=Ux({axis:r,ticks:i,bandSize:o,entry:u,index:c}),h=ht(d)?null:n.scale.map(d);return{x:f,y:h??null,value:d,payload:u}}var v=ht(d)?null:r.scale.map(d),m=Ux({axis:n,ticks:a,bandSize:o,entry:u,index:c});return v==null||m==null?null:{x:v,y:m,value:d,payload:u}}).filter(Boolean)}function mq(e){var t=St(e,NA),r=qt();return x.createElement(D6,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(A6,{legendPayload:nq(t)}),x.createElement(iq,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),x.createElement(B6,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(pq,rl({},t,{id:n}))))}var yv=x.memo(mq,sy);yv.displayName="Line";var gq=["domain","range"],yq=["domain","range"];function T_(e,t){if(e==null)return{};var r,n,i=xq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function N_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function IA(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=T_(e,gq),{domain:a,range:s}=t,o=T_(t,yq);return!N_(r,a)||!N_(n,s)?!1:sy(i,o)}var wq=["type"],bq=["dangerouslySetInnerHTML","ticks","scale"],_q=["id","scale"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(null,arguments)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){Sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sq(e,t,r){return(t=kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wv(e,t){if(e==null)return{};var r,n,i=Oq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jq(e){var t=We(),r=x.useRef(null),n=yO(),{type:i}=e,a=wv(e,wq),s=of(n,"xAxis",i),o=x.useMemo(()=>{if(s!=null)return D_(D_({},a),{},{type:s})},[a,s]);return x.useLayoutEffect(()=>{o!=null&&(r.current===null?t(tW(o)):r.current!==o&&t(rW({prev:r.current,next:o})),r.current=o)},[o,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(nW(r.current)),r.current=null)},[t]),null}var Eq=e=>{var{xAxisId:t,className:r}=e,n=K(cO),i=qt(),a="xAxis",s=K(y=>bE(y,a,t,i)),o=K(y=>EU(y,t)),l=K(y=>DU(y,t)),u=K(y=>Bj(y,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:f}=e,h=wv(e,bq),{id:v,scale:m}=u,g=wv(u,_q);return x.createElement(ay,xv({},h,g,{x:l.x,y:l.y,width:o.width,height:o.height,className:le("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},Aq={allowDataOverflow:Xe.allowDataOverflow,allowDecimals:Xe.allowDecimals,allowDuplicatedCategory:Xe.allowDuplicatedCategory,angle:Xe.angle,axisLine:fn.axisLine,height:Xe.height,hide:!1,includeHidden:Xe.includeHidden,interval:Xe.interval,label:!1,minTickGap:Xe.minTickGap,mirror:Xe.mirror,orientation:Xe.orientation,padding:Xe.padding,reversed:Xe.reversed,scale:Xe.scale,tick:Xe.tick,tickCount:Xe.tickCount,tickLine:fn.tickLine,tickSize:fn.tickSize,type:Xe.type,xAxisId:0},Cq=e=>{var t=St(e,Aq);return x.createElement(x.Fragment,null,x.createElement(jq,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Eq,t))},DA=x.memo(Cq,IA);DA.displayName="XAxis";var Tq=["type"],Nq=["dangerouslySetInnerHTML","ticks","scale"],Iq=["id","scale"];function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(null,arguments)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){Dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dq(e,t,r){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _v(e,t){if(e==null)return{};var r,n,i=$q(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lq(e){var t=We(),r=x.useRef(null),n=yO(),{type:i}=e,a=_v(e,Tq),s=of(n,"yAxis",i),o=x.useMemo(()=>{if(s!=null)return M_(M_({},a),{},{type:s})},[s,a]);return x.useLayoutEffect(()=>{o!=null&&(r.current===null?t(iW(o)):r.current!==o&&t(aW({prev:r.current,next:o})),r.current=o)},[o,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(sW(r.current)),r.current=null)},[t]),null}function zq(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=x.useRef(null),s=x.useRef(null),o=K(cO),l=qt(),u=We(),c="yAxis",d=K(P=>$U(P,t)),f=K(P=>MU(P,t)),h=K(P=>bE(P,c,t,l)),v=K(P=>Fj(P,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!d||ry(i)||x.isValidElement(i)||v==null)){var P=a.current;if(P){var S=P.getCalculatedWidth();Math.round(d.width)!==Math.round(S)&&u(oW({id:t,width:S}))}}},[h,d,u,i,t,n,v]),d==null||f==null||v==null)return null;var{dangerouslySetInnerHTML:m,ticks:g,scale:y}=e,w=_v(e,Nq),{id:b,scale:_}=v,k=_v(v,Iq);return x.createElement(ay,bv({},w,k,{ref:a,labelRef:s,x:f.x,y:f.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:le("recharts-".concat(c," ").concat(c),r),viewBox:o,ticks:h,axisType:c}))}var Uq={allowDataOverflow:Qe.allowDataOverflow,allowDecimals:Qe.allowDecimals,allowDuplicatedCategory:Qe.allowDuplicatedCategory,angle:Qe.angle,axisLine:fn.axisLine,hide:!1,includeHidden:Qe.includeHidden,interval:Qe.interval,label:!1,minTickGap:Qe.minTickGap,mirror:Qe.mirror,orientation:Qe.orientation,padding:Qe.padding,reversed:Qe.reversed,scale:Qe.scale,tick:Qe.tick,tickCount:Qe.tickCount,tickLine:fn.tickLine,tickSize:fn.tickSize,type:Qe.type,width:Qe.width,yAxisId:0},Bq=e=>{var t=St(e,Uq);return x.createElement(x.Fragment,null,x.createElement(Lq,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(zq,t))},Sv=x.memo(Bq,IA);Sv.displayName="YAxis";var Fq=(e,t)=>t,ly=A([Fq,Ee,Lj,nt,zE,In,JB,pt],aF),uy=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},RA=gr("mouseClick"),MA=fl();MA.startListening({actionCreator:RA,effect:(e,t)=>{var r=e.payload,n=ly(t.getState(),uy(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(XU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var kv=gr("mouseMove"),$A=fl(),hu=null;$A.startListening({actionCreator:kv,effect:(e,t)=>{var r=e.payload;hu!==null&&cancelAnimationFrame(hu);var n=uy(r);hu=requestAnimationFrame(()=>{var i=t.getState(),a=qg(i,i.tooltip.settings.shared);if(a==="axis"){var s=ly(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(CE({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(AE())}hu=null})}});function Wq(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var $_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},LA=Kt({name:"rootProps",initialState:$_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:$_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Kq=LA.reducer,{updateOptions:qq}=LA.actions,Hq=null,Vq={updatePolarOptions:(e,t)=>t.payload},zA=Kt({name:"polarOptions",initialState:Hq,reducers:Vq}),{updatePolarOptions:OV}=zA.actions,Gq=zA.reducer,UA=gr("keyDown"),BA=gr("focus"),cy=fl();cy.startListening({actionCreator:UA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Hg(i,Os(r),_l(r),kl(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=In(r);if(a==="Enter"){var u=Vc(r,"axis","hover",String(i.index));t.dispatch(hv({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=BU(r),d=c==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=o+f*d;if(!(l==null||h>=l.length||h<0)){var v=Vc(r,"axis","hover",String(h));t.dispatch(hv({active:!0,activeIndex:h.toString(),activeCoordinate:v}))}}}}}});cy.startListening({actionCreator:BA,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Vc(r,"axis","hover",String(a));t.dispatch(hv({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var or=gr("externalEvent"),FA=fl(),bh=new Map;FA.startListening({actionCreator:or,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=bh.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:MB(o),activeDataKey:DB(o),activeIndex:Zo(o),activeLabel:FE(o),activeTooltipIndex:Zo(o),isTooltipActive:$B(o)};r(l,n)}finally{bh.delete(i)}});bh.set(i,s)}}});var Yq=A([ks],e=>e.tooltipItemPayloads),Xq=A([Yq,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),WA=gr("touchMove"),KA=fl();KA.startListening({actionCreator:WA,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=qg(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=ly(n,uy({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(CE({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(O$),d=(o=u.getAttribute(j$))!==null&&o!==void 0?o:void 0,f=Ps(n).find(m=>m.id===d);if(c==null||f==null||d==null)return;var{dataKey:h}=f,v=Xq(n,c,d);t.dispatch(YU({activeDataKey:h,activeIndex:c,activeCoordinate:v,activeGraphicalItemId:d}))}}}});var Qq=TP({brush:yW,cartesianAxis:lW,chartData:MF,errorBars:fK,graphicalItems:z6,layout:d$,legend:gL,options:TF,polarAxis:u6,polarOptions:Gq,referenceElements:_W,rootProps:Kq,tooltip:QU,zIndex:xF}),Jq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return MM({reducer:Qq,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([MA.middleware,$A.middleware,cy.middleware,FA.middleware,KA.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(HP({type:"raf"}))},devTools:{serialize:{replacer:Wq},name:"recharts-".concat(r)}})};function Zq(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=qt(),a=x.useRef(null);if(i)return r;a.current==null&&(a.current=Jq(t,n));var s=Um;return x.createElement(VK,{context:s,store:a.current},r)}function eH(e){var{layout:t,margin:r}=e,n=We(),i=qt();return x.useEffect(()=>{i||(n(l$(t)),n(o$(r)))},[n,i,t,r]),null}var tH=x.memo(eH,sy);function rH(e){var t=We();return x.useEffect(()=>{t(qq(e))},[t,e]),null}function L_(e){var{zIndex:t,isPanorama:r}=e,n=x.useRef(null),i=We();return x.useLayoutEffect(()=>(n.current&&i(gF({zIndex:t,element:n.current,isPanorama:r})),()=>{i(yF({zIndex:t,isPanorama:r}))}),[i,t,r]),x.createElement("g",{tabIndex:-1,ref:n})}function z_(e){var{children:t,isPanorama:r}=e,n=K(oF);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return x.createElement(x.Fragment,null,i.map(s=>x.createElement(L_,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>x.createElement(L_,{key:s,zIndex:s,isPanorama:r})))}var nH=["children"];function iH(e,t){if(e==null)return{};var r,n,i=aH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(null,arguments)}var sH={width:"100%",height:"100%",display:"block"},oH=x.forwardRef((e,t)=>{var r=Qm(),n=Jm(),i=EO();if(!Jr(r)||!Jr(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),x.createElement(Pm,Zc({},s,{title:o,desc:l,role:c,tabIndex:u,width:r,height:n,style:sH,ref:t}),a)}),lH=e=>{var{children:t}=e,r=K(Hd);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return x.createElement(Pm,{width:n,height:i,x:s,y:a},t)},U_=x.forwardRef((e,t)=>{var{children:r}=e,n=iH(e,nH),i=qt();return i?x.createElement(lH,null,x.createElement(z_,{isPanorama:!0},r)):x.createElement(oH,Zc({ref:t},n),x.createElement(z_,{isPanorama:!1},r))});function uH(){var e=We(),[t,r]=x.useState(null),n=K(P$);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ne(a)&&a!==n&&e(c$(a))}},[t,e,n]),r}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){dH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dH(e,t,r){return(t=fH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fH(e){var t=hH(e,"string");return typeof t=="symbol"?t:t+""}function hH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(null,arguments)}var pH=()=>(qF(),null);function ed(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var vH=x.forwardRef((e,t)=>{var r,n,i=x.useRef(null),[a,s]=x.useState({containerWidth:ed((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:ed((n=e.style)===null||n===void 0?void 0:n.height)}),o=x.useCallback((u,c)=>{s(d=>{var f=Math.round(u),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();o(c,d);var f=v=>{var m=v[0];if(m!=null){var{width:g,height:y}=m.contentRect;o(g,y)}},h=new ResizeObserver(f);h.observe(u),i.current=h}},[t,o]);return x.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),x.createElement(x.Fragment,null,x.createElement(pl,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",ui({ref:l},e)))}),mH=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=x.useState({containerWidth:ed(r),containerHeight:ed(n)}),s=x.useCallback((l,u)=>{a(c=>{var d=Math.round(l),f=Math.round(u);return c.containerWidth===d&&c.containerHeight===f?c:{containerWidth:d,containerHeight:f}})},[]),o=x.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return x.createElement(x.Fragment,null,x.createElement(pl,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",ui({ref:o},e)))}),gH=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(pl,{width:r,height:n}),x.createElement("div",ui({ref:t},e)))}),yH=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?x.createElement(mH,ui({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?x.createElement(gH,ui({},e,{width:r,height:n,ref:t})):x.createElement(x.Fragment,null,x.createElement(pl,{width:r,height:n}),x.createElement("div",ui({ref:t},e)))});function xH(e){return e?vH:yH}var wH=x.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:f,onTouchEnd:h,onTouchMove:v,onTouchStart:m,style:g,width:y,responsive:w,dispatchTouchEvents:b=!0}=e,_=x.useRef(null),k=We(),[P,S]=x.useState(null),[O,E]=x.useState(null),j=uH(),T=Ym(),C=(T==null?void 0:T.width)>0?T.width:y,W=(T==null?void 0:T.height)>0?T.height:i,I=x.useCallback(N=>{j(N),typeof t=="function"&&t(N),S(N),E(N),N!=null&&(_.current=N)},[j,t,S,E]),H=x.useCallback(N=>{k(RA(N)),k(or({handler:a,reactEvent:N}))},[k,a]),J=x.useCallback(N=>{k(kv(N)),k(or({handler:u,reactEvent:N}))},[k,u]),X=x.useCallback(N=>{k(AE()),k(or({handler:c,reactEvent:N}))},[k,c]),R=x.useCallback(N=>{k(kv(N)),k(or({handler:d,reactEvent:N}))},[k,d]),$=x.useCallback(()=>{k(BA())},[k]),L=x.useCallback(N=>{k(UA(N.key))},[k]),Y=x.useCallback(N=>{k(or({handler:s,reactEvent:N}))},[k,s]),Q=x.useCallback(N=>{k(or({handler:o,reactEvent:N}))},[k,o]),$e=x.useCallback(N=>{k(or({handler:l,reactEvent:N}))},[k,l]),pe=x.useCallback(N=>{k(or({handler:f,reactEvent:N}))},[k,f]),Rt=x.useCallback(N=>{k(or({handler:m,reactEvent:N}))},[k,m]),Ae=x.useCallback(N=>{b&&k(WA(N)),k(or({handler:v,reactEvent:N}))},[k,b,v]),xe=x.useCallback(N=>{k(or({handler:h,reactEvent:N}))},[k,h]),ua=xH(w);return x.createElement(YE.Provider,{value:P},x.createElement(Ak.Provider,{value:O},x.createElement(ua,{width:C??(g==null?void 0:g.width),height:W??(g==null?void 0:g.height),className:le("recharts-wrapper",n),style:cH({position:"relative",cursor:"default",width:C,height:W},g),onClick:H,onContextMenu:Y,onDoubleClick:Q,onFocus:$,onKeyDown:L,onMouseDown:$e,onMouseEnter:J,onMouseLeave:X,onMouseMove:R,onMouseUp:pe,onTouchEnd:xe,onTouchMove:Ae,onTouchStart:Rt,ref:I},x.createElement(pH,null),r)))}),bH=["width","height","responsive","children","className","style","compact","title","desc"];function _H(e,t){if(e==null)return{};var r,n,i=SH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kH=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,d=_H(e,bH),f=Xr(d);return l?x.createElement(x.Fragment,null,x.createElement(pl,{width:r,height:n}),x.createElement(U_,{otherAttributes:f,title:u,desc:c},a)):x.createElement(wH,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(U_,{otherAttributes:f,title:u,desc:c,ref:t},x.createElement(kW,null,a)))});function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(null,arguments)}var PH={top:5,right:5,bottom:5,left:5},OH={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:PH,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},jH=x.forwardRef(function(t,r){var n,i=St(t.categoricalChartProps,OH),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return x.createElement(Zq,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},x.createElement(gW,{chartData:u.data}),x.createElement(tH,{layout:i.layout,margin:i.margin}),x.createElement(rH,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(kH,Pv({},i,{ref:r})))}),EH=["axis"],AH=x.forwardRef((e,t)=>x.createElement(jH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:EH,tooltipPayloadSearcher:AF,categoricalChartProps:e,ref:t}));const CH=({data:e,loading:t})=>{if(t)return p.jsx("div",{className:"h-48 flex items-center justify-center",children:p.jsx("div",{className:"spinner w-6 h-6"})});if(!e||e.length===0)return p.jsx("div",{className:"h-48 flex items-center justify-center text-text-tertiary text-sm",children:"No history data yet. Data will be recorded daily."});const r=e.map(n=>({date:new Date(n.recorded_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}),iv:n.iv?Number((n.iv*100).toFixed(1)):null,delta:n.delta?Number(n.delta.toFixed(3)):null}));return p.jsx("div",{className:"h-48 w-full",children:p.jsx(Q$,{width:"100%",height:"100%",children:p.jsxs(AH,{data:r,margin:{top:5,right:5,left:-20,bottom:5},children:[p.jsx(kA,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),p.jsx(DA,{dataKey:"date",tick:{fill:"#888",fontSize:11},axisLine:{stroke:"rgba(255,255,255,0.2)"}}),p.jsx(Sv,{yAxisId:"left",tick:{fill:"#22d3ee",fontSize:11},axisLine:{stroke:"rgba(255,255,255,0.2)"},tickFormatter:n=>`${n}%`}),p.jsx(Sv,{yAxisId:"right",orientation:"right",tick:{fill:"#a78bfa",fontSize:11},axisLine:{stroke:"rgba(255,255,255,0.2)"},domain:[0,1]}),p.jsx(ZF,{contentStyle:{backgroundColor:"rgba(0,0,0,0.9)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",fontSize:"12px"},labelStyle:{color:"#fff"}}),p.jsx(jO,{wrapperStyle:{fontSize:"12px"},formatter:n=>n==="iv"?"IV":"Delta"}),p.jsx(yv,{yAxisId:"left",type:"monotone",dataKey:"iv",stroke:"#22d3ee",strokeWidth:2,dot:{fill:"#22d3ee",r:3},activeDot:{r:5},connectNulls:!0}),p.jsx(yv,{yAxisId:"right",type:"monotone",dataKey:"delta",stroke:"#a78bfa",strokeWidth:2,dot:{fill:"#a78bfa",r:3},activeDot:{r:5},connectNulls:!0})]})})})};async function TH(e){const t=new Date;t.setHours(0,0,0,0);const{data:r,error:n}=await we.from("position_greeks_history").select("id").eq("position_id",e).gte("recorded_at",t.toISOString()).limit(1);return n?(console.error("Error checking greeks history:",n),!0):r&&r.length>0}async function F_(e,t,r){if(t===void 0&&r===void 0||await TH(e))return!1;const{error:i}=await we.from("position_greeks_history").insert([{position_id:e,iv:t??null,delta:r??null}]);return i?(console.error("Error saving greeks history:",i),!1):!0}async function NH(e){const{data:t,error:r}=await we.from("position_greeks_history").select("*").eq("position_id",e).order("recorded_at",{ascending:!0});return r?(console.error("Error fetching greeks history:",r),[]):t}function IH(e,t,r){return r<=0?0:Math.abs(e)*(t/r)}function DH(e,t){return t<=0?0:e/t}function RH(e,t){return t<=0?0:Math.abs(e)/t}function MH(e){if(e<=.005)return 0;const r=e-.005,n=Math.pow(r*100,2)*.5;return Math.min(n,50)}function $H(e,t){return(1-LH(e))*5}function LH(e){return .9+1/(1+Math.exp(-12*(e-1.1)))*.4}const pu={lambda:.4,gammaEff:.3,thetaBurn:-.15,deltaBonus:.15};function zH(e){const t=Math.abs(e);return t<.15?-2:t<.3?-.5:t<=.5?1:t<=.7?.5:0}function UH(e,t,r,n,i=0,a=0){const s=MH(a);return pu.lambda*e+pu.gammaEff*t+pu.thetaBurn*r+pu.deltaBonus*i+n-s}function BH(e){const t=50+e*12.5;return Math.max(0,Math.min(100,Math.round(t)))}function _h(e,t,r,n,i,a=1){const s=IH(e,n,i),o=DH(t,i),l=RH(r,i),u=(s-8)/4,c=(o-.02)/.015,d=(l-.03)/.02,f=$H(a),h=UH(u,c,d,f,0,l);return BH(h)}const FH=e=>e<=20?e:20+(e-20)*.1;function WH(e){const{credit:t,width:r,shortDelta:n,shortStrike:i,currentPrice:a}=e,s=r-t;if(s<=0)return 0;const o=t/s*100,l=1-Math.abs(n),u=Math.abs(a-i)/a,c=Math.min(o*4,100),d=l*100,f=Math.min(u*1e3,100),h=.4*c+.4*d+.2*f;return Math.round(Math.min(100,Math.max(0,h)))}function KH(e){const{debit:t,width:r,longDelta:n,longPrice:i,currentPrice:a}=e,s=r-t;if(t<=0)return 0;const o=s/t,l=i>0?Math.abs(n)*(a/i):0,u=FH(l),c=zH(n),d=Math.min(u/20*100,100),f=Math.min(o/3*100,100),h=50+c*12.5,v=.4*d+.35*f+.25*h;return Math.round(Math.min(100,Math.max(0,v)))}const qH=({position:e,transactions:t,onAction:r,onUpdateScore:n,onUpdatePrice:i,onUpdateTarget:a,onDelete:s,refreshTrigger:o=0,index:l=0})=>{var hy,py,vy,my,gy,yy,xy,wy,by,_y;const[u,c]=x.useState(!1),[d,f]=x.useState({delta:void 0,iv:void 0,gamma:void 0,theta:void 0,vega:void 0,score:void 0}),[h,v]=x.useState({loading:!0,date:null,days:null}),[m,g]=x.useState(null),[y,w]=x.useState(1),[b,_]=x.useState(""),[k,P]=x.useState(!1),[S,O]=x.useState(""),[E,j]=x.useState(!1),[T,C]=x.useState(""),[W,I]=x.useState(!1),[H,J]=x.useState([]),[X,R]=x.useState(!1),$=!!e.legs&&e.legs.length>0,L=e.type.includes("Credit")||e.type.includes("Short");x.useEffect(()=>{(async()=>{try{const Te=await fetch(`/api/earnings?symbol=${e.ticker}`);if(Te.ok){const ir=await Te.json();ir.hasUpcomingEarnings&&ir.daysUntilEarnings<=14?v({loading:!1,date:ir.earningsDate,days:ir.daysUntilEarnings}):v({loading:!1,date:null,days:null})}else v({loading:!1,date:null,days:null})}catch{v({loading:!1,date:null,days:null})}})()},[e.ticker]);const Y=x.useCallback(async()=>{var G,Te,ir,Sy,ky,Py,Oy,jy,Ey;c(!0);try{if($&&e.legs){const Es=e.legs.map(async ce=>{const wr=new URLSearchParams({ticker:e.ticker,expiration:ce.expiration,strike:ce.strike.toString(),type:ce.type}),Ln=await fetch(`/api/option-price?${wr}`);return Ln.ok?await Ln.json():null}),$n=await Promise.all(Es);if($n.some(ce=>ce===null)){c(!1);return}let ve=0,jl=0,Ay=0,Cy=0,As=0,wi=0,mf=0;const Ty=e.legs.findIndex(ce=>ce.side==="short"),Ny=e.legs.findIndex(ce=>ce.side==="long"),Ne=Ty>=0?$n[Ty]:null,ke=Ny>=0?$n[Ny]:null;if(Ne&&ke){const ce=Math.abs(Ne.price||0),wr=Math.abs(ke.price||0);L?wi=ce-wr:wi=wr-ce}$n.forEach((ce,wr)=>{if(!ce)return;mf++;const zn=e.legs[wr].side==="short"?-1:1;ve+=(ce.delta||0)*zn,jl+=(ce.gamma||0)*zn,Ay+=(ce.theta||0)*zn,Cy+=(ce.vega||0)*zn,As+=ce.iv||0}),As=mf>0?As/mf:0,L&&Ne&&ke?wi=Math.abs(Ne.price)-Math.abs(ke.price):!L&&Ne&&ke&&(wi=Math.abs(ke.price)-Math.abs(Ne.price));let Cs;const El=(Ne==null?void 0:Ne.underlyingPrice)||(ke==null?void 0:ke.underlyingPrice)||0;if(L&&Ne&&ke&&El>0){const ce=(G=e.legs)==null?void 0:G.find(gf=>gf.side==="short"),wr=(Te=e.legs)==null?void 0:Te.find(gf=>gf.side==="long"),Ln=ce?ce.strike:0,zn=wr?wr.strike:0,Ts=Math.abs(Math.abs(Ln)-Math.abs(zn)),GA=Math.abs(Ne.price)-Math.abs(ke.price);Cs=WH({credit:GA,width:Ts,shortDelta:Ne.delta||0,shortStrike:Ln,currentPrice:El})}else if(!L&&Ne&&ke&&El>0){const ce=((Sy=(ir=e.legs)==null?void 0:ir.find(Ts=>Ts.side==="short"))==null?void 0:Sy.strike)||0,wr=((Py=(ky=e.legs)==null?void 0:ky.find(Ts=>Ts.side==="long"))==null?void 0:Py.strike)||0,Ln=Math.abs(Math.abs(ce)-Math.abs(wr)),zn=Math.abs(ke.price)-Math.abs(Ne.price);Cs=KH({debit:zn,width:Ln,longDelta:ke.delta||0,longPrice:Math.abs(ke.price),currentPrice:El})}else L&&Ne?Cs=Ne.score||(Ne.underlyingPrice?_h(Ne.delta||0,Ne.gamma||0,Ne.theta||0,Ne.underlyingPrice,Math.abs(Ne.price),1):void 0):!L&&ke&&(Cs=ke.score||(ke.underlyingPrice?_h(ke.delta||0,ke.gamma||0,ke.theta||0,ke.underlyingPrice,Math.abs(ke.price),1):void 0));f({delta:ve,gamma:jl,theta:Ay,vega:Cy,iv:As,price:wi,score:Cs}),ve!==0&&F_(e.id,As,ve),$n.some(ce=>ce!==null)&&Math.abs((e.current_price||0)-wi)>.01&&await i(e.id,wi)}else{const Es=new URLSearchParams({ticker:e.ticker,expiration:e.expiration,strike:e.strike.toString(),type:e.type}),$n=await fetch(`/api/option-price?${Es}`);if($n.ok){const ve=await $n.json();if(ve.price){await i(e.id,ve.price);const jl=ve.score||(ve.underlyingPrice?_h(ve.delta||0,ve.gamma||0,ve.theta||0,ve.underlyingPrice,ve.price,((Oy=ve.metrics)==null?void 0:Oy.ivRatio)||1):void 0);f({delta:ve.delta,iv:ve.iv,gamma:ve.gamma,theta:ve.theta,vega:ve.vega,score:jl,price:ve.price,isDayTrade:(jy=ve.metrics)==null?void 0:jy.isDayTrade,ivRatio:(Ey=ve.metrics)==null?void 0:Ey.ivRatio}),F_(e.id,ve.iv,ve.delta)}}}}catch(Es){console.error(Es)}c(!1)},[e.id,e.ticker,e.expiration,e.strike,e.type,$,L,e.legs,i]);x.useEffect(()=>{Y()},[Y]),x.useEffect(()=>{if(o>0){const G=l*200;setTimeout(()=>{Y()},G)}},[o,l,Y]),x.useEffect(()=>{W&&H.length===0&&(R(!0),NH(e.id).then(G=>{J(G),R(!1)}))},[W,e.id,H.length]);const Q=t.filter(G=>G.position_id===e.id);let $e=0,pe=0,Rt=0;Q.forEach(G=>{const Te=G.quantity,ir=G.price*Kn;Te>0?($e+=Te,pe+=Te*ir):Rt+=Math.abs(Te)});const Ae=$e-Rt,xe=$e>0?pe/$e:0,ua=Q.find(G=>G.quantity>0),N=ua?Math.abs(ua.price):0,te=Q.some(G=>G.type==="Take Profit")?N*.75:N*.5,D=d.price!==void 0?d.price:e.current_price||0;let Ce=0,ae=0;if(Ae>0&&D)if(L)Ce=(N-D)*Ae*Kn,ae=N>0?Ce/(N*Ae*Kn)*100:0;else{const G=Ae*D*Kn,Te=Ae*xe;Ce=G-Te,ae=Te>0?Ce/Te*100:0}const kt=L?N*.5:N*1.25,vt=e.target_price||kt;let Pt=0;Q.forEach(G=>{if(G.type==="Take Profit"||G.type==="Close"||G.type==="Size Down"){const Te=G.price*Kn,ir=Math.abs(G.quantity);L?Pt+=(xe-Te)*ir:Pt+=(Te-xe)*ir}});const ca=QI(e.expiration),Rn=e.current_score||e.entry_score;let $r="none";const Mn=[];Rn<60&&(Mn.push("Low Score"),$r="danger"),L?D&&D>=N*2&&(Mn.push("Hit Stop"),$r="danger"):D&&D<=te&&(Mn.push("Hit Stop"),$r="danger"),ae<=-50&&(Mn.push("Heavy Loss"),$r="danger"),$r!=="danger"&&(Rn<70&&(Mn.push("Score Warning"),$r="warning"),ca<=7&&ca>0&&(Mn.push(`${ca}d left`),$r="warning"));const dy=h.days!==null&&h.days>=0&&h.days<=7,da=h.days!==null&&h.days>=0&&h.days<=3;let js="card";$r==="danger"?js="card-danger":da?js="card-earnings":$r==="warning"?js="card-warning":dy&&(js="card-earnings-soon");const fy=Ce>=0?"text-accent-green":"text-accent-red",qA=async G=>{if(!b)return;c(!0);const Te=["Size Down","Take Profit","Close"].includes(G)?-Math.abs(y):Math.abs(y);await r(e.id,{type:G,quantity:G==="Close"?-Ae:Te,price:parseFloat(b)}),c(!1),g(null),_(""),w(1)},HA=async()=>{const G=parseInt(S);isNaN(G)||(await n(e.id,G),P(!1))},VA=async()=>{const G=parseFloat(T);isNaN(G)||(await a(e.id,G),j(!1))};return p.jsxs("div",{className:`${js} p-5 fade-in`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[p.jsx("span",{className:"text-2xl font-bold",children:e.ticker}),$?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:`badge ${L?"badge-green":"badge-blue"}`,children:L?"Credit":"Debit"}),p.jsx("span",{className:"badge badge-purple",children:"Spread"})]}):p.jsx("span",{className:`badge ${e.type==="Call"?"badge-green":"badge-red"}`,children:e.type})]}),p.jsxs("div",{className:"text-text-secondary",children:[$?p.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-1",children:[p.jsxs("span",{className:"flex items-center gap-1.5 text-accent-red bg-accent-red/10 px-2 py-0.5 rounded text-xs font-mono border border-accent-red/20",title:"Short Leg",children:[p.jsx("span",{className:"font-bold",children:"-"}),(py=(hy=e.legs)==null?void 0:hy.find(G=>G.side==="short"))==null?void 0:py.strike,p.jsx("span",{className:"opacity-70",children:(gy=(my=(vy=e.legs)==null?void 0:vy[0])==null?void 0:my.type)==null?void 0:gy.charAt(0)})]}),p.jsx("span",{className:"text-text-tertiary text-xs",children:"/"}),p.jsxs("span",{className:"flex items-center gap-1.5 text-accent-green bg-accent-green/10 px-2 py-0.5 rounded text-xs font-mono border border-accent-green/20",title:"Long Leg",children:[p.jsx("span",{className:"font-bold",children:"+"}),(xy=(yy=e.legs)==null?void 0:yy.find(G=>G.side==="long"))==null?void 0:xy.strike,p.jsx("span",{className:"opacity-70",children:(_y=(by=(wy=e.legs)==null?void 0:wy[0])==null?void 0:by.type)==null?void 0:_y.charAt(0)})]})]}):p.jsxs("span",{className:"font-mono",children:["$",e.strike]}),!$&&p.jsx("span",{className:"mx-2",children:""}),p.jsx("span",{children:sc(e.expiration)}),p.jsx("span",{className:"mx-2",children:""}),p.jsxs("span",{children:[Ae," contract",Ae!==1?"s":""]}),d.ivRatio!==void 0&&p.jsxs("span",{className:"ml-3 px-2 py-0.5 rounded text-xs font-mono font-medium bg-bg-tertiary border border-border-default/50 text-text-secondary",title:"IV Ratio",children:["IVR: ",p.jsx("span",{className:d.ivRatio>1.05?"text-accent-green":d.ivRatio<.95?"text-accent-red":"text-text-primary",children:d.ivRatio.toFixed(2)})]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:`big-number ${fy}`,children:xk(ae)}),p.jsxs("div",{className:`text-sm font-mono ${fy}`,children:[Ce>=0?"+":"",$i(Ce)]})]})]}),dy&&p.jsxs("div",{className:`mb-4 p-3 rounded-xl flex items-center justify-between ${da?"bg-bg-secondary border border-purple-500/20":"bg-bg-secondary border border-blue-500/20"}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${da?"bg-purple-500/10":"bg-blue-500/10"}`,children:p.jsx(_k,{size:18,className:da?"text-purple-300/70":"text-blue-300/70"})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-semibold text-text-primary",children:h.days===0?"Earnings TODAY":h.days===1?"Earnings TOMORROW":`Earnings in ${h.days} days`}),p.jsxs("div",{className:"text-sm text-text-secondary",children:[sc(h.date),"  Consider position sizing"]})]})]}),da&&p.jsx("span",{className:"px-3 py-1 bg-purple-500/30 text-purple-300 rounded-lg text-sm font-semibold animate-pulse",children:"ACTION NEEDED"})]}),Mn.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Mn.map((G,Te)=>p.jsx("span",{className:`badge ${$r==="danger"?"badge-red":"badge-yellow"}`,children:G},Te))}),p.jsxs("div",{className:"flex flex-col gap-4 mb-4 py-4 border-y border-border-default",children:[p.jsxs("div",{className:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-6 gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"mb-1 flex items-center h-5",children:p.jsx(yt,{label:"Entry",explanation:"Original entry price/credit per contract.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:"metric-value",children:Ni(N)})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-1 flex items-center h-5",children:p.jsx(yt,{label:"Avg",explanation:"Average Cost Basis.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:"metric-value",children:Ni(xe/Kn)})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"mb-1 flex items-center gap-1 h-5",children:[p.jsx(yt,{label:"Target",explanation:"Profit Target Price. Click to edit.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"}),p.jsx("button",{onClick:()=>{j(!0),C(vt.toString())},className:"text-text-tertiary hover:text-text-primary transition-colors cursor-pointer","aria-label":"Edit target",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})})]}),E?p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("input",{type:"number",step:"0.01",value:T,onChange:G=>C(G.target.value),className:"w-16 px-1 py-0.5 text-sm bg-bg-secondary rounded border border-border-default font-mono",autoFocus:!0}),p.jsx("button",{onClick:VA,className:"text-accent-green hover:bg-accent-green/10 p-0.5 rounded cursor-pointer",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}),p.jsx("button",{onClick:()=>j(!1),className:"text-accent-red hover:bg-accent-red/10 p-0.5 rounded cursor-pointer",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):p.jsx("div",{className:"metric-value text-accent-green",children:Ni(vt)})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-1 flex items-center h-5",children:p.jsx(yt,{label:"Realized",explanation:"Total Profit/Loss realized from partial exits or closure.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:`metric-value ${Pt>0?"text-accent-green":Pt<0?"text-accent-red":"text-text-tertiary"}`,children:Pt!==0?(Pt>0?"+":"")+$i(Pt):""})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-1 flex items-center h-5",children:p.jsx(yt,{label:"Current",explanation:L?"Cost to Close":"Liquidation Value",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:"metric-value text-text-primary",children:D?Ni(D):""})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-1 flex items-center h-5",children:p.jsx(yt,{label:"Stop",explanation:"Stop Loss Level.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:"metric-value text-accent-red",children:Ni(te)})]})]}),p.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-6 gap-4 pt-4 border-t border-border-light/50",children:p.jsxs("div",{children:[p.jsxs("div",{className:"mb-1 flex items-center gap-1 h-5",children:[p.jsx(yt,{label:"Tech Score",explanation:"Manual Technical Analysis Score (0-100).",className:"text-[11px] text-text-tertiary uppercase tracking-wider"}),p.jsx("button",{onClick:()=>{P(!0),O(Rn?Rn.toString():"")},className:"text-text-tertiary hover:text-text-primary transition-colors cursor-pointer","aria-label":"Edit score",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})})]}),k?p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("input",{type:"number",value:S,onChange:G=>O(G.target.value),className:"w-12 px-1 py-0.5 text-sm bg-bg-secondary rounded border border-border-default font-mono",autoFocus:!0}),p.jsx("button",{onClick:HA,className:"text-accent-green hover:bg-accent-green/10 p-0.5 rounded cursor-pointer",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}),p.jsx("button",{onClick:()=>P(!1),className:"text-accent-red hover:bg-accent-red/10 p-0.5 rounded cursor-pointer",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:`metric-value ${Rn?Rn>=70?"text-accent-green":Rn>=60?"text-accent-yellow":"text-accent-red":"text-text-primary"}`,children:Rn||""}),e.current_score&&e.current_score!==e.entry_score&&p.jsxs("span",{className:"text-xs text-text-tertiary flex items-center",children:["from ",e.entry_score,e.current_score<e.entry_score&&p.jsx("span",{className:"ml-1 text-accent-red",children:""})]})]})]})}),p.jsxs("div",{className:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-6 gap-4 pt-4 border-t border-border-light/50",children:[p.jsxs("div",{children:[p.jsx("div",{className:"mb-1",children:p.jsx(yt,{label:"Delta",explanation:"Net Position Delta.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:"metric-value text-text-primary",children:d.delta!==void 0?d.delta.toFixed(2):""})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-1",children:p.jsx(yt,{label:"Gamma",explanation:"Rate of change of Delta.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:"metric-value text-text-primary",children:d.gamma!==void 0?d.gamma.toFixed(3):""})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-1",children:p.jsx(yt,{label:"Theta",explanation:"Time decay.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:"metric-value text-text-primary",children:d.theta!==void 0?d.theta.toFixed(3):""})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-1",children:p.jsx(yt,{label:"Vega",explanation:"Sensitivity to changes in Implied Volatility.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:"metric-value text-text-primary",children:d.vega!==void 0?d.vega.toFixed(3):""})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-1",children:p.jsx(yt,{label:"IV",explanation:"Avg Implied Volatility.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsx("div",{className:"metric-value text-text-primary",children:d.iv!==void 0?(d.iv*100).toFixed(1)+"%":""})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-1",children:p.jsx(yt,{label:"Opt Score",explanation:"Calculated Option Quality.",className:"text-[11px] text-text-tertiary uppercase tracking-wider"})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("div",{className:`metric-value font-bold ${d.score===void 0?"text-text-tertiary":d.score>=70?"text-accent-green":d.score>=50?"text-accent-yellow":"text-accent-red"}`,children:d.score!==void 0?d.score:""}),!!d.isDayTrade&&p.jsx("span",{className:"mt-0.5 px-1 pb-0.5 text-[8px] font-bold uppercase tracking-wider text-purple-300 bg-purple-500/10 rounded w-fit",children:"Day Trade"})]})]})]})]}),p.jsxs("div",{className:"text-sm text-text-secondary mb-4 flex flex-wrap gap-x-2 gap-y-1",children:[p.jsxs("span",{children:[p.jsx("span",{className:"text-text-tertiary",children:"Setup:"})," ",e.setup]}),e.stop_reason&&p.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[p.jsx("span",{className:"text-text-tertiary",children:""}),p.jsx("span",{className:"text-text-tertiary shrink-0",children:"Exit if:"}),p.jsx("span",{className:"truncate max-w-[200px] sm:max-w-[300px]",title:e.stop_reason,children:e.stop_reason})]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsxs("button",{onClick:()=>I(!W),className:"w-full flex items-center justify-between py-2 px-3 rounded-lg bg-bg-secondary/50 hover:bg-bg-secondary transition-colors text-sm text-text-secondary cursor-pointer","aria-expanded":W,"aria-label":W?"Collapse IV & Delta history":"Expand IV & Delta history",children:[p.jsx("span",{children:"IV & Delta History"}),p.jsx(Sk,{size:16,className:`transition-transform duration-200 ${W?"rotate-180":""}`})]}),W&&p.jsx("div",{className:"mt-3 p-3 rounded-lg bg-bg-secondary/30 border border-border-default",children:p.jsx(CH,{data:H,loading:X})})]}),m?p.jsxs("div",{className:"card-elevated p-4 space-y-3",children:[p.jsx("div",{className:"text-sm font-medium text-text-secondary",children:m==="Add"?"Add to Position":m==="TakeProfit"?"Take Profit":"Close Position"}),p.jsxs("div",{className:"flex gap-3",children:[m!=="Close"&&p.jsx("input",{type:"number",min:"1",value:y,onChange:G=>w(parseInt(G.target.value)||1),placeholder:"Qty",className:"w-24 px-4 py-3 rounded-xl font-mono"}),p.jsx("input",{type:"number",step:"0.01",value:b,onChange:G=>_(G.target.value),placeholder:"Price",className:"flex-1 px-4 py-3 rounded-xl font-mono",autoFocus:!0})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>g(null),className:"flex-1 py-3 btn-secondary rounded-xl",children:"Cancel"}),p.jsx("button",{onClick:()=>qA(m==="Add"?"Size Up":m==="TakeProfit"?"Take Profit":"Close"),disabled:!b||u,className:"flex-1 py-3 btn-primary rounded-xl",children:u?"...":"Confirm"})]})]}):p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:Y,disabled:u,className:"action-btn btn-secondary flex items-center justify-center gap-2 cursor-pointer","aria-label":"Refresh price",children:[u?p.jsx("div",{className:"spinner w-4 h-4"}):p.jsx(_m,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),p.jsx("button",{onClick:()=>g("Add"),className:"action-btn btn-secondary",children:"+ Add"}),p.jsx("button",{onClick:()=>g("TakeProfit"),className:"action-btn btn-secondary",children:"Profit"}),p.jsx("button",{onClick:()=>g("Close"),className:"action-btn btn-secondary text-text-secondary hover:text-accent-red hover:bg-accent-red/10",children:"Close"}),p.jsx("button",{onClick:()=>s(e.id),className:"action-btn btn-secondary text-text-tertiary hover:text-accent-red hover:bg-accent-red/10 px-3","aria-label":"Delete Position",children:p.jsx(Sm,{size:16})})]})]})},HH=({positions:e,transactions:t,onAction:r,onUpdateScore:n,onUpdatePrice:i,onUpdateTarget:a,onAddDirect:s,onDelete:o,loading:l})=>{const[u,c]=x.useState(!1),[d,f]=x.useState(!1),[h,v]=x.useState(!1),[m]=x.useState("expiration"),[g,y]=x.useState({ticker:"",strike:"",type:"Call",expiration:"",setup:"Pullback Buy",entry_score:"",stop_reason:"",quantity:"1",entry_price:""}),[w,b]=x.useState(0),_=e.filter(O=>O.status==="active"),k=[..._].sort((O,E)=>{switch(m){case"expiration":return new Date(O.expiration).getTime()-new Date(E.expiration).getTime();case"ticker":return O.ticker.localeCompare(E.ticker);case"created":return new Date(E.created_at||0).getTime()-new Date(O.created_at||0).getTime();default:return 0}}),P=async()=>{v(!0),b(O=>O+1),await new Promise(O=>setTimeout(O,_.length*200+500)),v(!1)};x.useEffect(()=>{P()},[]);const S=async O=>{O.preventDefault(),f(!0),await s({ticker:g.ticker,strike:parseFloat(g.strike),type:g.type,expiration:g.expiration,setup:g.setup,entry_score:parseInt(g.entry_score),stop_reason:g.stop_reason,quantity:parseInt(g.quantity),entry_price:parseFloat(g.entry_price)}),f(!1),y({ticker:"",strike:"",type:"Call",expiration:"",setup:"Pullback Buy",entry_score:"",stop_reason:"",quantity:"1",entry_price:""}),c(!1)};return l?p.jsx(bd,{}):p.jsxs("div",{className:"fade-in pb-24 sm:pb-0 space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-text-primary to-text-secondary bg-clip-text text-transparent",children:"Portfolio"}),p.jsx("p",{className:"text-text-secondary mt-1",children:"Manage open positions and track performance"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("button",{onClick:P,disabled:h,className:`
                            relative overflow-hidden group flex items-center gap-2 px-4 py-2 rounded-xl border border-border-default/50 
                            bg-bg-secondary/30 backdrop-blur-sm hover:bg-bg-secondary transition-all duration-200
                            ${h?"opacity-70 cursor-not-allowed text-text-tertiary":"text-text-secondary hover:text-text-primary hover:border-text-secondary/30"}
                        `,children:[p.jsx(_m,{size:18,className:`transition-transform duration-500 ${h?"animate-spin":"group-hover:rotate-180"}`}),p.jsx("span",{className:"font-medium text-sm",children:h?"Refreshing...":"Refresh All"})]}),p.jsxs("button",{onClick:()=>c(!u),className:`
                            flex items-center gap-2 px-5 py-2 rounded-xl font-medium text-sm text-white shadow-lg transition-all duration-200
                            bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500
                            shadow-emerald-500/20 hover:shadow-emerald-500/30 hover:-translate-y-0.5
                        `,children:[p.jsx("span",{className:"text-lg leading-none mb-0.5",children:"+"}),p.jsx("span",{children:"Add Position"})]})]})]}),u&&p.jsxs("div",{className:"card-elevated p-6 animate-in fade-in slide-in-from-top-4",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Quick Add Position"}),p.jsxs("form",{onSubmit:S,className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[p.jsx("input",{placeholder:"Ticker (e.g. SPY)",className:"input-field",value:g.ticker,onChange:O=>y({...g,ticker:O.target.value.toUpperCase()}),required:!0}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"number",placeholder:"Strike",className:"input-field",value:g.strike,onChange:O=>y({...g,strike:O.target.value}),required:!0}),p.jsxs("select",{className:"input-field w-24",value:g.type,onChange:O=>y({...g,type:O.target.value}),children:[p.jsx("option",{value:"Call",children:"Call"}),p.jsx("option",{value:"Put",children:"Put"})]})]}),p.jsx("input",{type:"date",className:"input-field",value:g.expiration,onChange:O=>y({...g,expiration:O.target.value}),required:!0}),p.jsx("select",{className:"input-field",value:g.setup,onChange:O=>y({...g,setup:O.target.value}),children:wk.map(O=>p.jsx("option",{value:O,children:O},O))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"number",placeholder:"Score",className:"input-field w-20",value:g.entry_score,onChange:O=>y({...g,entry_score:O.target.value})}),p.jsx("input",{placeholder:"Stop Reason",className:"input-field flex-1",value:g.stop_reason,onChange:O=>y({...g,stop_reason:O.target.value})})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"number",placeholder:"Qty",className:"input-field w-20",value:g.quantity,onChange:O=>y({...g,quantity:O.target.value}),required:!0}),p.jsx("input",{type:"number",step:"0.01",placeholder:"Price",className:"input-field flex-1",value:g.entry_price,onChange:O=>y({...g,entry_price:O.target.value}),required:!0})]}),p.jsxs("div",{className:"col-span-2 md:col-span-4 lg:col-span-5 flex justify-end gap-2 mt-2",children:[p.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:d,className:"btn-primary",children:d?"Adding...":"Add Position"})]})]})]}),_.length===0?p.jsx("div",{className:"text-center py-20 text-text-tertiary",children:'No active positions. Click "Add Position" to start tracking.'}):p.jsx("div",{className:"space-y-4",children:k.map((O,E)=>p.jsx(qH,{position:O,transactions:t.filter(j=>j.position_id===O.id),onAction:r,onUpdateScore:n,onUpdatePrice:i,onUpdateTarget:a,onDelete:o,refreshTrigger:w,index:E},O.id))})]})},VH=({item:e,onMoveToActive:t,onDelete:r})=>{var v,m,g,y;const[n,i]=x.useState(null),[a,s]=x.useState(!1),[o,l]=x.useState({date:null,days:null}),u=!!e.legs&&e.legs.length>0,c=async()=>{s(!0);try{if(u&&e.legs){const w=e.legs.map(E=>fetch(`/api/option-price?ticker=${e.ticker}&expiration=${E.expiration}&strike=${E.strike}&type=${E.type}`).then(j=>j.ok?j.json():{price:0})),b=await Promise.all(w),_=e.legs.findIndex(E=>E.side==="short"),k=e.legs.findIndex(E=>E.side==="long"),P=_>=0?b[_].price:0,S=k>=0?b[k].price:0;let O=0;e.type.includes("Credit")||e.type.includes("Short")?O=P-S:O=S-P,i(O)}else{const w=new URLSearchParams({ticker:e.ticker,expiration:e.expiration,strike:e.strike.toString(),type:e.type}),b=await fetch(`/api/option-price?${w}`);if(b.ok){const _=await b.json();i(_.price)}}}catch(w){console.error(w)}s(!1)};x.useEffect(()=>{c(),(async()=>{try{const b=await fetch(`/api/earnings?symbol=${e.ticker}`);if(b.ok){const _=await b.json();_.hasUpcomingEarnings&&_.daysUntilEarnings<=14&&l({date:_.earningsDate,days:_.daysUntilEarnings})}}catch{}})()},[]);const d=n!==null&&e.ideal_entry?(n-e.ideal_entry)/e.ideal_entry*100:null,f=d!==null&&(e.type.includes("Credit")?d>=-5:d<=5),h=o.days!==null&&o.days>=0&&o.days<=7;return p.jsx("div",{className:`card p-5 fade-in ${f?"card-success":""}`,children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-1 flex-wrap",children:[p.jsx("span",{className:"text-xl font-bold",children:e.ticker}),u?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"badge badge-purple",children:"Spread"}),p.jsx("span",{className:`badge ${e.type.includes("Credit")?"badge-green":"badge-blue"}`,children:e.type.includes("Credit")?"Credit":"Debit"})]}):p.jsx("span",{className:`badge ${e.type==="Call"?"badge-green":"badge-red"}`,children:e.type}),p.jsx("span",{className:`badge ${e.entry_score>=70?"badge-green":e.entry_score>=60?"badge-yellow":"badge-red"}`,children:e.entry_score}),f&&p.jsxs("span",{className:"badge badge-green flex items-center gap-1",children:[p.jsx(aD,{size:12})," Entry"]}),h&&p.jsxs("span",{className:"badge badge-blue flex items-center gap-1",children:[p.jsx(_k,{size:12})," ER ",o.days===0?"Today":`${o.days}d`]})]}),p.jsxs("div",{className:"text-text-secondary text-sm mb-3",children:[u?p.jsxs("span",{className:"font-mono",children:[(m=(v=e.legs)==null?void 0:v.find(w=>w.side==="short"))==null?void 0:m.strike," / ",(y=(g=e.legs)==null?void 0:g.find(w=>w.side==="long"))==null?void 0:y.strike]}):p.jsxs("span",{className:"font-mono",children:["$",e.strike]}),p.jsx("span",{className:"mx-2",children:""}),p.jsx("span",{children:sc(e.expiration)}),p.jsx("span",{className:"mx-2",children:""}),p.jsx("span",{children:e.setup})]}),p.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-text-tertiary",children:"Now: "}),p.jsx("span",{className:"font-mono font-medium",children:a?"...":n!==null?Ni(n):""})]}),e.ideal_entry&&p.jsxs("div",{children:[p.jsx("span",{className:"text-text-tertiary",children:"Ideal: "}),p.jsx("span",{className:"font-mono text-accent-yellow",children:Ni(e.ideal_entry)})]}),d!==null&&p.jsxs("span",{className:`font-mono ${e.type.includes("Credit")?d>=0?"text-accent-green":"text-accent-red":d<=0?"text-accent-green":"text-accent-red"}`,children:["(",d>=0?"+":"",d.toFixed(1),"%)"]})]}),e.stop_reason&&p.jsxs("div",{className:"text-sm text-text-tertiary mt-2 line-clamp-2",title:e.stop_reason,children:["Exit if: ",e.stop_reason]})]}),p.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[p.jsx("button",{onClick:()=>t(e),className:"btn-primary px-5 py-2 rounded-lg cursor-pointer",children:"Buy"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:c,disabled:a,className:"btn-secondary flex-1 py-2 rounded-lg text-sm flex items-center justify-center cursor-pointer","aria-label":"Refresh price",children:a?"...":p.jsx(_m,{size:16})}),p.jsx("button",{onClick:()=>r(e.id),className:"btn-secondary px-3 py-2 rounded-lg text-sm flex items-center justify-center cursor-pointer hover:bg-red-500/20 hover:text-red-400 hover:border-red-500/30 transition-colors","aria-label":"Delete from watchlist",children:p.jsx(Sm,{size:16})})]})]})]})})},GH=({positions:e,onAddToWatchlist:t,onMoveToActive:r,onDelete:n,loading:i})=>{const[a,s]=x.useState(!1),[o,l]=x.useState(!1),[u,c]=x.useState({ticker:"",strike:"",type:"Call",expiration:"",setup:"Pullback Buy",entry_score:"",ideal_entry:"",stop_reason:"",target_price:"",notes:""}),d=e.filter(h=>h.status==="watchlist"),f=async h=>{h.preventDefault(),l(!0);try{await t({...u,strike:parseFloat(u.strike),entry_score:u.entry_score?parseInt(u.entry_score):null,ideal_entry:u.ideal_entry?parseFloat(u.ideal_entry):null,target_price:u.target_price?parseFloat(u.target_price):null}),c({ticker:"",strike:"",type:"Call",expiration:"",setup:"Pullback Buy",entry_score:"",ideal_entry:"",stop_reason:"",target_price:"",notes:""}),s(!1)}catch(v){console.error("Error in form submit:",v)}finally{l(!1)}};return i?p.jsx(bd,{}):p.jsxs("div",{className:"fade-in pb-24 sm:pb-0",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Watchlist"}),p.jsxs("p",{className:"text-text-secondary text-sm",children:[d.length," items"]})]}),p.jsx("button",{onClick:()=>s(!a),className:a?"btn-secondary px-5 py-3 rounded-xl":"btn-primary px-5 py-3 rounded-xl",children:a?"Cancel":"+ Add"})]}),a&&p.jsxs("form",{onSubmit:f,className:"card p-5 mb-6 space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[p.jsx("input",{type:"text",placeholder:"Ticker",value:u.ticker,onChange:h=>c({...u,ticker:h.target.value.toUpperCase()}),className:"px-4 py-3 rounded-xl font-mono","aria-label":"Ticker symbol",required:!0}),p.jsx("input",{type:"number",step:"0.5",placeholder:"Strike",value:u.strike,onChange:h=>c({...u,strike:h.target.value}),className:"px-4 py-3 rounded-xl font-mono","aria-label":"Strike price",required:!0}),p.jsxs("select",{value:u.type,onChange:h=>c({...u,type:h.target.value}),className:"px-4 py-3 rounded-xl","aria-label":"Option type",children:[p.jsx("option",{children:"Call"}),p.jsx("option",{children:"Put"})]}),p.jsx("input",{type:"date",value:u.expiration,onChange:h=>c({...u,expiration:h.target.value}),className:"px-4 py-3 rounded-xl","aria-label":"Expiration date",required:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[p.jsx("select",{value:u.setup,onChange:h=>c({...u,setup:h.target.value}),className:"px-4 py-3 rounded-xl","aria-label":"Setup type",children:wk.map(h=>p.jsx("option",{children:h},h))}),p.jsx("input",{type:"number",placeholder:"Score",value:u.entry_score,onChange:h=>c({...u,entry_score:h.target.value}),className:"px-4 py-3 rounded-xl font-mono","aria-label":"Entry score",required:!0}),p.jsx("input",{type:"number",step:"0.01",placeholder:"Ideal Entry $",value:u.ideal_entry,onChange:h=>c({...u,ideal_entry:h.target.value}),className:"px-4 py-3 rounded-xl font-mono","aria-label":"Ideal entry price"}),p.jsx("input",{type:"number",step:"0.01",placeholder:"Target $",value:u.target_price,onChange:h=>c({...u,target_price:h.target.value}),className:"px-4 py-3 rounded-xl font-mono","aria-label":"Target price"})]}),p.jsx("input",{type:"text",placeholder:"Exit if... (e.g., MB flips red)",value:u.stop_reason,onChange:h=>c({...u,stop_reason:h.target.value}),className:"w-full px-4 py-3 rounded-xl","aria-label":"Exit condition"}),p.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full py-4 rounded-xl text-lg cursor-pointer",children:o?"Adding...":"Add to Watchlist"})]}),d.length===0?p.jsxs("div",{className:"text-center py-16 text-text-secondary",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-bg-tertiary flex items-center justify-center",children:p.jsx(Ok,{size:32,strokeWidth:1.5})}),p.jsx("p",{children:"Your watchlist is empty"})]}):p.jsx("div",{className:"space-y-3",children:d.map(h=>p.jsx(VH,{item:h,onMoveToActive:r,onDelete:n},h.id))})]})},YH=({onAddToWatchlist:e})=>{const[t,r]=x.useState("SPY"),[n,i]=x.useState("long"),[a,s]=x.useState(20),[o,l]=x.useState(60),[u,c]=x.useState(50),[d,f]=x.useState(.2),[h,v]=x.useState(.8),[m,g]=x.useState("all"),[y,w]=x.useState(!1),[b,_]=x.useState([]),[k,P]=x.useState(null),[S,O]=x.useState(!1),[E,j]=x.useState(""),T=async()=>{if(t){O(!0),j(""),_([]),P(null);try{const I=new URLSearchParams({ticker:t,strategy:n,dteMin:a.toString(),dteMax:o.toString(),minVolume:u.toString(),minDelta:d.toString(),maxDelta:h.toString(),direction:m,dayTrade:y.toString()}),H=await fetch(`/api/scan-options?${I}`),J=await H.json();if(!H.ok)throw new Error(J.error||"Scan failed");_(J.results||[]),P(J.context)}catch(I){j(I.message)}finally{O(!1)}}},C=I=>I>=75?"text-green-400":I>=60?"text-yellow-400":I>=45?"text-orange-400":"text-red-400",W=I=>`${(I*100).toFixed(1)}%`;return p.jsxs("div",{className:"fade-in space-y-6 pb-24 sm:pb-0",children:[p.jsxs("div",{className:"bg-[#1C1C1E] border border-[#2A2A2A] rounded-xl p-5 shadow-sm",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[p.jsxs("div",{className:"flex-1 min-w-[200px]",children:[p.jsx("div",{className:"mb-1.5",children:p.jsx(yt,{label:"Ticker Symbol",explanation:"The underlying asset to scan options for (e.g., SPY, QQQ).",className:"text-xs text-gray-400 font-medium"})}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:t,onChange:I=>r(I.target.value.toUpperCase()),className:"w-full bg-[#2C2C2E] border border-[#3A3A3C] text-white rounded-lg pl-10 pr-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-accent-green/50 placeholder-gray-500 font-medium",placeholder:"e.g. SPY",onKeyDown:I=>I.key==="Enter"&&T()}),p.jsx(Ya,{className:"absolute left-3 top-3 text-gray-400",size:18})]})]}),p.jsxs("div",{className:"w-full md:w-48",children:[p.jsx("div",{className:"mb-1.5",children:p.jsx(yt,{label:"Strategy",explanation:"Long: Buy options (Calls/Puts). Short: Sell options (Cash Secured Puts/Covered Calls).",className:"text-xs text-gray-400 font-medium"})}),p.jsxs("div",{className:"flex bg-[#2C2C2E] rounded-lg p-1 border border-[#3A3A3C]",children:[p.jsx("button",{onClick:()=>i("long"),className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${n==="long"?"bg-[#3A3A3C] text-white shadow-sm":"text-gray-400 hover:text-gray-200"}`,children:"Long"}),p.jsx("button",{onClick:()=>i("short"),className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${n==="short"?"bg-[#3A3A3C] text-white shadow-sm":"text-gray-400 hover:text-gray-200"}`,children:"Short"})]})]}),p.jsxs("div",{className:"w-full md:w-48",children:[p.jsx("label",{className:"text-xs text-gray-400 font-medium mb-1.5 block flex items-center gap-1",children:"Direction"}),p.jsxs("select",{value:m,onChange:I=>g(I.target.value),className:"w-full bg-[#2C2C2E] border border-[#3A3A3C] text-white rounded-lg px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-accent-green/50",children:[p.jsx("option",{value:"all",children:"All"}),p.jsx("option",{value:"call",children:"Calls Only"}),p.jsx("option",{value:"put",children:"Puts Only"})]})]}),p.jsx("div",{className:"w-full md:w-auto flex items-end pb-3",children:p.jsxs("button",{onClick:()=>w(!y),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${y?"bg-purple-500/10 border-purple-500/30 text-purple-400":"bg-[#2C2C2E] border-[#3A3A3C] text-gray-400 hover:bg-[#3A3A3C]"}`,children:[p.jsx(Op,{size:16}),p.jsx("span",{className:"text-sm font-medium",children:"Day Trade"})]})})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-gray-400 font-medium mb-1.5 block",children:"DTE Range"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"number",value:a,onChange:I=>s(Number(I.target.value)),className:"w-full bg-[#2C2C2E] border border-[#3A3A3C] text-white rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:border-accent-green"}),p.jsx("span",{className:"text-gray-500 self-center",children:"-"}),p.jsx("input",{type:"number",value:o,onChange:I=>l(Number(I.target.value)),className:"w-full bg-[#2C2C2E] border border-[#3A3A3C] text-white rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:border-accent-green"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-gray-400 font-medium mb-1.5 block",children:"Delta Range"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"number",step:"0.05",value:d,onChange:I=>f(Number(I.target.value)),className:"w-full bg-[#2C2C2E] border border-[#3A3A3C] text-white rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:border-accent-green"}),p.jsx("span",{className:"text-gray-500 self-center",children:"-"}),p.jsx("input",{type:"number",step:"0.05",value:h,onChange:I=>v(Number(I.target.value)),className:"w-full bg-[#2C2C2E] border border-[#3A3A3C] text-white rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:border-accent-green"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-gray-400 font-medium mb-1.5 block",children:"Min Volume"}),p.jsx("input",{type:"number",value:u,onChange:I=>c(Number(I.target.value)),className:"w-full bg-[#2C2C2E] border border-[#3A3A3C] text-white rounded-lg px-3 py-1.5 text-sm focus:outline-none focus:border-accent-green"})]})]}),p.jsx("button",{onClick:T,disabled:S,className:"w-full bg-accent-green hover:bg-accent-green/90 text-black font-semibold py-3 rounded-lg transition-all active:scale-[0.98] shadow-[0_0_15px_rgba(208,253,62,0.2)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Scanning Market..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Ya,{size:20}),"Scan Options"]})}),E&&p.jsxs("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 text-red-400 rounded-lg text-sm flex items-center gap-2 animate-fade-in",children:[p.jsx(Pk,{size:16}),E]})]}),k&&p.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 animate-fade-in",children:[p.jsxs("div",{className:"bg-[#1C1C1E] border border-[#2A2A2A] rounded-xl p-3 flex flex-col items-center justify-center",children:[p.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"IV Ratio"}),p.jsx("div",{className:`text-xl font-bold ${k.ivStatus==="contango"?"text-green-400":k.ivStatus==="backwardation"?"text-red-400":"text-gray-300"}`,children:k.ivRatio}),p.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:k.ivStatus})]}),p.jsxs("div",{className:"bg-[#1C1C1E] border border-[#2A2A2A] rounded-xl p-3 flex flex-col items-center justify-center",children:[p.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Current Price"}),p.jsxs("div",{className:"text-xl font-bold text-white",children:["$",k.currentPrice.toFixed(2)]})]}),p.jsxs("div",{className:"bg-[#1C1C1E] border border-[#2A2A2A] rounded-xl p-3 flex flex-col items-center justify-center",children:[p.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Total Options"}),p.jsx("div",{className:"text-xl font-bold text-gray-300",children:k.totalOptions})]}),p.jsxs("div",{className:"bg-[#1C1C1E] border border-[#2A2A2A] rounded-xl p-3 flex flex-col items-center justify-center",children:[p.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Filtered"}),p.jsx("div",{className:"text-xl font-bold text-accent-green",children:k.filteredCount})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 animate-fade-in",children:b.map((I,H)=>p.jsxs("div",{className:"group bg-[#1C1C1E] border border-[#2A2A2A] rounded-xl p-4 hover:border-accent-green/30 transition-all hover:shadow-[0_4px_20px_-10px_rgba(208,253,62,0.1)] relative",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:`text-lg font-bold ${I.type==="Call"?"text-green-400":"text-red-400"}`,children:[I.strike," ",I.type==="Call"?"C":"P"]}),p.jsx("span",{className:"text-xs font-mono text-gray-500 bg-[#2C2C2E] px-1.5 py-0.5 rounded",children:I.expiration})]}),p.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1.5 mt-0.5",children:[p.jsxs("span",{children:[I.dte," DTE"]}),p.jsx("span",{children:""}),p.jsxs("span",{children:["Vol: ",I.liquidity.volume]}),p.jsx("span",{children:""}),p.jsxs("span",{children:["OI: ",I.liquidity.openInterest]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:`text-2xl font-black ${C(I.score)}`,children:I.score}),p.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-medium",children:"OSS Score"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-400 mb-0.5",children:"Price"}),p.jsxs("div",{className:"text-lg font-semibold text-white",children:["$",I.price.toFixed(2)]}),p.jsxs("div",{className:"text-[10px] text-gray-500 flex gap-1 items-center",children:[p.jsx("span",{className:"text-gray-400",children:"IV:"})," ",W(I.greeks.iv)]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-400 mb-0.5",children:"Metrics"}),p.jsxs("div",{className:"flex flex-col gap-0.5",children:[p.jsxs("div",{className:"flex justify-between text-xs",children:[p.jsx("span",{className:"text-gray-500",children:"Delta"}),p.jsx("span",{className:Math.abs(I.greeks.delta)>.5?"text-white font-medium":"text-gray-400",children:I.greeks.delta.toFixed(3)})]}),p.jsxs("div",{className:"flex justify-between text-xs",children:[p.jsx("span",{className:"text-gray-500",children:"Theta"}),p.jsx("span",{className:"text-red-400/80",children:I.greeks.theta.toFixed(3)})]}),n==="long"&&I.metrics.lambda&&p.jsxs("div",{className:"flex justify-between text-xs",children:[p.jsx("span",{className:"text-gray-500",children:"Lambda"}),p.jsx("span",{className:"text-accent-green",children:I.metrics.lambda.toFixed(1)})]})]})]})]}),p.jsxs("button",{onClick:()=>e==null?void 0:e({ticker:t,strike:I.strike,type:I.type,expiration:I.expiration,entry_score:I.score,current_score:I.score,current_price:I.price}),className:"w-full bg-[#2C2C2E] hover:bg-[#3A3A3C] text-gray-300 hover:text-white py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2 group-hover:bg-accent-green group-hover:text-black",children:[p.jsx(lD,{size:16}),"Add to Watchlist"]})]},`${I.symbol}-${H}`))}),b.length===0&&!S&&!E&&p.jsxs("div",{className:"text-center py-20 text-gray-500",children:[p.jsx(Ya,{size:48,className:"mx-auto mb-4 opacity-20"}),p.jsx("p",{className:"text-lg font-medium",children:"No results found"}),p.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search for a different ticker."})]})]})},XH=({recommendation:e,currentPrice:t,isCredit:r})=>{const n=e;if(!n.shortLeg||!n.longLeg)return null;const i=300,a=150,s=20,o=Math.min(n.shortLeg.strike,n.longLeg.strike),l=Math.max(n.shortLeg.strike,n.longLeg.strike),u=l-o,c=o-u*.5,d=l+u*.5,f=b=>s+(b-c)/(d-c)*(i-2*s),h=Math.max(n.maxProfit,n.maxRisk),v=b=>a/2-b/h*(a/2-s),m=b=>{const _=n.type.includes("Put")?"Put":"Call",k=_==="Call"?Math.max(0,b-n.shortLeg.strike):Math.max(0,n.shortLeg.strike-b),P=_==="Call"?Math.max(0,b-n.longLeg.strike):Math.max(0,n.longLeg.strike-b);let S=0;return r?S=(n.netCredit||0)-(k-P):S=P-k-(n.netDebit||0),S},g=[];for(let b=c;b<=d;b+=(d-c)/20)g.push(`${f(b)},${v(m(b))}`);const y=`M ${g.join(" L ")}`,w=`payoffGradient-${r?"credit":"debit"}-${o}`;return p.jsx("div",{className:"flex flex-col items-center",children:p.jsxs("svg",{width:i,height:a,className:"overflow-visible",children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:w,x1:"0",x2:"0",y1:"0",y2:"1",children:[p.jsx("stop",{offset:"0%",stopColor:"#4ade80",stopOpacity:"0.4"}),p.jsx("stop",{offset:"100%",stopColor:"#f87171",stopOpacity:"0.4"})]})}),p.jsx("line",{x1:s,y1:a/2,x2:i-s,y2:a/2,stroke:"#4B5563",strokeDasharray:"4"}),p.jsx("path",{d:y,fill:"none",stroke:r?"#4ade80":"#60a5fa",strokeWidth:"3"}),p.jsx("line",{x1:f(t),y1:0,x2:f(t),y2:a,stroke:"#fbbf24",strokeWidth:"1.5",strokeDasharray:"2"}),p.jsx("text",{x:f(t),y:a+15,textAnchor:"middle",fill:"#fbbf24",fontSize:"10",fontWeight:"bold",children:"NOW"}),p.jsxs("text",{x:f(o),y:a/2+15,textAnchor:"middle",fill:"#9ca3af",fontSize:"10",children:["$",o]}),p.jsxs("text",{x:f(l),y:a/2+15,textAnchor:"middle",fill:"#9ca3af",fontSize:"10",children:["$",l]})]})})},QH=({onAddToWatchlist:e})=>{var k,P;const[t,r]=x.useState("SPY"),[n,i]=x.useState("BULL"),[a,s]=x.useState(30),[o,l]=x.useState(!1),[u,c]=x.useState(""),[d,f]=x.useState(null),[h,v]=x.useState(null),[m,g]=x.useState("RECOMMENDED"),y=async()=>{if(t){l(!0),c(""),f(null),v(null);try{const S=await fetch(`/api/strategy-recommend?ticker=${t}&direction=${n}&targetDte=${a}`),O=await S.json();if(!S.ok)throw new Error(O.error||"Failed to fetch recommendations");f(O),g(O.recommendedStrategy)}catch(S){c(S.message)}finally{l(!1)}}},w=S=>"shortLeg"in S&&"longLeg"in S&&"width"in S,b=S=>S>=75?"text-green-400":S>=60?"text-yellow-400":S>=45?"text-orange-400":"text-red-400",_=async S=>{if(!e)return;const O=w(S);let E;if(O){const T=S.type.includes("Call")?"Call":"Put";E=[{side:"short",strike:S.shortLeg.strike,type:T,expiration:S.shortLeg.expiration},{side:"long",strike:S.longLeg.strike,type:T,expiration:S.longLeg.expiration}]}const j={ticker:d.context.ticker,strike:O?S.shortLeg.strike:S.strike,type:S.type,expiration:O?S.shortLeg.expiration:S.expiration,setup:`Strategy Rec: ${d.regime.advice.split(":")[0]}`,entry_score:S.score,ideal_entry:O?S.netCredit||S.netDebit:S.price,target_price:0,stop_reason:`Algorithm Rec: ${S.whyThis}`,notes:O?`EV: $${S.expectedValue||"0"}. Width: $${S.width}`:`Delta: ${S.delta}`,legs:E};await e(j),v(null)};return p.jsxs("div",{className:"fade-in pb-24 sm:pb-0 font-sans",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[p.jsx(Op,{className:"text-accent-green"}),"Strategy Recommender"]}),p.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Smart strategy selection based on IV regime"})]}),p.jsx("div",{className:"bg-[#1C1C1E] border border-[#2A2A2A] rounded-xl p-6 mb-6 shadow-sm",children:p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"text-xs text-gray-400 font-medium mb-1.5 block uppercase tracking-wider",children:"Ticker Symbol"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:t,onChange:S=>r(S.target.value.toUpperCase()),className:"w-full bg-[#000] border border-[#333] text-white rounded-lg pl-10 pr-4 py-3 focus:outline-none focus:border-accent-green text-lg font-bold tracking-wide placeholder-gray-600 transition-colors",placeholder:"e.g. SPY",onKeyDown:S=>S.key==="Enter"&&y()}),p.jsx(Ya,{className:"absolute left-3 top-3.5 text-gray-500",size:20})]})]}),p.jsxs("div",{className:"w-full md:w-64",children:[p.jsx("label",{className:"text-xs text-gray-400 font-medium mb-1.5 block uppercase tracking-wider",children:"Market Bias"}),p.jsxs("div",{className:"flex bg-[#000] p-1 rounded-lg border border-[#333]",children:[p.jsxs("button",{onClick:()=>i("BULL"),className:`flex-1 py-2.5 rounded-md text-sm font-bold flex items-center justify-center gap-2 transition-all ${n==="BULL"?"bg-[#1a4d2e] text-green-400 shadow-sm border border-green-500/30":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx(fx,{size:16}),"BULL "]}),p.jsxs("button",{onClick:()=>i("BEAR"),className:`flex-1 py-2.5 rounded-md text-sm font-bold flex items-center justify-center gap-2 transition-all ${n==="BEAR"?"bg-[#4d1a1a] text-red-400 shadow-sm border border-red-500/30":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx(dx,{size:16}),"BEAR "]})]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-end",children:[p.jsxs("div",{className:"w-full md:flex-1",children:[p.jsx("label",{className:"text-xs text-gray-400 font-medium mb-1.5 block uppercase tracking-wider",children:"Target Expiration (DTE)"}),p.jsx("div",{className:"grid grid-cols-4 gap-2 bg-[#000] p-1 rounded-lg border border-[#333]",children:[{label:"Short",val:14,text:"14-30d"},{label:"Med",val:30,text:"30-45d"},{label:"Long",val:45,text:"45-90d"},{label:"Leaps",val:90,text:"90d+"}].map(S=>p.jsx("button",{onClick:()=>s(S.val),className:`py-2 rounded px-2 text-xs font-bold transition-all ${a===S.val?"bg-[#3A3A3C] text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{children:S.label}),p.jsx("span",{className:"text-[10px] font-normal opacity-70",children:S.text})]})},S.val))})]}),p.jsx("div",{className:"w-full md:w-auto",children:p.jsxs("button",{onClick:y,disabled:o||!t,className:"w-full md:w-auto bg-purple-600 hover:bg-purple-500 text-white font-bold py-3.5 px-8 rounded-lg transition-all shadow-lg shadow-purple-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[140px]",children:[o?p.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):p.jsx(Op,{size:20}),"Analyze Strategy"]})})]})]})}),u&&p.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-4 rounded-xl mb-6 flex items-center gap-3",children:[p.jsx(rD,{size:24}),p.jsx("span",{className:"font-medium",children:u})]}),d&&p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsx("div",{className:`border rounded-xl p-5 relative overflow-hidden ${d.regime.mode==="CREDIT"?"bg-red-900/10 border-red-500/30":d.regime.mode==="DEBIT"?"bg-green-900/10 border-green-500/30":"bg-[#1C1C1E] border-[#2A2A2A]"}`,children:p.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-3",children:[d.context.ticker,p.jsxs("span",{className:"text-lg font-normal text-gray-400 font-mono",children:["$",d.context.currentPrice.toFixed(2)]}),p.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded border ${d.context.direction==="BULL"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:[d.context.direction," ",d.context.direction==="BULL"?"":""]})]}),p.jsxs("p",{className:`mt-2 font-medium flex items-center gap-2 ${d.regime.mode==="CREDIT"?"text-red-400":d.regime.mode==="DEBIT"?"text-green-400":"text-gray-300"}`,children:[d.regime.mode==="CREDIT"&&p.jsx(dx,{size:18}),d.regime.mode==="DEBIT"&&p.jsx(fx,{size:18}),d.regime.advice]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-sm text-gray-400 font-medium uppercase tracking-wider mb-1",children:"IV Ratio"}),p.jsxs("div",{className:"text-3xl font-mono font-bold text-white mb-1",children:[d.regime.ivRatio.toFixed(3),p.jsx(yt,{label:"",explanation:"IV30 / IV90. Ratio < 0.95 suggests Contango (Cheap short-term IV). Ratio > 1.05 suggests Backwardation (Expensive short-term IV)."})]}),p.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:["IV30: ",d.regime.iv30,"% | IV90: ",d.regime.iv90,"%"]})]})]})}),p.jsx("div",{className:"flex border-b border-[#2A2A2A] gap-6",children:[{id:"CREDIT_SPREAD",label:"Credit Spreads"},{id:"DEBIT_SPREAD",label:"Debit Spreads"},{id:"SINGLE_LEG",label:"Long Options"}].map(S=>p.jsxs("button",{onClick:()=>{g(S.id),v(null)},className:`pb-3 text-sm font-bold relative transition-colors ${m===S.id?"text-white":"text-gray-500 hover:text-gray-300"}`,children:[S.label,d.recommendedStrategy===S.id&&p.jsx("span",{className:"ml-2 bg-accent-green/20 text-accent-green text-[10px] px-1.5 py-0.5 rounded-sm border border-accent-green/30",children:" Recommended"}),m===S.id&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-accent-green shadow-[0_0_10px_rgba(208,253,62,0.5)]"})]},S.id))}),p.jsxs("div",{className:"space-y-4",children:[((k=d.strategies[m])==null?void 0:k.length)===0&&p.jsxs("div",{className:"text-center py-10 text-gray-500",children:[p.jsx(Ya,{size:32,className:"mx-auto mb-2 opacity-20"}),"No results found for this strategy with current filters."]}),(P=d.strategies[m])==null?void 0:P.map((S,O)=>{var E,j,T,C,W,I,H,J,X,R,$;return p.jsxs("div",{className:`bg-[#1C1C1E] border border-[#2A2A2A] rounded-xl overflow-hidden transition-all duration-300 ${h===O?"ring-1 ring-accent-green/50 shadow-lg shadow-green-900/10":"hover:border-[#444]"}`,children:[p.jsxs("div",{className:"p-5 cursor-pointer flex flex-col md:flex-row justify-between items-start md:items-center gap-4",onClick:()=>v(h===O?null:O),children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[p.jsx("div",{className:`text-4xl font-black ${b(S.score)}`,children:S.score}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-lg text-white",children:S.type}),p.jsx("div",{className:"text-sm text-gray-400 font-mono",children:w(S)?p.jsxs("span",{className:"flex items-center gap-2",children:["$",(E=S.shortLeg)==null?void 0:E.strike," / $",(j=S.longLeg)==null?void 0:j.strike,"  ",((T=S.shortLeg)==null?void 0:T.expiration)||((C=S.longLeg)==null?void 0:C.expiration)]}):p.jsxs("span",{className:"flex items-center gap-2",children:["$",S.strike,"  ",S.expiration]})})]})]}),p.jsx("div",{className:"flex flex-wrap gap-x-6 gap-y-2 mt-3 text-sm",children:w(S)?p.jsxs(p.Fragment,{children:[S.netCredit&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Credit"}),p.jsxs("span",{className:"text-accent-green font-mono font-bold",children:["$",S.netCredit]})]}),S.netDebit&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Debit"}),p.jsxs("span",{className:"text-white font-mono font-bold",children:["$",S.netDebit]})]}),S.roi&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"ROI"}),p.jsxs("span",{className:"text-accent-green font-mono font-bold",children:[S.roi,"%"]})]}),S.pop&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"POP"}),p.jsxs("span",{className:"text-white font-mono font-bold",children:[S.pop,"%"]})]}),S.riskReward&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"R:R"}),p.jsx("span",{className:"text-accent-green font-mono font-bold",children:S.riskReward})]}),S.expectedValue!==void 0&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"EV"}),p.jsxs("span",{className:`font-mono font-bold ${S.expectedValue>0?"text-green-400":"text-red-400"}`,children:["$",S.expectedValue]})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Max Risk"}),p.jsxs("span",{className:"text-red-400 font-mono font-bold",children:["$",S.maxRisk]})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Delta"}),p.jsx("span",{className:"text-white font-mono font-bold",children:(W=S.delta)==null?void 0:W.toFixed(2)})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Lambda"}),p.jsx("span",{className:"text-accent-green font-mono font-bold",children:(I=S.lambda)==null?void 0:I.toFixed(1)})]})]})})]}),p.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[p.jsx("div",{className:`text-2xl transition-transform ${h===O?"rotate-180":""}`,children:p.jsx(Sk,{size:24,className:"text-gray-500"})}),w(S)&&p.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["Width: $",S.width]})]})]}),p.jsxs("div",{className:"bg-[#2C2C2E] px-5 py-2 flex items-center gap-2 border-t border-[#3A3A3C]",children:[p.jsx(Pk,{size:14,className:"text-yellow-500"}),p.jsx("span",{className:"text-sm text-gray-300 italic",children:S.whyThis})]}),h===O&&p.jsxs("div",{className:"p-5 border-t border-[#3A3A3C] bg-black/20",children:[w(S)?p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-4",children:"Payoff at Expiration"}),p.jsx(XH,{recommendation:S,currentPrice:d.context.currentPrice,isCredit:d.regime.mode!=="DEBIT"&&!S.type.includes("Debit")})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Leg Details"}),S.shortLeg&&p.jsxs("div",{className:"bg-red-500/5 border border-red-500/20 rounded-lg p-3",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:"text-red-400 font-bold text-xs uppercase",children:"Short (Sell)"}),p.jsxs("span",{className:"font-mono text-white",children:["$",S.shortLeg.strike]})]}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[p.jsxs("span",{children:[" ",S.shortLeg.delta]}),p.jsxs("span",{children:["Price: $",S.shortLeg.price]})]}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-1 border-t border-white/5",children:[p.jsxs("span",{children:["Vol: ",S.shortLeg.volume]}),p.jsxs("span",{children:["OI: ",S.shortLeg.openInterest]})]})]}),S.longLeg&&p.jsxs("div",{className:"bg-green-500/5 border border-green-500/20 rounded-lg p-3",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:"text-green-400 font-bold text-xs uppercase",children:"Long (Buy)"}),p.jsxs("span",{className:"font-mono text-white",children:["$",S.longLeg.strike]})]}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[p.jsxs("span",{children:[" ",S.longLeg.delta]}),p.jsxs("span",{children:["Price: $",S.longLeg.price]})]}),p.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-1 border-t border-white/5",children:[p.jsxs("span",{children:["Vol: ",S.longLeg.volume]}),p.jsxs("span",{children:["OI: ",S.longLeg.openInterest]})]})]}),p.jsxs("div",{className:"pt-2 border-t border-white/5 flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-400",children:"Breakeven"}),p.jsxs("span",{className:"text-white font-mono font-bold",children:["$",S.breakeven.toFixed(2)]})]})]})]}):p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"p-3 bg-[#222] rounded-lg",children:[p.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Delta"}),p.jsx("div",{className:"text-white font-mono",children:(H=S.delta)==null?void 0:H.toFixed(2)})]}),p.jsxs("div",{className:"p-3 bg-[#222] rounded-lg",children:[p.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Gamma"}),p.jsx("div",{className:"text-white font-mono",children:(J=S.gamma)==null?void 0:J.toFixed(4)})]}),p.jsxs("div",{className:"p-3 bg-[#222] rounded-lg",children:[p.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Theta"}),p.jsx("div",{className:"text-red-400 font-mono",children:(X=S.theta)==null?void 0:X.toFixed(4)})]}),p.jsxs("div",{className:"p-3 bg-[#222] rounded-lg",children:[p.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Vega"}),p.jsx("div",{className:"text-white font-mono",children:(R=S.vega)==null?void 0:R.toFixed(4)})]}),p.jsx("div",{className:"p-3 bg-[#222] rounded-lg col-span-2 md:col-span-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Volume"}),p.jsx("div",{className:"text-white font-mono",children:S.volume})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Open Int"}),p.jsx("div",{className:"text-white font-mono",children:S.openInterest})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Gamma Eff"}),p.jsx("div",{className:"text-accent-green font-mono",children:($=S.gammaEff)==null?void 0:$.toFixed(4)})]})]})})]}),p.jsx("div",{className:"mt-6 pt-4 border-t border-[#3A3A3C] flex justify-end",children:p.jsxs("button",{onClick:L=>{L.stopPropagation(),_(S)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 rounded-lg text-sm font-bold transition-all border border-blue-500/30 hover:border-blue-500/50",children:[p.jsx(nD,{size:16}),"Add to Watchlist"]})})]})]},O)})]})]})]})},JH=({positions:e,transactions:t,loading:r,onDelete:n})=>{const i=e.filter(o=>o.status==="closed"),a=o=>{const l=t.filter(m=>m.position_id===o.id);let u=0,c=0,d=0;l.forEach(m=>{const g=m.price*Kn;m.quantity>0?(u+=m.quantity,c+=m.quantity*g):d+=Math.abs(m.quantity)*g});const f=d-c,h=c>0?f/c*100:0,v=o.closed_at&&o.created_at?Math.ceil((new Date(o.closed_at).getTime()-new Date(o.created_at).getTime())/864e5):0;return{pnl:f,pnlPct:h,holdDays:v}},s=x.useMemo(()=>{let o=0,l=0,u=0;i.forEach(d=>{const{pnl:f}=a(d);o+=f,f>=0?l++:u++});const c=i.length>0?l/i.length*100:0;return{totalPnL:o,wins:l,losses:u,winRate:c}},[i,t]);return r?p.jsx(bd,{}):p.jsxs("div",{className:"fade-in pb-24 sm:pb-0",children:[i.length>0&&p.jsxs("div",{className:"space-y-3 mb-6",children:[p.jsxs("div",{className:"card p-4",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-1",children:"Total P&L"}),p.jsxs("div",{className:`text-3xl font-bold font-mono ${s.totalPnL>=0?"text-accent-green":"text-accent-red"}`,children:[s.totalPnL>=0?"+":"-","$",Math.abs(s.totalPnL).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsxs("div",{className:"card p-4",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-1",children:"Win Rate"}),p.jsxs("div",{className:`text-xl font-bold ${s.winRate>=50?"text-accent-green":"text-accent-red"}`,children:[s.winRate.toFixed(0),"%"]})]}),p.jsxs("div",{className:"card p-4",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-1",children:"Wins"}),p.jsx("div",{className:"text-xl font-bold text-accent-green",children:s.wins})]}),p.jsxs("div",{className:"card p-4",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-1",children:"Losses"}),p.jsx("div",{className:"text-xl font-bold text-accent-red",children:s.losses})]})]})]}),p.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Trade History"}),i.length===0?p.jsxs("div",{className:"text-center py-16 text-text-secondary",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-bg-tertiary flex items-center justify-center",children:p.jsx(kk,{size:32,strokeWidth:1.5})}),p.jsx("p",{children:"No closed trades yet"})]}):p.jsx("div",{className:"space-y-3",children:i.map(o=>{const{pnl:l,pnlPct:u,holdDays:c}=a(o),d=l>=0;return p.jsx("div",{className:"card p-5 fade-in",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[p.jsx("span",{className:"text-xl font-bold",children:o.ticker}),p.jsx("span",{className:`badge ${o.type==="Call"?"badge-green":"badge-red"}`,children:o.type}),p.jsx("span",{className:`badge ${d?"badge-green":"badge-red"} flex items-center gap-1`,children:d?p.jsxs(p.Fragment,{children:[p.jsx(iD,{size:12})," Win"]}):"Loss"})]}),p.jsxs("div",{className:"text-text-secondary text-sm",children:[p.jsxs("span",{className:"font-mono",children:["$",o.strike]}),p.jsx("span",{className:"mx-2",children:""}),p.jsx("span",{children:o.setup}),p.jsx("span",{className:"mx-2",children:""}),p.jsxs("span",{children:[c,"d held"]})]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-3",children:[p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:`big-number ${d?"text-accent-green":"text-accent-red"}`,children:xk(u)}),p.jsxs("div",{className:`text-sm font-mono ${d?"text-accent-green":"text-accent-red"}`,children:[l>=0?"+":"",$i(l)]})]}),p.jsxs("button",{onClick:f=>{f.stopPropagation(),n(o.id)},className:"p-1.5 text-text-tertiary hover:text-accent-red hover:bg-accent-red/10 rounded-lg transition-colors cursor-pointer flex items-center gap-1 text-xs",title:"Delete Record",children:[p.jsx(Sm,{size:14}),p.jsx("span",{children:"Delete"})]})]})]})},o.id)})})]})},ZH=({positions:e,transactions:t,loading:r})=>{const n=e.filter(a=>a.status==="closed"),i=x.useMemo(()=>{let a=0,s=0,o=0,l=0,u=0;const c={};n.forEach(m=>{const g=t.filter(_=>_.position_id===m.id);let y=0,w=0;g.forEach(_=>{const k=_.price*Kn;_.quantity>0?y+=_.quantity*k:w+=Math.abs(_.quantity)*k});const b=w-y;a+=b,b>=0?(s++,l+=b):(o++,u+=b),c[m.setup]||(c[m.setup]={wins:0,losses:0,pnl:0}),c[m.setup].pnl+=b,b>=0?c[m.setup].wins++:c[m.setup].losses++});const d=n.length>0?s/n.length*100:0,f=s>0?l/s:0,h=o>0?u/o:0,v=u!==0?Math.abs(l/u):l>0?1/0:0;return{totalPnL:a,wins:s,losses:o,winRate:d,avgWin:f,avgLoss:h,profitFactor:v,setupStats:c}},[n,t]);return r?p.jsx(bd,{}):p.jsxs("div",{className:"fade-in pb-24 sm:pb-0",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Performance Stats"}),n.length===0?p.jsxs("div",{className:"text-center py-16 text-text-secondary",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-bg-tertiary flex items-center justify-center",children:p.jsx(bk,{size:32,strokeWidth:1.5})}),p.jsx("p",{children:"Complete some trades to see your stats"})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[p.jsxs("div",{className:"card p-5",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-2",children:"Total P&L"}),p.jsxs("div",{className:`text-3xl font-bold font-mono ${i.totalPnL>=0?"text-accent-green":"text-accent-red"}`,children:[i.totalPnL>=0?"+":"",$i(i.totalPnL)]})]}),p.jsxs("div",{className:"card p-5",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-2",children:"Win Rate"}),p.jsxs("div",{className:`text-3xl font-bold ${i.winRate>=50?"text-accent-green":"text-accent-red"}`,children:[i.winRate.toFixed(1),"%"]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[p.jsxs("div",{className:"card p-4",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-1",children:"Avg Win"}),p.jsx("div",{className:"text-xl font-bold font-mono text-accent-green",children:$i(i.avgWin)})]}),p.jsxs("div",{className:"card p-4",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-1",children:"Avg Loss"}),p.jsx("div",{className:"text-xl font-bold font-mono text-accent-red",children:$i(Math.abs(i.avgLoss))})]}),p.jsxs("div",{className:"card p-4",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-1",children:"Profit Factor"}),p.jsx("div",{className:`text-xl font-bold ${i.profitFactor>=1?"text-accent-green":"text-accent-red"}`,children:i.profitFactor===1/0?"":i.profitFactor.toFixed(2)})]}),p.jsxs("div",{className:"card p-4",children:[p.jsx("div",{className:"text-text-tertiary text-xs uppercase tracking-wider mb-1",children:"Total Trades"}),p.jsx("div",{className:"text-xl font-bold",children:n.length})]})]}),p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"By Setup"}),p.jsx("div",{className:"space-y-3",children:Object.entries(i.setupStats).sort((a,s)=>s[1].pnl-a[1].pnl).map(([a,s])=>{const o=s.wins+s.losses,l=o>0?s.wins/o*100:0;return p.jsxs("div",{className:"card p-4 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:a}),p.jsxs("div",{className:"text-text-secondary text-sm",children:[s.wins,"W / ",s.losses,"L  ",l.toFixed(0),"%"]})]}),p.jsxs("div",{className:`text-xl font-bold font-mono ${s.pnl>=0?"text-accent-green":"text-accent-red"}`,children:[s.pnl>=0?"+":"",$i(s.pnl)]})]},a)})})]})]})},eV=({position:e,onConfirm:t,onCancel:r})=>{const[n,i]=x.useState(1),[a,s]=x.useState(""),[o,l]=x.useState(!1);return p.jsx("div",{className:"fixed inset-0 modal-overlay flex items-center justify-center p-4 z-[100]",children:p.jsxs("div",{className:"card p-6 w-full max-w-md fade-in",children:[p.jsx("h3",{className:"text-xl font-bold mb-4",children:"Open Position"}),p.jsxs("div",{className:"mb-4 p-4 bg-bg-tertiary rounded-xl",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-lg font-bold",children:e.ticker}),p.jsx("span",{className:`badge ${e.type==="Call"?"badge-green":"badge-red"}`,children:e.type})]}),p.jsxs("div",{className:"text-text-secondary text-sm",children:["$",e.strike,"  ",sc(e.expiration)]})]}),p.jsxs("div",{className:"space-y-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-text-secondary block mb-2",children:"Quantity"}),p.jsx("input",{type:"number",min:"1",value:n,onChange:u=>i(parseInt(u.target.value)||1),className:"w-full px-4 py-3 rounded-xl font-mono","aria-label":"Quantity"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-text-secondary block mb-2",children:"Entry Price"}),p.jsx("input",{type:"number",step:"0.01",value:a,onChange:u=>s(u.target.value),className:"w-full px-4 py-3 rounded-xl font-mono","aria-label":"Entry price",autoFocus:!0,required:!0})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:r,className:"flex-1 py-3 btn-secondary rounded-xl cursor-pointer",children:"Cancel"}),p.jsx("button",{onClick:async()=>{l(!0),await t(n,parseFloat(a)),l(!1)},disabled:!a||o,className:"flex-1 py-3 btn-primary rounded-xl cursor-pointer",children:o?"...":"Confirm"})]})]})})};function tV(){const[e,t]=x.useState(null),[r,n]=x.useState(!0),[i,a]=x.useState("scanner"),[s,o]=x.useState([]),[l,u]=x.useState([]),[c,d]=x.useState(!0),[f,h]=x.useState(null);x.useEffect(()=>{we.auth.getSession().then(({data:{session:T}})=>{t(T),n(!1)});const{data:{subscription:j}}=we.auth.onAuthStateChange((T,C)=>{t(C)});return()=>j.unsubscribe()},[]);const v=!!e,m=x.useCallback(async()=>{if(!v)return;const{data:j}=await we.from("positions").select("*"),{data:T}=await we.from("transactions").select("*");j&&o(j),T&&u(T),d(!1)},[v]);x.useEffect(()=>{m();const j=we.channel("positions").on("postgres_changes",{event:"*",schema:"public",table:"positions"},m).subscribe(),T=we.channel("transactions").on("postgres_changes",{event:"*",schema:"public",table:"transactions"},m).subscribe();return()=>{we.removeChannel(j),we.removeChannel(T)}},[m]);const g=()=>{},y=async()=>{await we.auth.signOut()},w=async(j,T)=>{await we.from("transactions").insert([{position_id:j,type:T.type,quantity:T.quantity,price:T.price,note:T.type}]),(T.type==="Close"||T.type==="Size Down"&&T.quantity===0)&&T.type==="Close"&&await we.from("positions").update({status:"closed",closed_at:new Date().toISOString()}).eq("id",j)},b=async(j,T)=>{await we.from("positions").update({current_score:T,score_updated_at:new Date().toISOString()}).eq("id",j),m()},_=async(j,T)=>{await we.from("positions").update({current_price:T}).eq("id",j)},k=async(j,T)=>{await we.from("positions").update({target_price:T}).eq("id",j),m()},P=async j=>{const{data:T,error:C}=await we.from("positions").insert([{ticker:j.ticker,strike:j.strike,type:j.type,expiration:j.expiration,setup:j.setup,status:"active",entry_score:j.entry_score,current_score:j.entry_score,score_updated_at:new Date().toISOString(),notes:j.ticker+" "+j.type,stop_reason:j.stop_reason}]).select();T&&T[0]?await we.from("transactions").insert([{position_id:T[0].id,type:"Open",quantity:j.quantity,price:j.entry_price,note:"Initial Entry"}]):C&&console.error(C)},S=async j=>{console.log("Adding to watchlist:",j);const{error:T}=await we.from("positions").insert([{ticker:j.ticker,strike:j.strike,type:j.type,expiration:j.expiration,setup:j.setup,status:"watchlist",entry_score:j.entry_score,ideal_entry:j.ideal_entry,target_price:j.target_price,stop_reason:j.stop_reason,notes:j.notes,legs:j.legs}]);T?(console.error("Error adding to watchlist:",T),alert(`Error adding to watchlist: ${T.message}`)):(console.log("Successfully added to watchlist"),m())},O=j=>{h(j)},E=async j=>{if(window.confirm("Are you sure you want to permanently delete this position? This cannot be undone.")){console.log("Deleting position:",j);const{error:T}=await we.from("positions").delete().eq("id",j);T?(console.error("Error deleting position:",T),alert(`Error deleting position: ${T.message}`)):(console.log("Successfully deleted position"),m())}};return r?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bg-primary",children:p.jsx("div",{className:"spinner"})}):v?p.jsxs("div",{className:"min-h-screen bg-bg-primary",children:[p.jsx("div",{className:"sticky top-0 z-40 bg-black/85 backdrop-blur-xl border-b border-white/10",style:{paddingTop:"env(safe-area-inset-top)"},children:p.jsxs("div",{className:"mx-auto px-4 py-3 flex justify-between items-center max-w-4xl",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Trading Journal"}),p.jsx("button",{onClick:y,className:"text-text-tertiary text-sm hover:text-text-secondary transition-colors",children:"Logout"})]})}),p.jsxs("div",{className:"mx-auto px-4 py-6 pb-24 sm:pb-6 max-w-4xl",children:[p.jsx(cD,{activeTab:i,setActiveTab:a}),i==="portfolio"&&p.jsx(HH,{positions:s,transactions:l,onAction:w,onUpdateScore:b,onUpdatePrice:_,onUpdateTarget:k,onAddDirect:P,onDelete:E,loading:c}),i==="watchlist"&&p.jsx(GH,{positions:s,onAddToWatchlist:S,onMoveToActive:O,onDelete:E,loading:c}),i==="scanner"&&p.jsx(YH,{onAddToWatchlist:S}),i==="strategy"&&p.jsx(QH,{onAddToWatchlist:S}),i==="history"&&p.jsx(JH,{positions:s,transactions:l,loading:c,onDelete:E}),i==="stats"&&p.jsx(ZH,{positions:s,transactions:l,loading:c})]}),f&&p.jsx(eV,{position:f,onConfirm:async(j,T)=>{await we.from("positions").update({status:"active",current_score:f.entry_score,score_updated_at:new Date().toISOString()}).eq("id",f.id),await we.from("transactions").insert([{position_id:f.id,type:"Open",quantity:j,price:T,note:"Moved from Watchlist"}]),h(null),m()},onCancel:()=>h(null)})]}):p.jsx(dD,{onLogin:g})}Sh.createRoot(document.getElementById("root")).render(p.jsx(Z_.StrictMode,{children:p.jsx(tV,{})}));
